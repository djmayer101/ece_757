<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gem5: CoherentBus Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>CoherentBus Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="CoherentBus" --><!-- doxytag: inherits="BaseBus" -->
<p>A coherent bus connects a number of (potentially) snooping masters and slaves, and routes the request and response packets based on the address, and also forwards all requests to the snoopers and deals with the snoop responses.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="coherent__bus_8hh_source.html">coherent_bus.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CoherentBus:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classCoherentBus.png" usemap="#CoherentBus_map" alt=""/>
  <map id="CoherentBus_map" name="CoherentBus_map">
<area href="classBaseBus.html" alt="BaseBus" shape="rect" coords="105,224,200,248"/>
<area href="classMemObject.html" alt="MemObject" shape="rect" coords="105,168,200,192"/>
<area href="classClockedObject.html" alt="ClockedObject" shape="rect" coords="105,112,200,136"/>
<area href="classSimObject.html" alt="SimObject" shape="rect" coords="105,56,200,80"/>
<area href="classEventManager.html" alt="EventManager" shape="rect" coords="0,0,95,24"/>
<area href="classSerializable.html" alt="Serializable" shape="rect" coords="105,0,200,24"/>
<area href="classDrainable.html" alt="Drainable" shape="rect" coords="210,0,305,24"/>
</map>
</div>

<p><a href="classCoherentBus-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus_1_1CoherentBusMasterPort.html">CoherentBusMasterPort</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Declaration of the coherent bus master port type, one will be instantiated for each of the slave interfaces connecting to the bus.  <a href="classCoherentBus_1_1CoherentBusMasterPort.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus_1_1CoherentBusSlavePort.html">CoherentBusSlavePort</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Declaration of the coherent bus slave port type, one will be instantiated for each of the master ports connecting to the bus.  <a href="classCoherentBus_1_1CoherentBusSlavePort.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#aa5ce1648d61fa2bbccec17a8c5c07da7">init</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classCoherentBus.html#aa5ce1648d61fa2bbccec17a8c5c07da7" title="init() is called after all C++ SimObjects have been created and all ports are connected.">init()</a> is called after all C++ SimObjects have been created and all ports are connected.  <a href="#aa5ce1648d61fa2bbccec17a8c5c07da7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#a3a16c3045079b3a5ef098e26a78cfe76">CoherentBus</a> (const CoherentBusParams *p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#ad374a77c79bd1cd04f4fe08466db4555">drain</a> (<a class="el" href="classDrainManager.html">DrainManager</a> *dm)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Provide a default implementation of the drain interface that simply returns 0 (draining completed) and sets the drain state to Drained.  <a href="#ad374a77c79bd1cd04f4fe08466db4555"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#a0b2188b3267b975bb30f277ce09c17e5">recvTimingReq</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt, <a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> slave_port_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function called by the port when the bus is recieving a Timing request packet.  <a href="#a0b2188b3267b975bb30f277ce09c17e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#a017506b766557bac38e7dbd413010a3a">recvTimingResp</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt, <a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> master_port_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function called by the port when the bus is recieving a Timing response packet.  <a href="#a017506b766557bac38e7dbd413010a3a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#a92533f67d80bed5cf05c67b162d12b47">recvTimingSnoopReq</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt, <a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> master_port_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function called by the port when the bus is recieving a timing snoop request.  <a href="#a92533f67d80bed5cf05c67b162d12b47"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#ab80edd6cbae67314f983572d9681b25e">recvTimingSnoopResp</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt, <a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> slave_port_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function called by the port when the bus is recieving a timing snoop response.  <a href="#ab80edd6cbae67314f983572d9681b25e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#adf07d429dc5cdd90ef1f0861c24d2c83">recvRetry</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Timing function called by port when it is once again able to process requests.  <a href="#adf07d429dc5cdd90ef1f0861c24d2c83"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#a42d3e2a36835492f98918dbff7023f08">forwardTiming</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt, <a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> exclude_slave_port_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Forward a timing packet to our snoopers, potentially excluding one of the connected coherent masters to avoid sending a packet back to where it came from.  <a href="#a42d3e2a36835492f98918dbff7023f08"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#afd380f332d56bb7bd667902fb506f3c9">recvAtomic</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt, <a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> slave_port_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function called by the port when the bus is recieving a Atomic transaction.  <a href="#afd380f332d56bb7bd667902fb506f3c9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#af05ffca5e8ccb9fed8bc4ae1ae126610">recvAtomicSnoop</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt, <a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> master_port_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function called by the port when the bus is recieving an atomic snoop transaction.  <a href="#af05ffca5e8ccb9fed8bc4ae1ae126610"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1pair.html">std::pair</a>&lt; <a class="el" href="classMemCmd.html">MemCmd</a>, <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#adae681ea69227fc6dcc422ccd4246003">forwardAtomic</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt, <a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> exclude_slave_port_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Forward an atomic packet to our snoopers, potentially excluding one of the connected coherent masters to avoid sending a packet back to where it came from.  <a href="#adae681ea69227fc6dcc422ccd4246003"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#a075f40b23645c948f5bb4ffca4cc43e3">recvFunctional</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt, <a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> slave_port_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function called by the port when the bus is recieving a Functional transaction.  <a href="#a075f40b23645c948f5bb4ffca4cc43e3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#a854b4ff042a4dd0e515b50bfc38d2ff9">recvFunctionalSnoop</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt, <a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> master_port_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function called by the port when the bus is recieving a functional snoop transaction.  <a href="#a854b4ff042a4dd0e515b50bfc38d2ff9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#a47f8f88520e418f1476496a1342f0cbd">forwardFunctional</a> (<a class="el" href="classPacket.html">PacketPtr</a> pkt, <a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a> exclude_slave_port_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Forward a functional packet to our snoopers, potentially excluding one of the connected coherent masters to avoid sending a packet back to where it came from.  <a href="#a47f8f88520e418f1476496a1342f0cbd"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBaseBus_1_1Layer.html">Layer</a>&lt; <a class="el" href="classSlavePort.html">SlavePort</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#a356e124cab218092946072a58f810215">reqLayer</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Declare the three layers of this bus, one for requests, one for responses, and one for snoop responses.  <a href="#a356e124cab218092946072a58f810215"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBaseBus_1_1Layer.html">Layer</a>&lt; <a class="el" href="classMasterPort.html">MasterPort</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#a2f1631c12fdbd47af791af3f11c5c2c7">respLayer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBaseBus_1_1Layer.html">Layer</a>&lt; <a class="el" href="classSlavePort.html">SlavePort</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#ad6daa17b2441db225e587993bc6f1167">snoopRespLayer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt; <a class="el" href="classSlavePort.html">SlavePort</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#ae7408442ea760aa3577e9e9b0157a681">snoopPorts</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="classRequest.html">RequestPtr</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#a3fd38531577d84e4e32c8216204cdb4a">outstandingReq</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Store the outstanding requests so we can determine which ones we generated and which ones were merely forwarded.  <a href="#a3fd38531577d84e4e32c8216204cdb4a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSystem.html">System</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCoherentBus.html#a7c7215e78627db1adc6b24dfbf228119">system</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Keep a pointer to the system to be allow to querying memory system properties.  <a href="#a7c7215e78627db1adc6b24dfbf228119"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A coherent bus connects a number of (potentially) snooping masters and slaves, and routes the request and response packets based on the address, and also forwards all requests to the snoopers and deals with the snoop responses. </p>
<p>The coherent bus can be used as a template for modelling QPI, HyperTransport, ACE and coherent OCP buses, and is typically used for the L1-to-L2 buses and as the main system interconnect. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="gem5MemorySystem.html">gem5 Memory System</a> </dd></dl>

<p>Definition at line <a class="el" href="coherent__bus_8hh_source.html#l00068">68</a> of file <a class="el" href="coherent__bus_8hh_source.html">coherent_bus.hh</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3a16c3045079b3a5ef098e26a78cfe76"></a><!-- doxytag: member="CoherentBus::CoherentBus" ref="a3a16c3045079b3a5ef098e26a78cfe76" args="(const CoherentBusParams *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CoherentBus::CoherentBus </td>
          <td>(</td>
          <td class="paramtype">const CoherentBusParams *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="coherent__bus_8cc_source.html#l00057">57</a> of file <a class="el" href="coherent__bus_8cc_source.html">coherent_bus.cc</a>.</p>

<p>References <a class="el" href="bus_8hh_source.html#l00295">BaseBus::clearPortCache()</a>, <a class="el" href="cprintf_8hh_source.html#l00154">csprintf()</a>, <a class="el" href="bus_8hh_source.html#l00345">BaseBus::defaultPortID</a>, <a class="el" href="arm_2miscregs_8hh_source.html#l00342">ArmISA::i</a>, <a class="el" href="bus_8hh_source.html#l00336">BaseBus::masterPorts</a>, <a class="el" href="sim__object_8hh_source.html#l00105">SimObject::name()</a>, and <a class="el" href="bus_8hh_source.html#l00335">BaseBus::slavePorts</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad374a77c79bd1cd04f4fe08466db4555"></a><!-- doxytag: member="CoherentBus::drain" ref="ad374a77c79bd1cd04f4fe08466db4555" args="(DrainManager *dm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int CoherentBus::drain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDrainManager.html">DrainManager</a> *&nbsp;</td>
          <td class="paramname"> <em>drainManger</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Provide a default implementation of the drain interface that simply returns 0 (draining completed) and sets the drain state to Drained. </p>

<p>Implements <a class="el" href="classBaseBus.html#ac2643bd8b0cedcc6220a209e1800a3d9">BaseBus</a>.</p>

<p>Definition at line <a class="el" href="coherent__bus_8cc_source.html#l00527">527</a> of file <a class="el" href="coherent__bus_8cc_source.html">coherent_bus.cc</a>.</p>

<p>References <a class="el" href="coherent__bus_8hh_source.html#l00077">reqLayer</a>, <a class="el" href="coherent__bus_8hh_source.html#l00078">respLayer</a>, and <a class="el" href="coherent__bus_8hh_source.html#l00079">snoopRespLayer</a>.</p>

</div>
</div>
<a class="anchor" id="adae681ea69227fc6dcc422ccd4246003"></a><!-- doxytag: member="CoherentBus::forwardAtomic" ref="adae681ea69227fc6dcc422ccd4246003" args="(PacketPtr pkt, PortID exclude_slave_port_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1pair.html">std::pair</a>&lt; <a class="el" href="classMemCmd.html">MemCmd</a>, <a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> &gt; CoherentBus::forwardAtomic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a>&nbsp;</td>
          <td class="paramname"> <em>exclude_slave_port_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Forward an atomic packet to our snoopers, potentially excluding one of the connected coherent masters to avoid sending a packet back to where it came from. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td><a class="el" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system (e...">Packet</a> to forward </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exclude_slave_port_id</em>&nbsp;</td><td>Id of slave port to exclude</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pair containing the snoop response and snoop latency </dd></dl>

<p>Definition at line <a class="el" href="coherent__bus_8cc_source.html#l00418">418</a> of file <a class="el" href="coherent__bus_8cc_source.html">coherent_bus.cc</a>.</p>

<p>References <a class="el" href="sim_2system_8hh_source.html#l00156">System::bypassCaches()</a>, <a class="el" href="packet_8hh_source.html#l00270">Packet::cmd</a>, <a class="el" href="port_8hh_source.html#l00115">Port::getId()</a>, <a class="el" href="packet_8hh_source.html#l00083">MemCmd::InvalidCmd</a>, <a class="el" href="base_2types_8hh_source.html#l00177">InvalidPortID</a>, <a class="el" href="packet_8hh_source.html#l00497">Packet::isResponse()</a>, <a class="el" href="packet_8hh_source.html#l00510">Packet::memInhibitAsserted()</a>, <a class="el" href="pra__constants_8hh_source.html#l00325">MipsISA::p</a>, <a class="el" href="dt__constants_8hh_source.html#l00081">MipsISA::s</a>, <a class="el" href="port_8cc_source.html#l00248">SlavePort::sendAtomicSnoop()</a>, <a class="el" href="coherent__bus_8hh_source.html#l00218">snoopPorts</a>, and <a class="el" href="coherent__bus_8hh_source.html#l00231">system</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8cc_source.html#l00358">recvAtomic()</a>, and <a class="el" href="coherent__bus_8cc_source.html#l00397">recvAtomicSnoop()</a>.</p>

</div>
</div>
<a class="anchor" id="a47f8f88520e418f1476496a1342f0cbd"></a><!-- doxytag: member="CoherentBus::forwardFunctional" ref="a47f8f88520e418f1476496a1342f0cbd" args="(PacketPtr pkt, PortID exclude_slave_port_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CoherentBus::forwardFunctional </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a>&nbsp;</td>
          <td class="paramname"> <em>exclude_slave_port_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Forward a functional packet to our snoopers, potentially excluding one of the connected coherent masters to avoid sending a packet back to where it came from. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td><a class="el" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system (e...">Packet</a> to forward </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exclude_slave_port_id</em>&nbsp;</td><td>Id of slave port to exclude </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="coherent__bus_8cc_source.html#l00504">504</a> of file <a class="el" href="coherent__bus_8cc_source.html">coherent_bus.cc</a>.</p>

<p>References <a class="el" href="sim_2system_8hh_source.html#l00156">System::bypassCaches()</a>, <a class="el" href="port_8hh_source.html#l00115">Port::getId()</a>, <a class="el" href="base_2types_8hh_source.html#l00177">InvalidPortID</a>, <a class="el" href="packet_8hh_source.html#l00497">Packet::isResponse()</a>, <a class="el" href="pra__constants_8hh_source.html#l00325">MipsISA::p</a>, <a class="el" href="dt__constants_8hh_source.html#l00081">MipsISA::s</a>, <a class="el" href="port_8cc_source.html#l00255">SlavePort::sendFunctionalSnoop()</a>, <a class="el" href="coherent__bus_8hh_source.html#l00218">snoopPorts</a>, and <a class="el" href="coherent__bus_8hh_source.html#l00231">system</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8cc_source.html#l00463">recvFunctional()</a>, and <a class="el" href="coherent__bus_8cc_source.html#l00489">recvFunctionalSnoop()</a>.</p>

</div>
</div>
<a class="anchor" id="a42d3e2a36835492f98918dbff7023f08"></a><!-- doxytag: member="CoherentBus::forwardTiming" ref="a42d3e2a36835492f98918dbff7023f08" args="(PacketPtr pkt, PortID exclude_slave_port_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CoherentBus::forwardTiming </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a>&nbsp;</td>
          <td class="paramname"> <em>exclude_slave_port_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Forward a timing packet to our snoopers, potentially excluding one of the connected coherent masters to avoid sending a packet back to where it came from. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td><a class="el" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system (e...">Packet</a> to forward </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exclude_slave_port_id</em>&nbsp;</td><td>Id of slave port to exclude </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="coherent__bus_8cc_source.html#l00329">329</a> of file <a class="el" href="coherent__bus_8cc_source.html">coherent_bus.cc</a>.</p>

<p>References <a class="el" href="sim_2system_8hh_source.html#l00156">System::bypassCaches()</a>, <a class="el" href="port_8hh_source.html#l00115">Port::getId()</a>, <a class="el" href="base_2types_8hh_source.html#l00177">InvalidPortID</a>, <a class="el" href="pra__constants_8hh_source.html#l00325">MipsISA::p</a>, <a class="el" href="dt__constants_8hh_source.html#l00081">MipsISA::s</a>, <a class="el" href="port_8cc_source.html#l00269">SlavePort::sendTimingSnoopReq()</a>, <a class="el" href="coherent__bus_8hh_source.html#l00218">snoopPorts</a>, and <a class="el" href="coherent__bus_8hh_source.html#l00231">system</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8cc_source.html#l00115">recvTimingReq()</a>, and <a class="el" href="coherent__bus_8cc_source.html#l00240">recvTimingSnoopReq()</a>.</p>

</div>
</div>
<a class="anchor" id="aa5ce1648d61fa2bbccec17a8c5c07da7"></a><!-- doxytag: member="CoherentBus::init" ref="aa5ce1648d61fa2bbccec17a8c5c07da7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CoherentBus::init </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classCoherentBus.html#aa5ce1648d61fa2bbccec17a8c5c07da7" title="init() is called after all C++ SimObjects have been created and all ports are connected.">init()</a> is called after all C++ SimObjects have been created and all ports are connected. </p>
<p>Initializations that are independent of unserialization but rely on a fully instantiated and connected <a class="el" href="classSimObject.html" title="Abstract superclass for simulation objects.">SimObject</a> graph should be done here. </p>

<p>Reimplemented from <a class="el" href="classBaseBus.html#a7832f2360a15567eccf057345f7d22e5">BaseBus</a>.</p>

<p>Definition at line <a class="el" href="coherent__bus_8cc_source.html#l00093">93</a> of file <a class="el" href="coherent__bus_8cc_source.html">coherent_bus.cc</a>.</p>

<p>References <a class="el" href="trace_8hh_source.html#l00129">DPRINTF</a>, <a class="el" href="sim__object_8hh_source.html#l00105">SimObject::name()</a>, <a class="el" href="pra__constants_8hh_source.html#l00325">MipsISA::p</a>, <a class="el" href="bus_8hh_source.html#l00335">BaseBus::slavePorts</a>, <a class="el" href="coherent__bus_8hh_source.html#l00218">snoopPorts</a>, and <a class="el" href="base_2misc_8hh_source.html#l00136">warn</a>.</p>

</div>
</div>
<a class="anchor" id="afd380f332d56bb7bd667902fb506f3c9"></a><!-- doxytag: member="CoherentBus::recvAtomic" ref="afd380f332d56bb7bd667902fb506f3c9" args="(PacketPtr pkt, PortID slave_port_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> CoherentBus::recvAtomic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a>&nbsp;</td>
          <td class="paramname"> <em>slave_port_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function called by the port when the bus is recieving a Atomic transaction. </p>

<p>Definition at line <a class="el" href="coherent__bus_8cc_source.html#l00358">358</a> of file <a class="el" href="coherent__bus_8cc_source.html">coherent_bus.cc</a>.</p>

<p>References <a class="el" href="packet_8hh_source.html#l00349">Packet::busLastWordDelay</a>, <a class="el" href="sim_2system_8hh_source.html#l00156">System::bypassCaches()</a>, <a class="el" href="packet_8hh_source.html#l00270">Packet::cmd</a>, <a class="el" href="packet_8hh_source.html#l00488">Packet::cmdString()</a>, <a class="el" href="trace_8hh_source.html#l00129">DPRINTF</a>, <a class="el" href="bus_8cc_source.html#l00333">BaseBus::findPort()</a>, <a class="el" href="coherent__bus_8cc_source.html#l00418">forwardAtomic()</a>, <a class="el" href="packet_8hh_source.html#l00552">Packet::getAddr()</a>, <a class="el" href="packet_8hh_source.html#l00083">MemCmd::InvalidCmd</a>, <a class="el" href="packet_8hh_source.html#l00497">Packet::isResponse()</a>, <a class="el" href="request_8hh_source.html#l00520">Request::isUncacheable()</a>, <a class="el" href="bus_8hh_source.html#l00336">BaseBus::masterPorts</a>, <a class="el" href="sim__object_8hh_source.html#l00105">SimObject::name()</a>, <a class="el" href="packet_8hh_source.html#l00273">Packet::req</a>, <a class="el" href="bus_8hh_source.html#l00335">BaseBus::slavePorts</a>, and <a class="el" href="coherent__bus_8hh_source.html#l00231">system</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8hh_source.html#l00118">CoherentBus::CoherentBusSlavePort::recvAtomic()</a>.</p>

</div>
</div>
<a class="anchor" id="af05ffca5e8ccb9fed8bc4ae1ae126610"></a><!-- doxytag: member="CoherentBus::recvAtomicSnoop" ref="af05ffca5e8ccb9fed8bc4ae1ae126610" args="(PacketPtr pkt, PortID master_port_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643">Tick</a> CoherentBus::recvAtomicSnoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a>&nbsp;</td>
          <td class="paramname"> <em>master_port_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function called by the port when the bus is recieving an atomic snoop transaction. </p>

<p>Definition at line <a class="el" href="coherent__bus_8cc_source.html#l00397">397</a> of file <a class="el" href="coherent__bus_8cc_source.html">coherent_bus.cc</a>.</p>

<p>References <a class="el" href="packet_8hh_source.html#l00349">Packet::busLastWordDelay</a>, <a class="el" href="packet_8hh_source.html#l00270">Packet::cmd</a>, <a class="el" href="packet_8hh_source.html#l00488">Packet::cmdString()</a>, <a class="el" href="trace_8hh_source.html#l00129">DPRINTF</a>, <a class="el" href="coherent__bus_8cc_source.html#l00418">forwardAtomic()</a>, <a class="el" href="packet_8hh_source.html#l00552">Packet::getAddr()</a>, <a class="el" href="packet_8hh_source.html#l00083">MemCmd::InvalidCmd</a>, <a class="el" href="base_2types_8hh_source.html#l00177">InvalidPortID</a>, <a class="el" href="bus_8hh_source.html#l00336">BaseBus::masterPorts</a>, and <a class="el" href="sim__object_8hh_source.html#l00105">SimObject::name()</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8hh_source.html#l00191">CoherentBus::CoherentBusMasterPort::recvAtomicSnoop()</a>.</p>

</div>
</div>
<a class="anchor" id="a075f40b23645c948f5bb4ffca4cc43e3"></a><!-- doxytag: member="CoherentBus::recvFunctional" ref="a075f40b23645c948f5bb4ffca4cc43e3" args="(PacketPtr pkt, PortID slave_port_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CoherentBus::recvFunctional </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a>&nbsp;</td>
          <td class="paramname"> <em>slave_port_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function called by the port when the bus is recieving a Functional transaction. </p>

<p>Definition at line <a class="el" href="coherent__bus_8cc_source.html#l00463">463</a> of file <a class="el" href="coherent__bus_8cc_source.html">coherent_bus.cc</a>.</p>

<p>References <a class="el" href="sim_2system_8hh_source.html#l00156">System::bypassCaches()</a>, <a class="el" href="packet_8hh_source.html#l00488">Packet::cmdString()</a>, <a class="el" href="trace_8hh_source.html#l00129">DPRINTF</a>, <a class="el" href="bus_8cc_source.html#l00333">BaseBus::findPort()</a>, <a class="el" href="coherent__bus_8cc_source.html#l00504">forwardFunctional()</a>, <a class="el" href="packet_8hh_source.html#l00552">Packet::getAddr()</a>, <a class="el" href="packet_8hh_source.html#l00505">Packet::isPrint()</a>, <a class="el" href="packet_8hh_source.html#l00497">Packet::isResponse()</a>, <a class="el" href="request_8hh_source.html#l00520">Request::isUncacheable()</a>, <a class="el" href="bus_8hh_source.html#l00336">BaseBus::masterPorts</a>, <a class="el" href="sim__object_8hh_source.html#l00105">SimObject::name()</a>, <a class="el" href="packet_8hh_source.html#l00273">Packet::req</a>, <a class="el" href="bus_8hh_source.html#l00335">BaseBus::slavePorts</a>, and <a class="el" href="coherent__bus_8hh_source.html#l00231">system</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8hh_source.html#l00124">CoherentBus::CoherentBusSlavePort::recvFunctional()</a>.</p>

</div>
</div>
<a class="anchor" id="a854b4ff042a4dd0e515b50bfc38d2ff9"></a><!-- doxytag: member="CoherentBus::recvFunctionalSnoop" ref="a854b4ff042a4dd0e515b50bfc38d2ff9" args="(PacketPtr pkt, PortID master_port_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CoherentBus::recvFunctionalSnoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a>&nbsp;</td>
          <td class="paramname"> <em>master_port_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function called by the port when the bus is recieving a functional snoop transaction. </p>

<p>Definition at line <a class="el" href="coherent__bus_8cc_source.html#l00489">489</a> of file <a class="el" href="coherent__bus_8cc_source.html">coherent_bus.cc</a>.</p>

<p>References <a class="el" href="packet_8hh_source.html#l00488">Packet::cmdString()</a>, <a class="el" href="trace_8hh_source.html#l00129">DPRINTF</a>, <a class="el" href="coherent__bus_8cc_source.html#l00504">forwardFunctional()</a>, <a class="el" href="packet_8hh_source.html#l00552">Packet::getAddr()</a>, <a class="el" href="base_2types_8hh_source.html#l00177">InvalidPortID</a>, <a class="el" href="packet_8hh_source.html#l00505">Packet::isPrint()</a>, <a class="el" href="bus_8hh_source.html#l00336">BaseBus::masterPorts</a>, and <a class="el" href="sim__object_8hh_source.html#l00105">SimObject::name()</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8hh_source.html#l00197">CoherentBus::CoherentBusMasterPort::recvFunctionalSnoop()</a>.</p>

</div>
</div>
<a class="anchor" id="adf07d429dc5cdd90ef1f0861c24d2c83"></a><!-- doxytag: member="CoherentBus::recvRetry" ref="adf07d429dc5cdd90ef1f0861c24d2c83" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CoherentBus::recvRetry </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Timing function called by port when it is once again able to process requests. </p>

<p>Definition at line <a class="el" href="coherent__bus_8cc_source.html#l00349">349</a> of file <a class="el" href="coherent__bus_8cc_source.html">coherent_bus.cc</a>.</p>

<p>References <a class="el" href="coherent__bus_8hh_source.html#l00077">reqLayer</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8hh_source.html#l00207">CoherentBus::CoherentBusMasterPort::recvRetry()</a>.</p>

</div>
</div>
<a class="anchor" id="a0b2188b3267b975bb30f277ce09c17e5"></a><!-- doxytag: member="CoherentBus::recvTimingReq" ref="a0b2188b3267b975bb30f277ce09c17e5" args="(PacketPtr pkt, PortID slave_port_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CoherentBus::recvTimingReq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a>&nbsp;</td>
          <td class="paramname"> <em>slave_port_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function called by the port when the bus is recieving a Timing request packet. </p>

<p>Definition at line <a class="el" href="coherent__bus_8cc_source.html#l00115">115</a> of file <a class="el" href="coherent__bus_8cc_source.html">coherent_bus.cc</a>.</p>

<p>References <a class="el" href="packet_8hh_source.html#l00340">Packet::busFirstWordDelay</a>, <a class="el" href="packet_8hh_source.html#l00349">Packet::busLastWordDelay</a>, <a class="el" href="sim_2system_8hh_source.html#l00156">System::bypassCaches()</a>, <a class="el" href="bus_8cc_source.html#l00133">BaseBus::calcPacketTiming()</a>, <a class="el" href="clocked__object_8hh_source.html#l00151">ClockedObject::clockEdge()</a>, <a class="el" href="packet_8hh_source.html#l00488">Packet::cmdString()</a>, <a class="el" href="core_8hh_source.html#l00045">curTick()</a>, <a class="el" href="trace_8hh_source.html#l00129">DPRINTF</a>, <a class="el" href="bus_8cc_source.html#l00333">BaseBus::findPort()</a>, <a class="el" href="coherent__bus_8cc_source.html#l00329">forwardTiming()</a>, <a class="el" href="packet_8hh_source.html#l00552">Packet::getAddr()</a>, <a class="el" href="bus_8hh_source.html#l00227">BaseBus::headerCycles</a>, <a class="el" href="packet_8hh_source.html#l00516">Packet::isExpressSnoop()</a>, <a class="el" href="request_8hh_source.html#l00520">Request::isUncacheable()</a>, <a class="el" href="bus_8hh_source.html#l00336">BaseBus::masterPorts</a>, <a class="el" href="packet_8hh_source.html#l00510">Packet::memInhibitAsserted()</a>, <a class="el" href="port_8hh_source.html#l00112">Port::name()</a>, <a class="el" href="packet_8hh_source.html#l00499">Packet::needsResponse()</a>, <a class="el" href="coherent__bus_8hh_source.html#l00225">outstandingReq</a>, <a class="el" href="packet_8hh_source.html#l00273">Packet::req</a>, <a class="el" href="coherent__bus_8hh_source.html#l00077">reqLayer</a>, <a class="el" href="packet_8hh_source.html#l00540">Packet::setSrc()</a>, <a class="el" href="bus_8hh_source.html#l00335">BaseBus::slavePorts</a>, and <a class="el" href="coherent__bus_8hh_source.html#l00231">system</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8hh_source.html#l00106">CoherentBus::CoherentBusSlavePort::recvTimingReq()</a>.</p>

</div>
</div>
<a class="anchor" id="a017506b766557bac38e7dbd413010a3a"></a><!-- doxytag: member="CoherentBus::recvTimingResp" ref="a017506b766557bac38e7dbd413010a3a" args="(PacketPtr pkt, PortID master_port_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CoherentBus::recvTimingResp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a>&nbsp;</td>
          <td class="paramname"> <em>master_port_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function called by the port when the bus is recieving a Timing response packet. </p>

<p>Definition at line <a class="el" href="coherent__bus_8cc_source.html#l00200">200</a> of file <a class="el" href="coherent__bus_8cc_source.html">coherent_bus.cc</a>.</p>

<p>References <a class="el" href="packet_8hh_source.html#l00349">Packet::busLastWordDelay</a>, <a class="el" href="bus_8cc_source.html#l00133">BaseBus::calcPacketTiming()</a>, <a class="el" href="packet_8hh_source.html#l00488">Packet::cmdString()</a>, <a class="el" href="core_8hh_source.html#l00045">curTick()</a>, <a class="el" href="trace_8hh_source.html#l00129">DPRINTF</a>, <a class="el" href="packet_8hh_source.html#l00552">Packet::getAddr()</a>, <a class="el" href="packet_8hh_source.html#l00546">Packet::getDest()</a>, <a class="el" href="bus_8hh_source.html#l00336">BaseBus::masterPorts</a>, <a class="el" href="port_8hh_source.html#l00112">Port::name()</a>, <a class="el" href="coherent__bus_8hh_source.html#l00225">outstandingReq</a>, <a class="el" href="packet_8hh_source.html#l00273">Packet::req</a>, <a class="el" href="coherent__bus_8hh_source.html#l00078">respLayer</a>, and <a class="el" href="bus_8hh_source.html#l00335">BaseBus::slavePorts</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8hh_source.html#l00179">CoherentBus::CoherentBusMasterPort::recvTimingResp()</a>.</p>

</div>
</div>
<a class="anchor" id="a92533f67d80bed5cf05c67b162d12b47"></a><!-- doxytag: member="CoherentBus::recvTimingSnoopReq" ref="a92533f67d80bed5cf05c67b162d12b47" args="(PacketPtr pkt, PortID master_port_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CoherentBus::recvTimingSnoopReq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a>&nbsp;</td>
          <td class="paramname"> <em>master_port_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function called by the port when the bus is recieving a timing snoop request. </p>

<p>Definition at line <a class="el" href="coherent__bus_8cc_source.html#l00240">240</a> of file <a class="el" href="coherent__bus_8cc_source.html">coherent_bus.cc</a>.</p>

<p>References <a class="el" href="packet_8hh_source.html#l00488">Packet::cmdString()</a>, <a class="el" href="trace_8hh_source.html#l00129">DPRINTF</a>, <a class="el" href="bus_8cc_source.html#l00333">BaseBus::findPort()</a>, <a class="el" href="coherent__bus_8cc_source.html#l00329">forwardTiming()</a>, <a class="el" href="packet_8hh_source.html#l00552">Packet::getAddr()</a>, <a class="el" href="base_2types_8hh_source.html#l00177">InvalidPortID</a>, <a class="el" href="packet_8hh_source.html#l00516">Packet::isExpressSnoop()</a>, <a class="el" href="bus_8hh_source.html#l00336">BaseBus::masterPorts</a>, <a class="el" href="sim__object_8hh_source.html#l00105">SimObject::name()</a>, and <a class="el" href="packet_8hh_source.html#l00540">Packet::setSrc()</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8hh_source.html#l00185">CoherentBus::CoherentBusMasterPort::recvTimingSnoopReq()</a>.</p>

</div>
</div>
<a class="anchor" id="ab80edd6cbae67314f983572d9681b25e"></a><!-- doxytag: member="CoherentBus::recvTimingSnoopResp" ref="ab80edd6cbae67314f983572d9681b25e" args="(PacketPtr pkt, PortID slave_port_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CoherentBus::recvTimingSnoopResp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPacket.html">PacketPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e">PortID</a>&nbsp;</td>
          <td class="paramname"> <em>slave_port_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function called by the port when the bus is recieving a timing snoop response. </p>

<p>Definition at line <a class="el" href="coherent__bus_8cc_source.html#l00264">264</a> of file <a class="el" href="coherent__bus_8cc_source.html">coherent_bus.cc</a>.</p>

<p>References <a class="el" href="packet_8hh_source.html#l00349">Packet::busLastWordDelay</a>, <a class="el" href="bus_8cc_source.html#l00133">BaseBus::calcPacketTiming()</a>, <a class="el" href="packet_8hh_source.html#l00488">Packet::cmdString()</a>, <a class="el" href="core_8hh_source.html#l00045">curTick()</a>, <a class="el" href="trace_8hh_source.html#l00129">DPRINTF</a>, <a class="el" href="packet_8hh_source.html#l00552">Packet::getAddr()</a>, <a class="el" href="packet_8hh_source.html#l00546">Packet::getDest()</a>, <a class="el" href="packet_8hh_source.html#l00516">Packet::isExpressSnoop()</a>, <a class="el" href="bus_8hh_source.html#l00336">BaseBus::masterPorts</a>, <a class="el" href="port_8hh_source.html#l00112">Port::name()</a>, <a class="el" href="coherent__bus_8hh_source.html#l00225">outstandingReq</a>, <a class="el" href="packet_8hh_source.html#l00273">Packet::req</a>, <a class="el" href="bus_8hh_source.html#l00335">BaseBus::slavePorts</a>, and <a class="el" href="coherent__bus_8hh_source.html#l00079">snoopRespLayer</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8hh_source.html#l00112">CoherentBus::CoherentBusSlavePort::recvTimingSnoopResp()</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a3fd38531577d84e4e32c8216204cdb4a"></a><!-- doxytag: member="CoherentBus::outstandingReq" ref="a3fd38531577d84e4e32c8216204cdb4a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="classRequest.html">RequestPtr</a>&gt; <a class="el" href="classCoherentBus.html#a3fd38531577d84e4e32c8216204cdb4a">CoherentBus::outstandingReq</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store the outstanding requests so we can determine which ones we generated and which ones were merely forwarded. </p>
<p>This is used in the coherent bus when coherency responses come back. </p>

<p>Definition at line <a class="el" href="coherent__bus_8hh_source.html#l00225">225</a> of file <a class="el" href="coherent__bus_8hh_source.html">coherent_bus.hh</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8cc_source.html#l00115">recvTimingReq()</a>, <a class="el" href="coherent__bus_8cc_source.html#l00200">recvTimingResp()</a>, and <a class="el" href="coherent__bus_8cc_source.html#l00264">recvTimingSnoopResp()</a>.</p>

</div>
</div>
<a class="anchor" id="a356e124cab218092946072a58f810215"></a><!-- doxytag: member="CoherentBus::reqLayer" ref="a356e124cab218092946072a58f810215" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBaseBus_1_1Layer.html">Layer</a>&lt;<a class="el" href="classSlavePort.html">SlavePort</a>&gt; <a class="el" href="classCoherentBus.html#a356e124cab218092946072a58f810215">CoherentBus::reqLayer</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declare the three layers of this bus, one for requests, one for responses, and one for snoop responses. </p>

<p>Definition at line <a class="el" href="coherent__bus_8hh_source.html#l00077">77</a> of file <a class="el" href="coherent__bus_8hh_source.html">coherent_bus.hh</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8cc_source.html#l00527">drain()</a>, <a class="el" href="coherent__bus_8cc_source.html#l00349">recvRetry()</a>, and <a class="el" href="coherent__bus_8cc_source.html#l00115">recvTimingReq()</a>.</p>

</div>
</div>
<a class="anchor" id="a2f1631c12fdbd47af791af3f11c5c2c7"></a><!-- doxytag: member="CoherentBus::respLayer" ref="a2f1631c12fdbd47af791af3f11c5c2c7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBaseBus_1_1Layer.html">Layer</a>&lt;<a class="el" href="classMasterPort.html">MasterPort</a>&gt; <a class="el" href="classCoherentBus.html#a2f1631c12fdbd47af791af3f11c5c2c7">CoherentBus::respLayer</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="coherent__bus_8hh_source.html#l00078">78</a> of file <a class="el" href="coherent__bus_8hh_source.html">coherent_bus.hh</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8cc_source.html#l00527">drain()</a>, and <a class="el" href="coherent__bus_8cc_source.html#l00200">recvTimingResp()</a>.</p>

</div>
</div>
<a class="anchor" id="ae7408442ea760aa3577e9e9b0157a681"></a><!-- doxytag: member="CoherentBus::snoopPorts" ref="ae7408442ea760aa3577e9e9b0157a681" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstd_1_1vector.html">std::vector</a>&lt;<a class="el" href="classSlavePort.html">SlavePort</a>*&gt; <a class="el" href="classCoherentBus.html#ae7408442ea760aa3577e9e9b0157a681">CoherentBus::snoopPorts</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="coherent__bus_8hh_source.html#l00218">218</a> of file <a class="el" href="coherent__bus_8hh_source.html">coherent_bus.hh</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8cc_source.html#l00418">forwardAtomic()</a>, <a class="el" href="coherent__bus_8cc_source.html#l00504">forwardFunctional()</a>, <a class="el" href="coherent__bus_8cc_source.html#l00329">forwardTiming()</a>, and <a class="el" href="coherent__bus_8cc_source.html#l00093">init()</a>.</p>

</div>
</div>
<a class="anchor" id="ad6daa17b2441db225e587993bc6f1167"></a><!-- doxytag: member="CoherentBus::snoopRespLayer" ref="ad6daa17b2441db225e587993bc6f1167" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBaseBus_1_1Layer.html">Layer</a>&lt;<a class="el" href="classSlavePort.html">SlavePort</a>&gt; <a class="el" href="classCoherentBus.html#ad6daa17b2441db225e587993bc6f1167">CoherentBus::snoopRespLayer</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="coherent__bus_8hh_source.html#l00079">79</a> of file <a class="el" href="coherent__bus_8hh_source.html">coherent_bus.hh</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8cc_source.html#l00527">drain()</a>, and <a class="el" href="coherent__bus_8cc_source.html#l00264">recvTimingSnoopResp()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c7215e78627db1adc6b24dfbf228119"></a><!-- doxytag: member="CoherentBus::system" ref="a7c7215e78627db1adc6b24dfbf228119" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSystem.html">System</a>* <a class="el" href="classCoherentBus.html#a7c7215e78627db1adc6b24dfbf228119">CoherentBus::system</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Keep a pointer to the system to be allow to querying memory system properties. </p>

<p>Definition at line <a class="el" href="coherent__bus_8hh_source.html#l00231">231</a> of file <a class="el" href="coherent__bus_8hh_source.html">coherent_bus.hh</a>.</p>

<p>Referenced by <a class="el" href="coherent__bus_8cc_source.html#l00418">forwardAtomic()</a>, <a class="el" href="coherent__bus_8cc_source.html#l00504">forwardFunctional()</a>, <a class="el" href="coherent__bus_8cc_source.html#l00329">forwardTiming()</a>, <a class="el" href="coherent__bus_8cc_source.html#l00358">recvAtomic()</a>, <a class="el" href="coherent__bus_8cc_source.html#l00463">recvFunctional()</a>, and <a class="el" href="coherent__bus_8cc_source.html#l00115">recvTimingReq()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>mem/<a class="el" href="coherent__bus_8hh_source.html">coherent_bus.hh</a></li>
<li>mem/<a class="el" href="coherent__bus_8cc_source.html">coherent_bus.cc</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"><address style="align: right;"><small>
Generated on Sun Apr 7 2013 18:17:41 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.7.1</small></address>

</body>
</html>
