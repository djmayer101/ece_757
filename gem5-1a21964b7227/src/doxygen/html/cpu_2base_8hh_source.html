<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gem5: cpu/base.hh Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>cpu/base.hh</h1>  </div>
</div>
<div class="contents">
<a href="cpu_2base_8hh.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (c) 2011-2012 ARM Limited</span>
<a name="l00003"></a>00003 <span class="comment"> * All rights reserved</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * The license below extends only to copyright in the software and shall</span>
<a name="l00006"></a>00006 <span class="comment"> * not be construed as granting a license to any other intellectual</span>
<a name="l00007"></a>00007 <span class="comment"> * property including but not limited to intellectual property relating</span>
<a name="l00008"></a>00008 <span class="comment"> * to a hardware implementation of the functionality of the software</span>
<a name="l00009"></a>00009 <span class="comment"> * licensed hereunder.  You may use the software subject to the license</span>
<a name="l00010"></a>00010 <span class="comment"> * terms below provided that you ensure that this notice is replicated</span>
<a name="l00011"></a>00011 <span class="comment"> * unmodified and in its entirety in all distributions of the software,</span>
<a name="l00012"></a>00012 <span class="comment"> * modified or unmodified, in source code or in binary form.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * Copyright (c) 2002-2005 The Regents of The University of Michigan</span>
<a name="l00015"></a>00015 <span class="comment"> * Copyright (c) 2011 Regents of the University of California</span>
<a name="l00016"></a>00016 <span class="comment"> * All rights reserved.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00019"></a>00019 <span class="comment"> * modification, are permitted provided that the following conditions are</span>
<a name="l00020"></a>00020 <span class="comment"> * met: redistributions of source code must retain the above copyright</span>
<a name="l00021"></a>00021 <span class="comment"> * notice, this list of conditions and the following disclaimer;</span>
<a name="l00022"></a>00022 <span class="comment"> * redistributions in binary form must reproduce the above copyright</span>
<a name="l00023"></a>00023 <span class="comment"> * notice, this list of conditions and the following disclaimer in the</span>
<a name="l00024"></a>00024 <span class="comment"> * documentation and/or other materials provided with the distribution;</span>
<a name="l00025"></a>00025 <span class="comment"> * neither the name of the copyright holders nor the names of its</span>
<a name="l00026"></a>00026 <span class="comment"> * contributors may be used to endorse or promote products derived from</span>
<a name="l00027"></a>00027 <span class="comment"> * this software without specific prior written permission.</span>
<a name="l00028"></a>00028 <span class="comment"> *</span>
<a name="l00029"></a>00029 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<a name="l00030"></a>00030 <span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00031"></a>00031 <span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<a name="l00032"></a>00032 <span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<a name="l00033"></a>00033 <span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<a name="l00034"></a>00034 <span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00035"></a>00035 <span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00036"></a>00036 <span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00037"></a>00037 <span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00038"></a>00038 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00039"></a>00039 <span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00040"></a>00040 <span class="comment"> *</span>
<a name="l00041"></a>00041 <span class="comment"> * Authors: Steve Reinhardt</span>
<a name="l00042"></a>00042 <span class="comment"> *          Nathan Binkert</span>
<a name="l00043"></a>00043 <span class="comment"> *          Rick Strong</span>
<a name="l00044"></a>00044 <span class="comment"> */</span>
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 <span class="preprocessor">#ifndef __CPU_BASE_HH__</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#define __CPU_BASE_HH__</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="preprocessor">#include &quot;arch/interrupts.hh&quot;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &quot;arch/isa_traits.hh&quot;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &quot;arch/microcode_rom.hh&quot;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &quot;<a class="code" href="statistics_8hh.html" title="Declaration of Statistics objects.">base/statistics.hh</a>&quot;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &quot;config/the_isa.hh&quot;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include &quot;<a class="code" href="mem__object_8hh.html" title="MemObject declaration.">mem/mem_object.hh</a>&quot;</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &quot;<a class="code" href="eventq_8hh.html">sim/eventq.hh</a>&quot;</span>
<a name="l00058"></a>00058 <span class="preprocessor">#include &quot;<a class="code" href="full__system_8hh.html">sim/full_system.hh</a>&quot;</span>
<a name="l00059"></a>00059 <span class="preprocessor">#include &quot;<a class="code" href="insttracer_8hh.html">sim/insttracer.hh</a>&quot;</span>
<a name="l00060"></a>00060 
<a name="l00061"></a>00061 <span class="keyword">struct </span>BaseCPUParams;
<a name="l00062"></a>00062 <span class="keyword">class </span>BranchPred;
<a name="l00063"></a>00063 <span class="keyword">class </span><a class="code" href="classCheckerCPU.html" title="CheckerCPU class.">CheckerCPU</a>;
<a name="l00064"></a>00064 <span class="keyword">class </span><a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside of the CPU...">ThreadContext</a>;
<a name="l00065"></a>00065 <span class="keyword">class </span><a class="code" href="classSystem.html">System</a>;
<a name="l00066"></a>00066 
<a name="l00067"></a><a class="code" href="classCPUProgressEvent.html">00067</a> <span class="keyword">class </span><a class="code" href="classCPUProgressEvent.html">CPUProgressEvent</a> : <span class="keyword">public</span> <a class="code" href="classEvent.html">Event</a>
<a name="l00068"></a>00068 {
<a name="l00069"></a>00069   <span class="keyword">protected</span>:
<a name="l00070"></a><a class="code" href="classCPUProgressEvent.html#ab596a584223d051199276f6e520152c2">00070</a>     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643" title="Tick count type.">Tick</a> <a class="code" href="classCPUProgressEvent.html#ab596a584223d051199276f6e520152c2">_interval</a>;
<a name="l00071"></a><a class="code" href="classCPUProgressEvent.html#afefb5489b1f928e88f4e1b0ebcbde766">00071</a>     <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="classCPUProgressEvent.html#afefb5489b1f928e88f4e1b0ebcbde766">lastNumInst</a>;
<a name="l00072"></a><a class="code" href="classCPUProgressEvent.html#a40efbb1dbd81eabcffa0913d51252d51">00072</a>     <a class="code" href="classBaseCPU.html">BaseCPU</a> *<a class="code" href="classCPUProgressEvent.html#a40efbb1dbd81eabcffa0913d51252d51">cpu</a>;
<a name="l00073"></a><a class="code" href="classCPUProgressEvent.html#a3fea6af9ddfff938e31b903aaccfb9ee">00073</a>     <span class="keywordtype">bool</span> <a class="code" href="classCPUProgressEvent.html#a3fea6af9ddfff938e31b903aaccfb9ee">_repeatEvent</a>;
<a name="l00074"></a>00074 
<a name="l00075"></a>00075   <span class="keyword">public</span>:
<a name="l00076"></a>00076     <a class="code" href="classCPUProgressEvent.html#a1671ed0f2ecd33baf4bfeea138c63363">CPUProgressEvent</a>(<a class="code" href="classBaseCPU.html">BaseCPU</a> *_cpu, <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643" title="Tick count type.">Tick</a> ival = 0);
<a name="l00077"></a>00077 
<a name="l00078"></a>00078     <span class="keywordtype">void</span> <a class="code" href="classCPUProgressEvent.html#acf298dc32a3af99ba4cb14a2049fb6c6">process</a>();
<a name="l00079"></a>00079 
<a name="l00080"></a><a class="code" href="classCPUProgressEvent.html#a541a830cf94371065e0ed7632182d8af">00080</a>     <span class="keywordtype">void</span> <a class="code" href="classCPUProgressEvent.html#a541a830cf94371065e0ed7632182d8af">interval</a>(<a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643" title="Tick count type.">Tick</a> ival) { <a class="code" href="classCPUProgressEvent.html#ab596a584223d051199276f6e520152c2">_interval</a> = ival; }
<a name="l00081"></a><a class="code" href="classCPUProgressEvent.html#ab02bb13fdb13d4b9197b672ecec6711a">00081</a>     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643" title="Tick count type.">Tick</a> <a class="code" href="classCPUProgressEvent.html#ab02bb13fdb13d4b9197b672ecec6711a">interval</a>() { <span class="keywordflow">return</span> <a class="code" href="classCPUProgressEvent.html#ab596a584223d051199276f6e520152c2">_interval</a>; }
<a name="l00082"></a>00082 
<a name="l00083"></a><a class="code" href="classCPUProgressEvent.html#a26c7ab5279898bdaec9519fd87549833">00083</a>     <span class="keywordtype">void</span> <a class="code" href="classCPUProgressEvent.html#a26c7ab5279898bdaec9519fd87549833">repeatEvent</a>(<span class="keywordtype">bool</span> repeat) { <a class="code" href="classCPUProgressEvent.html#a3fea6af9ddfff938e31b903aaccfb9ee">_repeatEvent</a> = repeat; }
<a name="l00084"></a>00084 
<a name="l00085"></a>00085     <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classCPUProgressEvent.html#a46ed95bef83d05f0a355800af6091021" title="Return a C string describing the event.">description</a>() <span class="keyword">const</span>;
<a name="l00086"></a>00086 };
<a name="l00087"></a>00087 
<a name="l00088"></a>00088 <span class="keyword">class </span><a class="code" href="classBaseCPU.html">BaseCPU</a> : <span class="keyword">public</span> <a class="code" href="classMemObject.html" title="The MemObject class extends the ClockedObject with accessor functions to get its master and slave por...">MemObject</a>
<a name="l00089"></a>00089 {
<a name="l00090"></a>00090   <span class="keyword">protected</span>:
<a name="l00091"></a>00091 
<a name="l00092"></a>00092     <span class="comment">// @todo remove me after debugging with legion done</span>
<a name="l00093"></a><a class="code" href="classBaseCPU.html#a1e3fa77b4ef4cf21fbfb193ec94e9154">00093</a>     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643" title="Tick count type.">Tick</a> <a class="code" href="classBaseCPU.html#a1e3fa77b4ef4cf21fbfb193ec94e9154">instCnt</a>;
<a name="l00094"></a>00094     <span class="comment">// every cpu has an id, put it in the base cpu</span>
<a name="l00095"></a>00095     <span class="comment">// Set at initialization, only time a cpuId might change is during a</span>
<a name="l00096"></a>00096     <span class="comment">// takeover (which should be done from within the BaseCPU anyway,</span>
<a name="l00097"></a>00097     <span class="comment">// therefore no setCpuId() method is provided</span>
<a name="l00098"></a><a class="code" href="classBaseCPU.html#a512f6e0d7684ff19880a2ff9b6eeeddb">00098</a>     <span class="keywordtype">int</span> <a class="code" href="classBaseCPU.html#a512f6e0d7684ff19880a2ff9b6eeeddb">_cpuId</a>;
<a name="l00099"></a>00099 
<a name="l00101"></a><a class="code" href="classBaseCPU.html#ace97e589c98a144f71b4afc8ffd3c9b4">00101</a>     <a class="code" href="request_8hh.html#ac366b729262fd8e7cbd3283da6f775cf">MasterID</a> <a class="code" href="classBaseCPU.html#ace97e589c98a144f71b4afc8ffd3c9b4" title="instruction side request id that must be placed in all requests">_instMasterId</a>;
<a name="l00102"></a>00102 
<a name="l00104"></a><a class="code" href="classBaseCPU.html#a4bf9e7f73213ffdf7e00c37b8ae1b490">00104</a>     <a class="code" href="request_8hh.html#ac366b729262fd8e7cbd3283da6f775cf">MasterID</a> <a class="code" href="classBaseCPU.html#a4bf9e7f73213ffdf7e00c37b8ae1b490" title="data side request id that must be placed in all requests">_dataMasterId</a>;
<a name="l00105"></a>00105 
<a name="l00111"></a><a class="code" href="classBaseCPU.html#a3f1f1d2cb970179495deff580b15af17">00111</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="classBaseCPU.html#a3f1f1d2cb970179495deff580b15af17" title="An intrenal representation of a task identifier within gem5.">_taskId</a>;
<a name="l00112"></a>00112 
<a name="l00115"></a><a class="code" href="classBaseCPU.html#a325c97fc372c0f772c5ae67a2f07574a">00115</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="classBaseCPU.html#a325c97fc372c0f772c5ae67a2f07574a" title="The current OS process ID that is executing on this processor.">_pid</a>;
<a name="l00116"></a>00116 
<a name="l00118"></a><a class="code" href="classBaseCPU.html#af7785d039f2069fa20d8f0bef96ea3b7">00118</a>     <span class="keywordtype">bool</span> <a class="code" href="classBaseCPU.html#af7785d039f2069fa20d8f0bef96ea3b7" title="Is the CPU switched out or active?">_switchedOut</a>;
<a name="l00119"></a>00119 
<a name="l00128"></a><a class="code" href="classBaseCPU_1_1CpuPort.html">00128</a>     <span class="keyword">class </span><a class="code" href="classBaseCPU_1_1CpuPort.html" title="Define a base class for the CPU ports (instruction and data) that is refined in the subclasses...">CpuPort</a> : <span class="keyword">public</span> <a class="code" href="classMasterPort.html" title="A MasterPort is a specialisation of a BaseMasterPort, which implements the default protocol for the t...">MasterPort</a>
<a name="l00129"></a>00129     {
<a name="l00130"></a>00130       <span class="keyword">public</span>:
<a name="l00131"></a>00131 
<a name="l00138"></a><a class="code" href="classBaseCPU_1_1CpuPort.html#a5f8dfad2abde0b3b35f4d74b431fb949">00138</a>         <a class="code" href="classBaseCPU_1_1CpuPort.html#a5f8dfad2abde0b3b35f4d74b431fb949" title="Create a CPU port with a name and a structural owner.">CpuPort</a>(<span class="keyword">const</span> std::string&amp; _name, <a class="code" href="classMemObject.html" title="The MemObject class extends the ClockedObject with accessor functions to get its master and slave por...">MemObject</a>* _owner) :
<a name="l00139"></a>00139             <a class="code" href="classMasterPort.html" title="A MasterPort is a specialisation of a BaseMasterPort, which implements the default protocol for the t...">MasterPort</a>(_name, _owner)
<a name="l00140"></a>00140         { }
<a name="l00141"></a>00141 
<a name="l00142"></a>00142       <span class="keyword">protected</span>:
<a name="l00143"></a>00143 
<a name="l00144"></a>00144         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classBaseCPU_1_1CpuPort.html#abbb23ac405a48e58c7a5ebf6aacb1c3b" title="Receive a timing response from the slave port.">recvTimingResp</a>(<a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system (e...">PacketPtr</a> pkt);
<a name="l00145"></a>00145 
<a name="l00146"></a>00146         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU_1_1CpuPort.html#a89529161c558fee97792213a4080406d" title="Called by the slave port if sendTimingReq or sendTimingSnoopResp was called on this master port (caus...">recvRetry</a>();
<a name="l00147"></a>00147 
<a name="l00148"></a>00148         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU_1_1CpuPort.html#a2ccb0b42b07bfe7145a18a2faf18d19d" title="Receive a functional snoop request packet from the slave port.">recvFunctionalSnoop</a>(<a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system (e...">PacketPtr</a> pkt);
<a name="l00149"></a>00149 
<a name="l00150"></a>00150     };
<a name="l00151"></a>00151 
<a name="l00152"></a>00152   <span class="keyword">public</span>:
<a name="l00153"></a>00153 
<a name="l00160"></a>00160     <span class="keyword">virtual</span> CpuPort &amp;<a class="code" href="classBaseCPU.html#a29472a3b6c9860fbf39d68a2f88c8a68" title="Purely virtual method that returns a reference to the data port.">getDataPort</a>() = 0;
<a name="l00161"></a>00161 
<a name="l00168"></a>00168     <span class="keyword">virtual</span> CpuPort &amp;<a class="code" href="classBaseCPU.html#a63b0e8619b9cf0060404b62a41c75a51" title="Purely virtual method that returns a reference to the instruction port.">getInstPort</a>() = 0;
<a name="l00169"></a>00169 
<a name="l00171"></a><a class="code" href="classBaseCPU.html#afbce2c177a8b0733c0699bea94a5f608">00171</a>     <span class="keywordtype">int</span> <a class="code" href="classBaseCPU.html#afbce2c177a8b0733c0699bea94a5f608" title="Reads this CPU&amp;#39;s ID.">cpuId</a>() { <span class="keywordflow">return</span> <a class="code" href="classBaseCPU.html#a512f6e0d7684ff19880a2ff9b6eeeddb">_cpuId</a>; }
<a name="l00172"></a>00172 
<a name="l00174"></a><a class="code" href="classBaseCPU.html#ad6256793229f94e3f4f1d9f7569e707d">00174</a>     <a class="code" href="request_8hh.html#ac366b729262fd8e7cbd3283da6f775cf">MasterID</a> <a class="code" href="classBaseCPU.html#ad6256793229f94e3f4f1d9f7569e707d" title="Reads this CPU&amp;#39;s unique data requestor ID.">dataMasterId</a>() { <span class="keywordflow">return</span> <a class="code" href="classBaseCPU.html#a4bf9e7f73213ffdf7e00c37b8ae1b490" title="data side request id that must be placed in all requests">_dataMasterId</a>; }
<a name="l00176"></a><a class="code" href="classBaseCPU.html#a5afcf225b3ff14d5cb61d32f5211af7c">00176</a>     <a class="code" href="request_8hh.html#ac366b729262fd8e7cbd3283da6f775cf">MasterID</a> <a class="code" href="classBaseCPU.html#a5afcf225b3ff14d5cb61d32f5211af7c" title="Reads this CPU&amp;#39;s unique instruction requestor ID.">instMasterId</a>() { <span class="keywordflow">return</span> <a class="code" href="classBaseCPU.html#ace97e589c98a144f71b4afc8ffd3c9b4" title="instruction side request id that must be placed in all requests">_instMasterId</a>; }
<a name="l00177"></a>00177 
<a name="l00188"></a>00188     <a class="code" href="classBaseMasterPort.html" title="A BaseMasterPort is a protocol-agnostic master port, responsible only for the structural connection t...">BaseMasterPort</a> &amp;<a class="code" href="classBaseCPU.html#af41f47b25f6f62db8023e77f8f1543b2" title="Get a master port on this CPU.">getMasterPort</a>(<span class="keyword">const</span> std::string &amp;if_name,
<a name="l00189"></a>00189                                   <a class="code" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e" title="Port index/ID type, and a symbolic name for an invalid port id.">PortID</a> idx = <a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>);
<a name="l00190"></a>00190 
<a name="l00192"></a><a class="code" href="classBaseCPU.html#a7868459078d5a5c4c8cf2b55d5bf5dcd">00192</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="classBaseCPU.html#a7868459078d5a5c4c8cf2b55d5bf5dcd" title="Get cpu task id.">taskId</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classBaseCPU.html#a3f1f1d2cb970179495deff580b15af17" title="An intrenal representation of a task identifier within gem5.">_taskId</a>; }
<a name="l00194"></a><a class="code" href="classBaseCPU.html#ab7ab2f0b017981ee9ed12432d738b5de">00194</a>     <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#ab7ab2f0b017981ee9ed12432d738b5de" title="Set cpu task id.">taskId</a>(<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <span class="keywordtype">id</span>) { <a class="code" href="classBaseCPU.html#a3f1f1d2cb970179495deff580b15af17" title="An intrenal representation of a task identifier within gem5.">_taskId</a> = id; }
<a name="l00195"></a>00195 
<a name="l00196"></a><a class="code" href="classBaseCPU.html#a2ec840ebcd975d73e47b9112ccfb7033">00196</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="classBaseCPU.html#a2ec840ebcd975d73e47b9112ccfb7033">getPid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classBaseCPU.html#a325c97fc372c0f772c5ae67a2f07574a" title="The current OS process ID that is executing on this processor.">_pid</a>; }
<a name="l00197"></a><a class="code" href="classBaseCPU.html#abfdf910ede67867cbca6c0b9a1fd37c8">00197</a>     <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#abfdf910ede67867cbca6c0b9a1fd37c8">setPid</a>(<a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> pid) { <a class="code" href="classBaseCPU.html#a325c97fc372c0f772c5ae67a2f07574a" title="The current OS process ID that is executing on this processor.">_pid</a> = pid; }
<a name="l00198"></a>00198 
<a name="l00199"></a><a class="code" href="classBaseCPU.html#aef6ade5100f034518a2da58acc4d3cfc">00199</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#aef6ade5100f034518a2da58acc4d3cfc">workItemBegin</a>() { <a class="code" href="classBaseCPU.html#aa6619f133e6944a10b35c0a499536012">numWorkItemsStarted</a>++; }
<a name="l00200"></a><a class="code" href="classBaseCPU.html#a694076683eafdaf0bbe2d7f3a8925b5f">00200</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#a694076683eafdaf0bbe2d7f3a8925b5f">workItemEnd</a>() { <a class="code" href="classBaseCPU.html#a7b58ddbb52ac2a4c1246f6f30b224b40">numWorkItemsCompleted</a>++; }
<a name="l00201"></a>00201     <span class="comment">// @todo remove me after debugging with legion done</span>
<a name="l00202"></a><a class="code" href="classBaseCPU.html#a124e3ca8124202a9f18060ede44d0ad4">00202</a>     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643" title="Tick count type.">Tick</a> <a class="code" href="classBaseCPU.html#a124e3ca8124202a9f18060ede44d0ad4">instCount</a>() { <span class="keywordflow">return</span> <a class="code" href="classBaseCPU.html#a1e3fa77b4ef4cf21fbfb193ec94e9154">instCnt</a>; }
<a name="l00203"></a>00203 
<a name="l00204"></a><a class="code" href="classBaseCPU.html#a329b720ff7bd54b020fb22326843e2a1">00204</a>     TheISA::MicrocodeRom <a class="code" href="classBaseCPU.html#a329b720ff7bd54b020fb22326843e2a1">microcodeRom</a>;
<a name="l00205"></a>00205 
<a name="l00206"></a>00206   <span class="keyword">protected</span>:
<a name="l00207"></a><a class="code" href="classBaseCPU.html#a28c30d48c15c3096813e4941f90226d7">00207</a>     TheISA::Interrupts *<a class="code" href="classBaseCPU.html#a28c30d48c15c3096813e4941f90226d7">interrupts</a>;
<a name="l00208"></a>00208 
<a name="l00209"></a>00209   <span class="keyword">public</span>:
<a name="l00210"></a>00210     TheISA::Interrupts *
<a name="l00211"></a><a class="code" href="classBaseCPU.html#aec2236453b1dff494801dce39a4829b3">00211</a>     <a class="code" href="classBaseCPU.html#aec2236453b1dff494801dce39a4829b3">getInterruptController</a>()
<a name="l00212"></a>00212     {
<a name="l00213"></a>00213         <span class="keywordflow">return</span> <a class="code" href="classBaseCPU.html#a28c30d48c15c3096813e4941f90226d7">interrupts</a>;
<a name="l00214"></a>00214     }
<a name="l00215"></a>00215 
<a name="l00216"></a>00216     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#ac8acef599f82376ad1f5d77dc346d6d3">wakeup</a>() = 0;
<a name="l00217"></a>00217 
<a name="l00218"></a>00218     <span class="keywordtype">void</span>
<a name="l00219"></a><a class="code" href="classBaseCPU.html#ab0ddb59802d7166b8929b6d2aaf50b2c">00219</a>     <a class="code" href="classBaseCPU.html#ab0ddb59802d7166b8929b6d2aaf50b2c">postInterrupt</a>(<span class="keywordtype">int</span> int_num, <span class="keywordtype">int</span> <a class="code" href="namespaceMipsISA.html#aeeb2c1446acc9f3e056faacf09c36f7a">index</a>)
<a name="l00220"></a>00220     {
<a name="l00221"></a>00221         <a class="code" href="classBaseCPU.html#a28c30d48c15c3096813e4941f90226d7">interrupts</a>-&gt;post(int_num, index);
<a name="l00222"></a>00222         <span class="keywordflow">if</span> (<a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370" title="The FullSystem variable can be used to determine the current mode of simulation.">FullSystem</a>)
<a name="l00223"></a>00223             <a class="code" href="classBaseCPU.html#ac8acef599f82376ad1f5d77dc346d6d3">wakeup</a>();
<a name="l00224"></a>00224     }
<a name="l00225"></a>00225 
<a name="l00226"></a>00226     <span class="keywordtype">void</span>
<a name="l00227"></a><a class="code" href="classBaseCPU.html#a47994b091d5ef3dc04bfb21b15909f17">00227</a>     <a class="code" href="classBaseCPU.html#a47994b091d5ef3dc04bfb21b15909f17">clearInterrupt</a>(<span class="keywordtype">int</span> int_num, <span class="keywordtype">int</span> <a class="code" href="namespaceMipsISA.html#aeeb2c1446acc9f3e056faacf09c36f7a">index</a>)
<a name="l00228"></a>00228     {
<a name="l00229"></a>00229         <a class="code" href="classBaseCPU.html#a28c30d48c15c3096813e4941f90226d7">interrupts</a>-&gt;clear(int_num, index);
<a name="l00230"></a>00230     }
<a name="l00231"></a>00231 
<a name="l00232"></a>00232     <span class="keywordtype">void</span>
<a name="l00233"></a><a class="code" href="classBaseCPU.html#a78460b91ab706b2ec07a92e268f07052">00233</a>     <a class="code" href="classBaseCPU.html#a78460b91ab706b2ec07a92e268f07052">clearInterrupts</a>()
<a name="l00234"></a>00234     {
<a name="l00235"></a>00235         <a class="code" href="classBaseCPU.html#a28c30d48c15c3096813e4941f90226d7">interrupts</a>-&gt;clearAll();
<a name="l00236"></a>00236     }
<a name="l00237"></a>00237 
<a name="l00238"></a>00238     <span class="keywordtype">bool</span>
<a name="l00239"></a><a class="code" href="classBaseCPU.html#aa97853abafd022b5076a90c76ba65d36">00239</a>     <a class="code" href="classBaseCPU.html#aa97853abafd022b5076a90c76ba65d36">checkInterrupts</a>(<a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside of the CPU...">ThreadContext</a> *tc)<span class="keyword"> const</span>
<a name="l00240"></a>00240 <span class="keyword">    </span>{
<a name="l00241"></a>00241         <span class="keywordflow">return</span> <a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370" title="The FullSystem variable can be used to determine the current mode of simulation.">FullSystem</a> &amp;&amp; <a class="code" href="classBaseCPU.html#a28c30d48c15c3096813e4941f90226d7">interrupts</a>-&gt;checkInterrupts(tc);
<a name="l00242"></a>00242     }
<a name="l00243"></a>00243 
<a name="l00244"></a><a class="code" href="classBaseCPU_1_1ProfileEvent.html">00244</a>     <span class="keyword">class </span><a class="code" href="classBaseCPU_1_1ProfileEvent.html">ProfileEvent</a> : <span class="keyword">public</span> <a class="code" href="classEvent.html">Event</a>
<a name="l00245"></a>00245     {
<a name="l00246"></a>00246       <span class="keyword">private</span>:
<a name="l00247"></a><a class="code" href="classBaseCPU_1_1ProfileEvent.html#a9c72a17b854084423c38a6b824eaf60e">00247</a>         <a class="code" href="classBaseCPU.html">BaseCPU</a> *<a class="code" href="classBaseCPU_1_1ProfileEvent.html#a9c72a17b854084423c38a6b824eaf60e">cpu</a>;
<a name="l00248"></a><a class="code" href="classBaseCPU_1_1ProfileEvent.html#a2616a997c0c05bf3997a409caadee59b">00248</a>         <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643" title="Tick count type.">Tick</a> <a class="code" href="classBaseCPU_1_1ProfileEvent.html#a2616a997c0c05bf3997a409caadee59b">interval</a>;
<a name="l00249"></a>00249 
<a name="l00250"></a>00250       <span class="keyword">public</span>:
<a name="l00251"></a>00251         <a class="code" href="classBaseCPU_1_1ProfileEvent.html#ad5e2bf2369087c7c8aac70423e59a557">ProfileEvent</a>(<a class="code" href="classBaseCPU.html">BaseCPU</a> *<a class="code" href="classBaseCPU_1_1ProfileEvent.html#a9c72a17b854084423c38a6b824eaf60e">cpu</a>, <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643" title="Tick count type.">Tick</a> <a class="code" href="classBaseCPU_1_1ProfileEvent.html#a2616a997c0c05bf3997a409caadee59b">interval</a>);
<a name="l00252"></a>00252         <span class="keywordtype">void</span> <a class="code" href="classBaseCPU_1_1ProfileEvent.html#aaee5a04dcbcf19ece00379c8ba4a33c2">process</a>();
<a name="l00253"></a>00253     };
<a name="l00254"></a><a class="code" href="classBaseCPU.html#aba3f3b7a65a77c82fe0f2d49799c02e4">00254</a>     <a class="code" href="classBaseCPU_1_1ProfileEvent.html">ProfileEvent</a> *<a class="code" href="classBaseCPU.html#aba3f3b7a65a77c82fe0f2d49799c02e4">profileEvent</a>;
<a name="l00255"></a>00255 
<a name="l00256"></a>00256   <span class="keyword">protected</span>:
<a name="l00257"></a><a class="code" href="classBaseCPU.html#a22178d56f16f4d27c17453771f334a88">00257</a>     <a class="code" href="classstd_1_1vector.html">std::vector&lt;ThreadContext *&gt;</a> <a class="code" href="classBaseCPU.html#a22178d56f16f4d27c17453771f334a88">threadContexts</a>;
<a name="l00258"></a>00258 
<a name="l00259"></a><a class="code" href="classBaseCPU.html#a3c661671797f62911ab1a222f8238b5c">00259</a>     <a class="code" href="classTrace_1_1InstTracer.html">Trace::InstTracer</a> * <a class="code" href="classBaseCPU.html#a3c661671797f62911ab1a222f8238b5c">tracer</a>;
<a name="l00260"></a>00260 
<a name="l00261"></a>00261   <span class="keyword">public</span>:
<a name="l00262"></a>00262 
<a name="l00263"></a>00263     <span class="comment">// Mask to align PCs to MachInst sized boundaries</span>
<a name="l00264"></a><a class="code" href="classBaseCPU.html#a7aeea613cacb233763077cfc861b6ff3">00264</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classBaseCPU.html#a7aeea613cacb233763077cfc861b6ff3">PCMask</a> = ~((Addr)<span class="keyword">sizeof</span>(<a class="code" href="namespaceAlphaISA.html#a63693d656cc2bf4bdd0de3e493eabe66">TheISA::MachInst</a>) - 1);
<a name="l00265"></a>00265 
<a name="l00267"></a><a class="code" href="classBaseCPU.html#a707cc3a8bb294de493a088e0ce4cccfa">00267</a>     <a class="code" href="classTrace_1_1InstTracer.html">Trace::InstTracer</a> * <a class="code" href="classBaseCPU.html#a707cc3a8bb294de493a088e0ce4cccfa" title="Provide access to the tracer pointer.">getTracer</a>() { <span class="keywordflow">return</span> <a class="code" href="classBaseCPU.html#a3c661671797f62911ab1a222f8238b5c">tracer</a>; }
<a name="l00268"></a>00268 
<a name="l00272"></a><a class="code" href="classBaseCPU.html#afc0aad61b9120072183ca6fffb7a02a4">00272</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#afc0aad61b9120072183ca6fffb7a02a4" title="Notify the CPU that the indicated context is now active.">activateContext</a>(<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b" title="Thread index/ID type.">ThreadID</a> thread_num, <a class="code" href="classCycles.html" title="Cycles is a wrapper class for representing cycle counts, i.e.">Cycles</a> delay) {}
<a name="l00273"></a>00273 
<a name="l00275"></a><a class="code" href="classBaseCPU.html#a678754a60d9b88b90b0920f9c2b078e3">00275</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#a678754a60d9b88b90b0920f9c2b078e3" title="Notify the CPU that the indicated context is now suspended.">suspendContext</a>(<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b" title="Thread index/ID type.">ThreadID</a> thread_num) {}
<a name="l00276"></a>00276 
<a name="l00278"></a><a class="code" href="classBaseCPU.html#a6aeab5d8cdf833d6f9d6f035a09b945b">00278</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#a6aeab5d8cdf833d6f9d6f035a09b945b" title="Notify the CPU that the indicated context is now deallocated.">deallocateContext</a>(<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b" title="Thread index/ID type.">ThreadID</a> thread_num) {}
<a name="l00279"></a>00279 
<a name="l00281"></a><a class="code" href="classBaseCPU.html#aa83f07ffe3949ef9f6518ee6c2f90da1">00281</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#aa83f07ffe3949ef9f6518ee6c2f90da1" title="Notify the CPU that the indicated context is now halted.">haltContext</a>(<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b" title="Thread index/ID type.">ThreadID</a> thread_num) {}
<a name="l00282"></a>00282 
<a name="l00284"></a>00284    <span class="keywordtype">int</span> <a class="code" href="classBaseCPU.html#a8e8bb204968536a6be1195d092bd674c" title="Given a Thread Context pointer return the thread num.">findContext</a>(<a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside of the CPU...">ThreadContext</a> *tc);
<a name="l00285"></a>00285 
<a name="l00287"></a><a class="code" href="classBaseCPU.html#a6e87d476983eade947d9be42400882bc">00287</a>    <a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside of the CPU...">ThreadContext</a> *<a class="code" href="classBaseCPU.html#a6e87d476983eade947d9be42400882bc" title="Given a thread num get tho thread context for it.">getContext</a>(<span class="keywordtype">int</span> tn) { <span class="keywordflow">return</span> <a class="code" href="classBaseCPU.html#a22178d56f16f4d27c17453771f334a88">threadContexts</a>[tn]; }
<a name="l00288"></a>00288 
<a name="l00289"></a>00289   <span class="keyword">public</span>:
<a name="l00290"></a><a class="code" href="classBaseCPU.html#a90fc6c04f05a1cbadf117d848db83fb3">00290</a>     <span class="keyword">typedef</span> BaseCPUParams Params;
<a name="l00291"></a><a class="code" href="classBaseCPU.html#a8e895dfbcaacea5e84e7e5dbfcead414">00291</a>     <span class="keyword">const</span> <a class="code" href="classBaseCPU.html#a90fc6c04f05a1cbadf117d848db83fb3">Params</a> *<a class="code" href="classBaseCPU.html#a8e895dfbcaacea5e84e7e5dbfcead414">params</a>()<span class="keyword"> const</span>
<a name="l00292"></a>00292 <span class="keyword">    </span>{ <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classBaseCPU.html#a90fc6c04f05a1cbadf117d848db83fb3">Params</a> *<span class="keyword">&gt;</span>(<a class="code" href="classSimObject.html#a99880551669bb51d749676f678b1dcc8" title="Cached copy of the object parameters.">_params</a>); }
<a name="l00293"></a>00293     <a class="code" href="classBaseCPU.html#a16dd8d412f56ebd90d4b54c8dc5dd20c">BaseCPU</a>(<a class="code" href="classBaseCPU.html#a90fc6c04f05a1cbadf117d848db83fb3">Params</a> *<a class="code" href="classBaseCPU.html#a8e895dfbcaacea5e84e7e5dbfcead414">params</a>, <span class="keywordtype">bool</span> is_checker = <span class="keyword">false</span>);
<a name="l00294"></a>00294     <span class="keyword">virtual</span> <a class="code" href="classBaseCPU.html#aff2ba1ad4290ef3626614e6a2db87261">~BaseCPU</a>();
<a name="l00295"></a>00295 
<a name="l00296"></a>00296     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#a1c85070659882e519fd1bd5d05e1605d" title="init() is called after all C++ SimObjects have been created and all ports are connected.">init</a>();
<a name="l00297"></a>00297     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#a2178692101b8d33d56ded94b99d15804" title="startup() is the final initialization call before simulation.">startup</a>();
<a name="l00298"></a>00298     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#a5c2d877235f616c3a4e0de96c2fcd5d6" title="Register statistics for this object.">regStats</a>();
<a name="l00299"></a>00299 
<a name="l00300"></a><a class="code" href="classBaseCPU.html#a2ece26f3f5c92f2ffdbae8146de9bf85">00300</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#a2ece26f3f5c92f2ffdbae8146de9bf85">activateWhenReady</a>(<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b" title="Thread index/ID type.">ThreadID</a> tid) {};
<a name="l00301"></a>00301 
<a name="l00302"></a>00302     <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#ab88e43887b1837684a028cf4eca2bb0e">registerThreadContexts</a>();
<a name="l00303"></a>00303 
<a name="l00311"></a>00311     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#a4ea565dccac89d58fe740332aa97b841" title="Prepare for another CPU to take over execution.">switchOut</a>();
<a name="l00312"></a>00312 
<a name="l00324"></a>00324     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#a0f32e9a69ec46520996a8cb33c2edec6" title="Load the state of a CPU from the previous CPU object, invoked on all new CPUs that are about to be sw...">takeOverFrom</a>(<a class="code" href="classBaseCPU.html">BaseCPU</a> *cpu);
<a name="l00325"></a>00325 
<a name="l00335"></a>00335     <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#af53549670780390e280dcb6fde045518" title="Flush all TLBs in the CPU.">flushTLBs</a>();
<a name="l00336"></a>00336 
<a name="l00342"></a><a class="code" href="classBaseCPU.html#af2b93a1e156e91265f1b13a4f462c537">00342</a>     <span class="keywordtype">bool</span> <a class="code" href="classBaseCPU.html#af2b93a1e156e91265f1b13a4f462c537" title="Determine if the CPU is switched out.">switchedOut</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classBaseCPU.html#af7785d039f2069fa20d8f0bef96ea3b7" title="Is the CPU switched out or active?">_switchedOut</a>; }
<a name="l00343"></a>00343 
<a name="l00353"></a><a class="code" href="classBaseCPU.html#ad3896575a15731dfccea407b9e7ad20b">00353</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#ad3896575a15731dfccea407b9e7ad20b" title="Verify that the system is in a memory mode supported by the CPU.">verifyMemoryMode</a>()<span class="keyword"> const </span>{ };
<a name="l00354"></a>00354 
<a name="l00359"></a>00359     <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b" title="Thread index/ID type.">ThreadID</a> <a class="code" href="classBaseCPU.html#a7c1d0eec4075862b04e96cad7a82799d" title="Number of threads we&amp;#39;re actually simulating (&amp;lt;= SMT_MAX_THREADS).">numThreads</a>;
<a name="l00360"></a>00360 
<a name="l00366"></a><a class="code" href="classBaseCPU.html#a28a623d140582747e28b9396ebaaa328">00366</a>     <a class="code" href="classEventQueue.html">EventQueue</a> **<a class="code" href="classBaseCPU.html#a28a623d140582747e28b9396ebaaa328" title="Vector of per-thread instruction-based event queues.">comInstEventQueue</a>;
<a name="l00367"></a>00367 
<a name="l00373"></a><a class="code" href="classBaseCPU.html#ab8f5f1f1756c532d6e57fb2554846d9d">00373</a>     <a class="code" href="classEventQueue.html">EventQueue</a> **<a class="code" href="classBaseCPU.html#ab8f5f1f1756c532d6e57fb2554846d9d" title="Vector of per-thread load-based event queues.">comLoadEventQueue</a>;
<a name="l00374"></a>00374 
<a name="l00375"></a><a class="code" href="classBaseCPU.html#aec7be52311ec347359ea6bffc40db74a">00375</a>     <a class="code" href="classSystem.html">System</a> *<a class="code" href="classBaseCPU.html#aec7be52311ec347359ea6bffc40db74a">system</a>;
<a name="l00376"></a>00376 
<a name="l00387"></a>00387     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#a2cbee9355a87e90a0821a3a395d359d2" title="Serialize this object to the given output stream.">serialize</a>(std::ostream &amp;<a class="code" href="namespaceX86ISA.html#aea9fbab71662ba06cf536e05edfaaad1">os</a>);
<a name="l00388"></a>00388 
<a name="l00400"></a>00400     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#a87e4f1123e4dd19ea35ad6fe7fc57e02" title="Reconstruct the state of this object from a checkpoint.">unserialize</a>(<a class="code" href="classCheckpoint.html">Checkpoint</a> *cp, <span class="keyword">const</span> std::string &amp;section);
<a name="l00401"></a>00401 
<a name="l00408"></a><a class="code" href="classBaseCPU.html#a2a875306bc772535e3a09c7c93c0f044">00408</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#a2a875306bc772535e3a09c7c93c0f044" title="Serialize a single thread.">serializeThread</a>(std::ostream &amp;<a class="code" href="namespaceX86ISA.html#aea9fbab71662ba06cf536e05edfaaad1">os</a>, <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b" title="Thread index/ID type.">ThreadID</a> tid) {};
<a name="l00409"></a>00409 
<a name="l00417"></a><a class="code" href="classBaseCPU.html#a72cbe84e07d749b78f60d9d98833fdb6">00417</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#a72cbe84e07d749b78f60d9d98833fdb6" title="Unserialize one thread.">unserializeThread</a>(<a class="code" href="classCheckpoint.html">Checkpoint</a> *cp, <span class="keyword">const</span> std::string &amp;section,
<a name="l00418"></a>00418                                    <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b" title="Thread index/ID type.">ThreadID</a> tid) {};
<a name="l00419"></a>00419 
<a name="l00424"></a><a class="code" href="classBaseCPU.html#a9457428dc2854dba37c69d6e4bbc368c">00424</a>     <span class="keyword">virtual</span> BranchPred *<a class="code" href="classBaseCPU.html#a9457428dc2854dba37c69d6e4bbc368c" title="Return pointer to CPU&amp;#39;s branch predictor (NULL if none).">getBranchPred</a>() { <span class="keywordflow">return</span> NULL; };
<a name="l00425"></a>00425 
<a name="l00426"></a>00426     <span class="keyword">virtual</span> <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="classBaseCPU.html#a3ce08dc77a54b66ffd7c8fd501151c0c">totalInsts</a>() <span class="keyword">const</span> = 0;
<a name="l00427"></a>00427 
<a name="l00428"></a>00428     <span class="keyword">virtual</span> <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="classBaseCPU.html#ab30b81a7597add37ebe59b8131d760a8">totalOps</a>() <span class="keyword">const</span> = 0;
<a name="l00429"></a>00429 
<a name="l00430"></a>00430     <span class="comment">// Function tracing</span>
<a name="l00431"></a>00431   <span class="keyword">private</span>:
<a name="l00432"></a><a class="code" href="classBaseCPU.html#a24ddc0ee2e0b01fe7b42021f6e6d86b5">00432</a>     <span class="keywordtype">bool</span> <a class="code" href="classBaseCPU.html#a24ddc0ee2e0b01fe7b42021f6e6d86b5">functionTracingEnabled</a>;
<a name="l00433"></a><a class="code" href="classBaseCPU.html#a170f0c1f29d6ed388c0801a359e3518f">00433</a>     std::ostream *<a class="code" href="classBaseCPU.html#a170f0c1f29d6ed388c0801a359e3518f">functionTraceStream</a>;
<a name="l00434"></a><a class="code" href="classBaseCPU.html#a4d71092b603cceb6c4ca642704dfdd82">00434</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classBaseCPU.html#a4d71092b603cceb6c4ca642704dfdd82">currentFunctionStart</a>;
<a name="l00435"></a><a class="code" href="classBaseCPU.html#a8f34cdd21b9edae704fc2132f668922e">00435</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classBaseCPU.html#a8f34cdd21b9edae704fc2132f668922e">currentFunctionEnd</a>;
<a name="l00436"></a><a class="code" href="classBaseCPU.html#a868e4625fad2b9c2a84df3b1d14fd2a0">00436</a>     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643" title="Tick count type.">Tick</a> <a class="code" href="classBaseCPU.html#a868e4625fad2b9c2a84df3b1d14fd2a0">functionEntryTick</a>;
<a name="l00437"></a>00437     <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#aaa508fbae8cb8b3c19a8b938f74c237d">enableFunctionTrace</a>();
<a name="l00438"></a>00438     <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#aa4d53c565ec1cfa15caa3f756cba25e5">traceFunctionsInternal</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceMipsISA.html#a4f7ed975e7137b5c369214789649451f">pc</a>);
<a name="l00439"></a>00439 
<a name="l00440"></a>00440   <span class="keyword">private</span>:
<a name="l00441"></a><a class="code" href="classBaseCPU.html#ac7ef9a68e7eccd264628a504c164bac7">00441</a>     <span class="keyword">static</span> <a class="code" href="classstd_1_1vector.html">std::vector&lt;BaseCPU *&gt;</a> <a class="code" href="classBaseCPU.html#ac7ef9a68e7eccd264628a504c164bac7" title="Static global cpu list.">cpuList</a>;   
<a name="l00442"></a>00442 
<a name="l00443"></a>00443   <span class="keyword">public</span>:
<a name="l00444"></a><a class="code" href="classBaseCPU.html#a4419a21d0ddb50c7acd47a5ce8b4299a">00444</a>     <span class="keywordtype">void</span> <a class="code" href="classBaseCPU.html#a4419a21d0ddb50c7acd47a5ce8b4299a">traceFunctions</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceMipsISA.html#a4f7ed975e7137b5c369214789649451f">pc</a>)
<a name="l00445"></a>00445     {
<a name="l00446"></a>00446         <span class="keywordflow">if</span> (<a class="code" href="classBaseCPU.html#a24ddc0ee2e0b01fe7b42021f6e6d86b5">functionTracingEnabled</a>)
<a name="l00447"></a>00447             <a class="code" href="classBaseCPU.html#aa4d53c565ec1cfa15caa3f756cba25e5">traceFunctionsInternal</a>(pc);
<a name="l00448"></a>00448     }
<a name="l00449"></a>00449 
<a name="l00450"></a><a class="code" href="classBaseCPU.html#a6b23f23381292741370f53e4c6465158">00450</a>     <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classBaseCPU.html#a6b23f23381292741370f53e4c6465158">numSimulatedCPUs</a>() { <span class="keywordflow">return</span> <a class="code" href="classBaseCPU.html#ac7ef9a68e7eccd264628a504c164bac7" title="Static global cpu list.">cpuList</a>.size(); }
<a name="l00451"></a><a class="code" href="classBaseCPU.html#a1d118ca73b7ed5495269cdb8dc3bda58">00451</a>     <span class="keyword">static</span> <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="classBaseCPU.html#a5d1016f049770f079b4be6b257c39492">numSimulatedInsts</a>()
<a name="l00452"></a>00452     {
<a name="l00453"></a>00453         <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="namespaceStats.html#a4a8d8ef967fddb728594b751a6170802" title="Print the total.">total</a> = 0;
<a name="l00454"></a>00454 
<a name="l00455"></a>00455         <span class="keywordtype">int</span> size = <a class="code" href="classBaseCPU.html#ac7ef9a68e7eccd264628a504c164bac7" title="Static global cpu list.">cpuList</a>.size();
<a name="l00456"></a>00456         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a> = 0; <a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a> &lt; size; ++<a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a>)
<a name="l00457"></a>00457             total += <a class="code" href="classBaseCPU.html#ac7ef9a68e7eccd264628a504c164bac7" title="Static global cpu list.">cpuList</a>[<a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a>]-&gt;<a class="code" href="classBaseCPU.html#a3ce08dc77a54b66ffd7c8fd501151c0c">totalInsts</a>();
<a name="l00458"></a>00458 
<a name="l00459"></a>00459         <span class="keywordflow">return</span> total;
<a name="l00460"></a>00460     }
<a name="l00461"></a>00461 
<a name="l00462"></a><a class="code" href="classBaseCPU.html#ac445bb6f0a0f1627500875074d4dd698">00462</a>     <span class="keyword">static</span> <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="classBaseCPU.html#af9973d9bbb2b98b2049e996d73a309c0">numSimulatedOps</a>()
<a name="l00463"></a>00463     {
<a name="l00464"></a>00464         <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="namespaceStats.html#a4a8d8ef967fddb728594b751a6170802" title="Print the total.">total</a> = 0;
<a name="l00465"></a>00465 
<a name="l00466"></a>00466         <span class="keywordtype">int</span> size = <a class="code" href="classBaseCPU.html#ac7ef9a68e7eccd264628a504c164bac7" title="Static global cpu list.">cpuList</a>.size();
<a name="l00467"></a>00467         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a> = 0; <a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a> &lt; size; ++<a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a>)
<a name="l00468"></a>00468             total += <a class="code" href="classBaseCPU.html#ac7ef9a68e7eccd264628a504c164bac7" title="Static global cpu list.">cpuList</a>[<a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a>]-&gt;<a class="code" href="classBaseCPU.html#ab30b81a7597add37ebe59b8131d760a8">totalOps</a>();
<a name="l00469"></a>00469 
<a name="l00470"></a>00470         <span class="keywordflow">return</span> total;
<a name="l00471"></a>00471     }
<a name="l00472"></a>00472 
<a name="l00473"></a>00473   <span class="keyword">public</span>:
<a name="l00474"></a>00474     <span class="comment">// Number of CPU cycles simulated</span>
<a name="l00475"></a><a class="code" href="classBaseCPU.html#a205aff3cc2e726632f492ccd4f45d3ca">00475</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseCPU.html#a205aff3cc2e726632f492ccd4f45d3ca">numCycles</a>;
<a name="l00476"></a><a class="code" href="classBaseCPU.html#aa6619f133e6944a10b35c0a499536012">00476</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseCPU.html#aa6619f133e6944a10b35c0a499536012">numWorkItemsStarted</a>;
<a name="l00477"></a><a class="code" href="classBaseCPU.html#a7b58ddbb52ac2a4c1246f6f30b224b40">00477</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseCPU.html#a7b58ddbb52ac2a4c1246f6f30b224b40">numWorkItemsCompleted</a>;
<a name="l00478"></a>00478 };
<a name="l00479"></a>00479 
<a name="l00480"></a>00480 <span class="preprocessor">#endif // __CPU_BASE_HH__</span>
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"><address style="align: right;"><small>
Generated on Sun Apr 7 2013 18:16:12 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.7.1</small></address>

</body>
</html>
