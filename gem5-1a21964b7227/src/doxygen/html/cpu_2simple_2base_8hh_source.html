<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gem5: cpu/simple/base.hh Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>cpu/simple/base.hh</h1>  </div>
</div>
<div class="contents">
<a href="cpu_2simple_2base_8hh.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (c) 2011-2012 ARM Limited</span>
<a name="l00003"></a>00003 <span class="comment"> * All rights reserved</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * The license below extends only to copyright in the software and shall</span>
<a name="l00006"></a>00006 <span class="comment"> * not be construed as granting a license to any other intellectual</span>
<a name="l00007"></a>00007 <span class="comment"> * property including but not limited to intellectual property relating</span>
<a name="l00008"></a>00008 <span class="comment"> * to a hardware implementation of the functionality of the software</span>
<a name="l00009"></a>00009 <span class="comment"> * licensed hereunder.  You may use the software subject to the license</span>
<a name="l00010"></a>00010 <span class="comment"> * terms below provided that you ensure that this notice is replicated</span>
<a name="l00011"></a>00011 <span class="comment"> * unmodified and in its entirety in all distributions of the software,</span>
<a name="l00012"></a>00012 <span class="comment"> * modified or unmodified, in source code or in binary form.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * Copyright (c) 2002-2005 The Regents of The University of Michigan</span>
<a name="l00015"></a>00015 <span class="comment"> * All rights reserved.</span>
<a name="l00016"></a>00016 <span class="comment"> *</span>
<a name="l00017"></a>00017 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00018"></a>00018 <span class="comment"> * modification, are permitted provided that the following conditions are</span>
<a name="l00019"></a>00019 <span class="comment"> * met: redistributions of source code must retain the above copyright</span>
<a name="l00020"></a>00020 <span class="comment"> * notice, this list of conditions and the following disclaimer;</span>
<a name="l00021"></a>00021 <span class="comment"> * redistributions in binary form must reproduce the above copyright</span>
<a name="l00022"></a>00022 <span class="comment"> * notice, this list of conditions and the following disclaimer in the</span>
<a name="l00023"></a>00023 <span class="comment"> * documentation and/or other materials provided with the distribution;</span>
<a name="l00024"></a>00024 <span class="comment"> * neither the name of the copyright holders nor the names of its</span>
<a name="l00025"></a>00025 <span class="comment"> * contributors may be used to endorse or promote products derived from</span>
<a name="l00026"></a>00026 <span class="comment"> * this software without specific prior written permission.</span>
<a name="l00027"></a>00027 <span class="comment"> *</span>
<a name="l00028"></a>00028 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<a name="l00029"></a>00029 <span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00030"></a>00030 <span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<a name="l00031"></a>00031 <span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<a name="l00032"></a>00032 <span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<a name="l00033"></a>00033 <span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00034"></a>00034 <span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00035"></a>00035 <span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00036"></a>00036 <span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00037"></a>00037 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00038"></a>00038 <span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00039"></a>00039 <span class="comment"> *</span>
<a name="l00040"></a>00040 <span class="comment"> * Authors: Steve Reinhardt</span>
<a name="l00041"></a>00041 <span class="comment"> *          Dave Greene</span>
<a name="l00042"></a>00042 <span class="comment"> *          Nathan Binkert</span>
<a name="l00043"></a>00043 <span class="comment"> */</span>
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="preprocessor">#ifndef __CPU_SIMPLE_BASE_HH__</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span><span class="preprocessor">#define __CPU_SIMPLE_BASE_HH__</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &quot;<a class="code" href="statistics_8hh.html" title="Declaration of Statistics objects.">base/statistics.hh</a>&quot;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &quot;config/the_isa.hh&quot;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &quot;<a class="code" href="cpu_2base_8hh.html">cpu/base.hh</a>&quot;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &quot;<a class="code" href="checker_2cpu_8hh.html">cpu/checker/cpu.hh</a>&quot;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &quot;<a class="code" href="pc__event_8hh.html">cpu/pc_event.hh</a>&quot;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &quot;<a class="code" href="simple__thread_8hh.html">cpu/simple_thread.hh</a>&quot;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &quot;<a class="code" href="cpu_2static__inst_8hh.html">cpu/static_inst.hh</a>&quot;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &quot;<a class="code" href="packet_8hh.html" title="Declaration of the Packet class.">mem/packet.hh</a>&quot;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include &quot;<a class="code" href="port_8hh.html" title="Port Object Declaration.">mem/port.hh</a>&quot;</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &quot;<a class="code" href="request_8hh.html" title="Declaration of a request, the overall memory request consisting of the parts of the request that are ...">mem/request.hh</a>&quot;</span>
<a name="l00058"></a>00058 <span class="preprocessor">#include &quot;<a class="code" href="eventq_8hh.html">sim/eventq.hh</a>&quot;</span>
<a name="l00059"></a>00059 <span class="preprocessor">#include &quot;<a class="code" href="full__system_8hh.html">sim/full_system.hh</a>&quot;</span>
<a name="l00060"></a>00060 <span class="preprocessor">#include &quot;<a class="code" href="sim_2system_8hh.html">sim/system.hh</a>&quot;</span>
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 <span class="comment">// forward declarations</span>
<a name="l00063"></a>00063 <span class="keyword">class </span><a class="code" href="classCheckpoint.html">Checkpoint</a>;
<a name="l00064"></a>00064 <span class="keyword">class </span><a class="code" href="classProcess.html">Process</a>;
<a name="l00065"></a>00065 <span class="keyword">class </span>Processor;
<a name="l00066"></a>00066 <span class="keyword">class </span><a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside of the CPU...">ThreadContext</a>;
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 <span class="keyword">namespace </span>TheISA
<a name="l00069"></a>00069 {
<a name="l00070"></a>00070     <span class="keyword">class </span>DTB;
<a name="l00071"></a>00071     <span class="keyword">class </span>ITB;
<a name="l00072"></a>00072 }
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 <span class="keyword">namespace </span>Trace {
<a name="l00075"></a>00075     <span class="keyword">class </span>InstRecord;
<a name="l00076"></a>00076 }
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 <span class="keyword">struct </span>BaseSimpleCPUParams;
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 
<a name="l00081"></a><a class="code" href="classBaseSimpleCPU.html">00081</a> <span class="keyword">class </span><a class="code" href="classBaseSimpleCPU.html">BaseSimpleCPU</a> : <span class="keyword">public</span> <a class="code" href="classBaseCPU.html">BaseCPU</a>
<a name="l00082"></a>00082 {
<a name="l00083"></a>00083   <span class="keyword">protected</span>:
<a name="l00084"></a><a class="code" href="classBaseSimpleCPU.html#aa75350fd48bf9f3690d00e06f5c0cfc8">00084</a>     <span class="keyword">typedef</span> <a class="code" href="namespaceAlphaISA.html#a77bad56584821a5741ae1512cc6f524b">TheISA::MiscReg</a> MiscReg;
<a name="l00085"></a><a class="code" href="classBaseSimpleCPU.html#acfacb4ae6b43c26bb737641936aeffb0">00085</a>     <span class="keyword">typedef</span> <a class="code" href="namespaceAlphaISA.html#a9dc38d5e1803de53d6bf5d15e22bad7f">TheISA::FloatReg</a> FloatReg;
<a name="l00086"></a><a class="code" href="classBaseSimpleCPU.html#ac49ab3d8c89f16f646cd0e906455cfa3">00086</a>     <span class="keyword">typedef</span> <a class="code" href="namespaceAlphaISA.html#a320a4070bf0f71a598dac381b6afe14e">TheISA::FloatRegBits</a> FloatRegBits;
<a name="l00087"></a>00087 
<a name="l00088"></a>00088   <span class="keyword">protected</span>:
<a name="l00089"></a><a class="code" href="classBaseSimpleCPU.html#a1c5b42da4bb058bf584c14d4efe4e456">00089</a>     <a class="code" href="classTrace_1_1InstRecord.html">Trace::InstRecord</a> *<a class="code" href="classBaseSimpleCPU.html#a1c5b42da4bb058bf584c14d4efe4e456">traceData</a>;
<a name="l00090"></a>00090 
<a name="l00091"></a><a class="code" href="classBaseSimpleCPU.html#a4b78450067adf34604e4059d614ce18a">00091</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a4b78450067adf34604e4059d614ce18a">checkPcEventQueue</a>() {
<a name="l00092"></a>00092         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> oldpc, <a class="code" href="namespaceMipsISA.html#a4f7ed975e7137b5c369214789649451f">pc</a> = <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#ae13a8a60b7d1aa44cb6e1087904934a8">instAddr</a>();
<a name="l00093"></a>00093         <span class="keywordflow">do</span> {
<a name="l00094"></a>00094             oldpc = pc;
<a name="l00095"></a>00095             <a class="code" href="classBaseCPU.html#aec7be52311ec347359ea6bffc40db74a">system</a>-&gt;<a class="code" href="classSystem.html#ad9edaa1012c359b0230fcae13c298115">pcEventQueue</a>.<a class="code" href="classPCEventQueue.html#aed7fe2096baf9efe609bfee868371a34">service</a>(<a class="code" href="classBaseSimpleCPU.html#a1d94ea1eaa23dd214f48d3833601941d" title="ThreadContext object, provides an interface for external objects to modify this thread&amp;#39;s state...">tc</a>);
<a name="l00096"></a>00096             pc = <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#ae13a8a60b7d1aa44cb6e1087904934a8">instAddr</a>();
<a name="l00097"></a>00097         } <span class="keywordflow">while</span> (oldpc != pc);
<a name="l00098"></a>00098     }
<a name="l00099"></a>00099 
<a name="l00100"></a>00100   <span class="keyword">public</span>:
<a name="l00101"></a>00101     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a3ff77fcb015bb29f2f067cb4ca3bb710">wakeup</a>();
<a name="l00102"></a>00102 
<a name="l00103"></a><a class="code" href="classBaseSimpleCPU.html#ad0954d5aff40135d17f99fb797023745">00103</a>     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#ad0954d5aff40135d17f99fb797023745">zero_fill_64</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceX86ISA.html#a79b5c08c190167d17c9b9b3fd40112f6">addr</a>) {
<a name="l00104"></a>00104       <span class="keyword">static</span> <span class="keywordtype">int</span> warned = 0;
<a name="l00105"></a>00105       <span class="keywordflow">if</span> (!warned) {
<a name="l00106"></a>00106         <a class="code" href="base_2misc_8hh.html#a8224a361dddd2ad59b411982e5ea746f">warn</a> (<span class="stringliteral">&quot;WH64 is not implemented&quot;</span>);
<a name="l00107"></a>00107         warned = 1;
<a name="l00108"></a>00108       }
<a name="l00109"></a>00109     };
<a name="l00110"></a>00110 
<a name="l00111"></a>00111   <span class="keyword">public</span>:
<a name="l00112"></a>00112     <a class="code" href="classBaseSimpleCPU.html#a6cbe27af7326aeeb9053eb9c1dcfc680">BaseSimpleCPU</a>(BaseSimpleCPUParams *<a class="code" href="classBaseCPU.html#a8e895dfbcaacea5e84e7e5dbfcead414">params</a>);
<a name="l00113"></a>00113     <span class="keyword">virtual</span> <a class="code" href="classBaseSimpleCPU.html#a9e4da8c845182af0f6824571a038fb77">~BaseSimpleCPU</a>();
<a name="l00114"></a>00114 
<a name="l00115"></a>00115   <span class="keyword">public</span>:
<a name="l00117"></a><a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d">00117</a>     <a class="code" href="classSimpleThread.html" title="The SimpleThread object provides a combination of the ThreadState object and the ThreadContext interf...">SimpleThread</a> *<a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>;
<a name="l00118"></a>00118 
<a name="l00122"></a><a class="code" href="classBaseSimpleCPU.html#a1d94ea1eaa23dd214f48d3833601941d">00122</a>     <a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside of the CPU...">ThreadContext</a> *<a class="code" href="classBaseSimpleCPU.html#a1d94ea1eaa23dd214f48d3833601941d" title="ThreadContext object, provides an interface for external objects to modify this thread&amp;#39;s state...">tc</a>;
<a name="l00123"></a>00123 
<a name="l00124"></a><a class="code" href="classBaseSimpleCPU.html#aacbd50a6bd42f585916eb8b39b939616">00124</a>     <a class="code" href="classCheckerCPU.html" title="CheckerCPU class.">CheckerCPU</a> *<a class="code" href="classBaseSimpleCPU.html#aacbd50a6bd42f585916eb8b39b939616">checker</a>;
<a name="l00125"></a>00125 
<a name="l00126"></a>00126   <span class="keyword">protected</span>:
<a name="l00127"></a>00127 
<a name="l00128"></a><a class="code" href="classBaseSimpleCPU.html#a11b0e96158af07c6e2edfe028774238c">00128</a>     <span class="keyword">enum</span> <a class="code" href="classBaseSimpleCPU.html#a11b0e96158af07c6e2edfe028774238c">Status</a> {
<a name="l00129"></a><a class="code" href="classBaseSimpleCPU.html#a11b0e96158af07c6e2edfe028774238cafae0269c6164fdb111af106f09539323">00129</a>         Idle,
<a name="l00130"></a><a class="code" href="classBaseSimpleCPU.html#a11b0e96158af07c6e2edfe028774238ca84c8af944b2ef29375b90043bbf68de9">00130</a>         Running,
<a name="l00131"></a><a class="code" href="classBaseSimpleCPU.html#a11b0e96158af07c6e2edfe028774238ca44febafa688e82a2b504a9915a9a9783">00131</a>         Faulting,
<a name="l00132"></a><a class="code" href="classBaseSimpleCPU.html#a11b0e96158af07c6e2edfe028774238cad1cc4e6177194e6ec880aa5ab52292c1">00132</a>         ITBWaitResponse,
<a name="l00133"></a><a class="code" href="classBaseSimpleCPU.html#a11b0e96158af07c6e2edfe028774238caa7496511aa8e1d7e460bc897e01f5b79">00133</a>         IcacheRetry,
<a name="l00134"></a><a class="code" href="classBaseSimpleCPU.html#a11b0e96158af07c6e2edfe028774238ca4bd34dc9a46a8fd926a6ef60e5cec13a">00134</a>         IcacheWaitResponse,
<a name="l00135"></a><a class="code" href="classBaseSimpleCPU.html#a11b0e96158af07c6e2edfe028774238ca06e3061ff50abdc4f3edb3bb0d9ba3b6">00135</a>         IcacheWaitSwitch,
<a name="l00136"></a><a class="code" href="classBaseSimpleCPU.html#a11b0e96158af07c6e2edfe028774238ca4e90a1dadb40a968915e9ba0e0f3408b">00136</a>         DTBWaitResponse,
<a name="l00137"></a><a class="code" href="classBaseSimpleCPU.html#a11b0e96158af07c6e2edfe028774238ca308562041789795b2d147e312bcc8ad2">00137</a>         DcacheRetry,
<a name="l00138"></a><a class="code" href="classBaseSimpleCPU.html#a11b0e96158af07c6e2edfe028774238ca88acfb70dd3d2bf3c5312aa1603c51d5">00138</a>         DcacheWaitResponse,
<a name="l00139"></a><a class="code" href="classBaseSimpleCPU.html#a11b0e96158af07c6e2edfe028774238ca7ed6f8b9511312fe416e75c40129225e">00139</a>         DcacheWaitSwitch,
<a name="l00140"></a>00140     };
<a name="l00141"></a>00141 
<a name="l00142"></a><a class="code" href="classBaseSimpleCPU.html#a10a9927ef33b83d6cd4dbb90f2862181">00142</a>     <a class="code" href="classBaseSimpleCPU.html#a11b0e96158af07c6e2edfe028774238c">Status</a> <a class="code" href="classBaseSimpleCPU.html#a10a9927ef33b83d6cd4dbb90f2862181">_status</a>;
<a name="l00143"></a>00143 
<a name="l00144"></a>00144   <span class="keyword">public</span>:
<a name="l00145"></a>00145 
<a name="l00146"></a>00146     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classBaseSimpleCPU.html#ae14bdcb5f42150a99d0513e0e10e91e6">dbg_vtophys</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceX86ISA.html#a79b5c08c190167d17c9b9b3fd40112f6">addr</a>);
<a name="l00147"></a>00147 
<a name="l00148"></a><a class="code" href="classBaseSimpleCPU.html#ae086a30968c555e2843fbea5957346db">00148</a>     <span class="keywordtype">bool</span> <a class="code" href="classBaseSimpleCPU.html#ae086a30968c555e2843fbea5957346db">interval_stats</a>;
<a name="l00149"></a>00149 
<a name="l00150"></a>00150     <span class="comment">// current instruction</span>
<a name="l00151"></a><a class="code" href="classBaseSimpleCPU.html#a1fc11d911f6b8a1308324e86f81a9d24">00151</a>     <a class="code" href="namespaceAlphaISA.html#a63693d656cc2bf4bdd0de3e493eabe66">TheISA::MachInst</a> <a class="code" href="classBaseSimpleCPU.html#a1fc11d911f6b8a1308324e86f81a9d24">inst</a>;
<a name="l00152"></a>00152 
<a name="l00153"></a><a class="code" href="classBaseSimpleCPU.html#a8bfe7f75498271dfe7323d2ac6b55938">00153</a>     <a class="code" href="classRefCountingPtr.html">StaticInstPtr</a> <a class="code" href="classBaseSimpleCPU.html#a8bfe7f75498271dfe7323d2ac6b55938">curStaticInst</a>;
<a name="l00154"></a><a class="code" href="classBaseSimpleCPU.html#a8af43f60ab6366f768575def72a813d0">00154</a>     <a class="code" href="classRefCountingPtr.html">StaticInstPtr</a> <a class="code" href="classBaseSimpleCPU.html#a8af43f60ab6366f768575def72a813d0">curMacroStaticInst</a>;
<a name="l00155"></a>00155 
<a name="l00156"></a>00156     <span class="comment">//This is the offset from the current pc that fetch should be performed at</span>
<a name="l00157"></a><a class="code" href="classBaseSimpleCPU.html#afb57c61efa50fcc79e5c1c1d67e19e11">00157</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classBaseSimpleCPU.html#afb57c61efa50fcc79e5c1c1d67e19e11">fetchOffset</a>;
<a name="l00158"></a>00158     <span class="comment">//This flag says to stay at the current pc. This is useful for</span>
<a name="l00159"></a>00159     <span class="comment">//instructions which go beyond MachInst boundaries.</span>
<a name="l00160"></a><a class="code" href="classBaseSimpleCPU.html#a15483d2869b46930a1e62ae733a1b45f">00160</a>     <span class="keywordtype">bool</span> <a class="code" href="classBaseSimpleCPU.html#a15483d2869b46930a1e62ae733a1b45f">stayAtPC</a>;
<a name="l00161"></a>00161 
<a name="l00162"></a>00162     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a3e4cbf8767e698f193906151e081bedd">checkForInterrupts</a>();
<a name="l00163"></a>00163     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a9ec5f0ef84496e3679b1926f1c450e72">setupFetchRequest</a>(<a class="code" href="classRequest.html">Request</a> *req);
<a name="l00164"></a>00164     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#afd61f01f4e1ffb85eff494734ce68e88">preExecute</a>();
<a name="l00165"></a>00165     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a59264184faf4bf78d00099b624183107">postExecute</a>();
<a name="l00166"></a>00166     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a1ca7acb41e96d7e1b851326fc5494afd">advancePC</a>(<a class="code" href="classRefCountingPtr.html">Fault</a> fault);
<a name="l00167"></a>00167 
<a name="l00168"></a>00168     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a066ccfe16fd02d871619fda43a28e79a" title="Notify the CPU that the indicated context is now deallocated.">deallocateContext</a>(<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b" title="Thread index/ID type.">ThreadID</a> thread_num);
<a name="l00169"></a>00169     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#ad6d1ed581e51d87edbc7472ab88addd4" title="Notify the CPU that the indicated context is now halted.">haltContext</a>(<a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b" title="Thread index/ID type.">ThreadID</a> thread_num);
<a name="l00170"></a>00170 
<a name="l00171"></a>00171     <span class="comment">// statistics</span>
<a name="l00172"></a>00172     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a6ba9f5c41f7a03512c3942809726f743" title="Register statistics for this object.">regStats</a>();
<a name="l00173"></a>00173     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#ac93eb0132511fec316787a5dbb728b7c" title="Reset statistics associated with this object.">resetStats</a>();
<a name="l00174"></a>00174 
<a name="l00175"></a>00175     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a2e24c87d88b073c4790bacf887870840" title="startup() is the final initialization call before simulation.">startup</a>();
<a name="l00176"></a>00176 
<a name="l00177"></a>00177     <span class="comment">// number of simulated instructions</span>
<a name="l00178"></a><a class="code" href="classBaseSimpleCPU.html#a7490f7cac7b7ea86490b8a12cb8ef5b7">00178</a>     <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="classBaseSimpleCPU.html#a7490f7cac7b7ea86490b8a12cb8ef5b7">numInst</a>;
<a name="l00179"></a><a class="code" href="classBaseSimpleCPU.html#a5734d247b7fcf897d765ab875469e9c0">00179</a>     <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="classBaseSimpleCPU.html#a5734d247b7fcf897d765ab875469e9c0">startNumInst</a>;
<a name="l00180"></a><a class="code" href="classBaseSimpleCPU.html#a08a4734e5c8359bb018ed39dfc049e8a">00180</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#a08a4734e5c8359bb018ed39dfc049e8a">numInsts</a>;
<a name="l00181"></a><a class="code" href="classBaseSimpleCPU.html#a993608c376f77731a627d10a818cfcf2">00181</a>     <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="classBaseSimpleCPU.html#a993608c376f77731a627d10a818cfcf2">numOp</a>;
<a name="l00182"></a><a class="code" href="classBaseSimpleCPU.html#a00a8db332170c1ffad7b96b4db17de14">00182</a>     <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="classBaseSimpleCPU.html#a00a8db332170c1ffad7b96b4db17de14">startNumOp</a>;
<a name="l00183"></a><a class="code" href="classBaseSimpleCPU.html#af1c21f0050605dccc4a905c93df82d1e">00183</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#af1c21f0050605dccc4a905c93df82d1e">numOps</a>;
<a name="l00184"></a>00184 
<a name="l00185"></a><a class="code" href="classBaseSimpleCPU.html#a2c520e5668a379e4c7dc05cc03127001">00185</a>     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a2c520e5668a379e4c7dc05cc03127001">countInst</a>()
<a name="l00186"></a>00186     {
<a name="l00187"></a>00187         <span class="keywordflow">if</span> (!<a class="code" href="classBaseSimpleCPU.html#a8bfe7f75498271dfe7323d2ac6b55938">curStaticInst</a>-&gt;isMicroop() || <a class="code" href="classBaseSimpleCPU.html#a8bfe7f75498271dfe7323d2ac6b55938">curStaticInst</a>-&gt;isLastMicroop()) {
<a name="l00188"></a>00188             <a class="code" href="classBaseSimpleCPU.html#a7490f7cac7b7ea86490b8a12cb8ef5b7">numInst</a>++;
<a name="l00189"></a>00189             <a class="code" href="classBaseSimpleCPU.html#a08a4734e5c8359bb018ed39dfc049e8a">numInsts</a>++;
<a name="l00190"></a>00190         }
<a name="l00191"></a>00191         <a class="code" href="classBaseSimpleCPU.html#a993608c376f77731a627d10a818cfcf2">numOp</a>++;
<a name="l00192"></a>00192         <a class="code" href="classBaseSimpleCPU.html#af1c21f0050605dccc4a905c93df82d1e">numOps</a>++;
<a name="l00193"></a>00193 
<a name="l00194"></a>00194         <a class="code" href="classBaseCPU.html#aec7be52311ec347359ea6bffc40db74a">system</a>-&gt;<a class="code" href="classSystem.html#ad0fe435fb9766a61216d5eb92d8b2c20">totalNumInsts</a>++;
<a name="l00195"></a>00195         <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="structThreadState.html#aa26e090179ceb3a65ba34cd1c725b127">funcExeInst</a>++;
<a name="l00196"></a>00196     }
<a name="l00197"></a>00197 
<a name="l00198"></a><a class="code" href="classBaseSimpleCPU.html#a1592d67217cd1d89b364fa684762cf91">00198</a>     <span class="keyword">virtual</span> <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="classBaseSimpleCPU.html#a1592d67217cd1d89b364fa684762cf91">totalInsts</a>()<span class="keyword"> const</span>
<a name="l00199"></a>00199 <span class="keyword">    </span>{
<a name="l00200"></a>00200         <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a7490f7cac7b7ea86490b8a12cb8ef5b7">numInst</a> - <a class="code" href="classBaseSimpleCPU.html#a5734d247b7fcf897d765ab875469e9c0">startNumInst</a>;
<a name="l00201"></a>00201     }
<a name="l00202"></a>00202 
<a name="l00203"></a><a class="code" href="classBaseSimpleCPU.html#a8722329f0d68307cda0dd4c52be7b092">00203</a>     <span class="keyword">virtual</span> <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="classBaseSimpleCPU.html#a8722329f0d68307cda0dd4c52be7b092">totalOps</a>()<span class="keyword"> const</span>
<a name="l00204"></a>00204 <span class="keyword">    </span>{
<a name="l00205"></a>00205         <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a993608c376f77731a627d10a818cfcf2">numOp</a> - <a class="code" href="classBaseSimpleCPU.html#a00a8db332170c1ffad7b96b4db17de14">startNumOp</a>;
<a name="l00206"></a>00206     }
<a name="l00207"></a>00207 
<a name="l00208"></a>00208     <span class="comment">//number of integer alu accesses</span>
<a name="l00209"></a><a class="code" href="classBaseSimpleCPU.html#a78862caa247382f68558022ed3459a2b">00209</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#a78862caa247382f68558022ed3459a2b">numIntAluAccesses</a>;
<a name="l00210"></a>00210 
<a name="l00211"></a>00211     <span class="comment">//number of float alu accesses</span>
<a name="l00212"></a><a class="code" href="classBaseSimpleCPU.html#a92e4441d4c4489fae909a34333495ced">00212</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#a92e4441d4c4489fae909a34333495ced">numFpAluAccesses</a>;
<a name="l00213"></a>00213 
<a name="l00214"></a>00214     <span class="comment">//number of function calls/returns</span>
<a name="l00215"></a><a class="code" href="classBaseSimpleCPU.html#a7b93383a26942fde16504e3064587eb4">00215</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#a7b93383a26942fde16504e3064587eb4">numCallsReturns</a>;
<a name="l00216"></a>00216 
<a name="l00217"></a>00217     <span class="comment">//conditional control instructions;</span>
<a name="l00218"></a><a class="code" href="classBaseSimpleCPU.html#af8fec9bfa83e2c08e6c4aa0701a9786b">00218</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#af8fec9bfa83e2c08e6c4aa0701a9786b">numCondCtrlInsts</a>;
<a name="l00219"></a>00219 
<a name="l00220"></a>00220     <span class="comment">//number of int instructions</span>
<a name="l00221"></a><a class="code" href="classBaseSimpleCPU.html#a6f079f8c42e0225140a9ceab4aa5a58c">00221</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#a6f079f8c42e0225140a9ceab4aa5a58c">numIntInsts</a>;
<a name="l00222"></a>00222 
<a name="l00223"></a>00223     <span class="comment">//number of float instructions</span>
<a name="l00224"></a><a class="code" href="classBaseSimpleCPU.html#a058eb4a543b25184edd85729f055e6d3">00224</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#a058eb4a543b25184edd85729f055e6d3">numFpInsts</a>;
<a name="l00225"></a>00225 
<a name="l00226"></a>00226     <span class="comment">//number of integer register file accesses</span>
<a name="l00227"></a><a class="code" href="classBaseSimpleCPU.html#a6b7b623f9d2bff2c9a11d700d185d464">00227</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#a6b7b623f9d2bff2c9a11d700d185d464">numIntRegReads</a>;
<a name="l00228"></a><a class="code" href="classBaseSimpleCPU.html#ac90d4e309094cbc3f9398a013bac35f2">00228</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#ac90d4e309094cbc3f9398a013bac35f2">numIntRegWrites</a>;
<a name="l00229"></a>00229 
<a name="l00230"></a>00230     <span class="comment">//number of float register file accesses</span>
<a name="l00231"></a><a class="code" href="classBaseSimpleCPU.html#a8d217b54bdd2766c1b45d8d21dbda753">00231</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#a8d217b54bdd2766c1b45d8d21dbda753">numFpRegReads</a>;
<a name="l00232"></a><a class="code" href="classBaseSimpleCPU.html#a8ca21ef54069cc8d1bf6bc4a3ab5a12f">00232</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#a8ca21ef54069cc8d1bf6bc4a3ab5a12f">numFpRegWrites</a>;
<a name="l00233"></a>00233 
<a name="l00234"></a>00234     <span class="comment">// number of simulated memory references</span>
<a name="l00235"></a><a class="code" href="classBaseSimpleCPU.html#ac1b3fcbdd48d87892dfabb31e8de3708">00235</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#ac1b3fcbdd48d87892dfabb31e8de3708">numMemRefs</a>;
<a name="l00236"></a><a class="code" href="classBaseSimpleCPU.html#a142996d0158217aa13095d8ccceea87e">00236</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#a142996d0158217aa13095d8ccceea87e">numLoadInsts</a>;
<a name="l00237"></a><a class="code" href="classBaseSimpleCPU.html#af28a4a72f6d566f938303cb29ba0214f">00237</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#af28a4a72f6d566f938303cb29ba0214f">numStoreInsts</a>;
<a name="l00238"></a>00238 
<a name="l00239"></a>00239     <span class="comment">// number of idle cycles</span>
<a name="l00240"></a><a class="code" href="classBaseSimpleCPU.html#a0c7d34ef49592cc15fc377fc2e2babc8">00240</a>     <a class="code" href="classStats_1_1Formula.html" title="A formula for statistics that is calculated when printed.">Stats::Formula</a> <a class="code" href="classBaseSimpleCPU.html#a0c7d34ef49592cc15fc377fc2e2babc8">numIdleCycles</a>;
<a name="l00241"></a>00241 
<a name="l00242"></a>00242     <span class="comment">// number of busy cycles</span>
<a name="l00243"></a><a class="code" href="classBaseSimpleCPU.html#ab595129bb527284dfe4f9c1c6cb5af8c">00243</a>     <a class="code" href="classStats_1_1Formula.html" title="A formula for statistics that is calculated when printed.">Stats::Formula</a> <a class="code" href="classBaseSimpleCPU.html#ab595129bb527284dfe4f9c1c6cb5af8c">numBusyCycles</a>;
<a name="l00244"></a>00244 
<a name="l00245"></a>00245     <span class="comment">// number of simulated loads</span>
<a name="l00246"></a><a class="code" href="classBaseSimpleCPU.html#a23b8900df5c1d60413ecd43a2c7f2f33">00246</a>     <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="classBaseSimpleCPU.html#a23b8900df5c1d60413ecd43a2c7f2f33">numLoad</a>;
<a name="l00247"></a><a class="code" href="classBaseSimpleCPU.html#a8d04099ba1cf18c47d8200a0593a598f">00247</a>     <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="classBaseSimpleCPU.html#a8d04099ba1cf18c47d8200a0593a598f">startNumLoad</a>;
<a name="l00248"></a>00248 
<a name="l00249"></a>00249     <span class="comment">// number of idle cycles</span>
<a name="l00250"></a><a class="code" href="classBaseSimpleCPU.html#aaf55ab0bb573e20c49c80ad8310a1214">00250</a>     <a class="code" href="classStats_1_1Average.html" title="A stat that calculates the per tick average of a value.">Stats::Average</a> <a class="code" href="classBaseSimpleCPU.html#aaf55ab0bb573e20c49c80ad8310a1214">notIdleFraction</a>;
<a name="l00251"></a><a class="code" href="classBaseSimpleCPU.html#a68ca2081a99bf8cb1dfd4415917f931a">00251</a>     <a class="code" href="classStats_1_1Formula.html" title="A formula for statistics that is calculated when printed.">Stats::Formula</a> <a class="code" href="classBaseSimpleCPU.html#a68ca2081a99bf8cb1dfd4415917f931a">idleFraction</a>;
<a name="l00252"></a>00252 
<a name="l00253"></a>00253     <span class="comment">// number of cycles stalled for I-cache responses</span>
<a name="l00254"></a><a class="code" href="classBaseSimpleCPU.html#ad77c1de1fb7c9215616064010b90884c">00254</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#ad77c1de1fb7c9215616064010b90884c">icacheStallCycles</a>;
<a name="l00255"></a><a class="code" href="classBaseSimpleCPU.html#a739bb5beeeebfab6bb035432760258e6">00255</a>     <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="classBaseSimpleCPU.html#a739bb5beeeebfab6bb035432760258e6">lastIcacheStall</a>;
<a name="l00256"></a>00256 
<a name="l00257"></a>00257     <span class="comment">// number of cycles stalled for I-cache retries</span>
<a name="l00258"></a><a class="code" href="classBaseSimpleCPU.html#a7393b259b843fa7789d93a65d0597410">00258</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#a7393b259b843fa7789d93a65d0597410">icacheRetryCycles</a>;
<a name="l00259"></a><a class="code" href="classBaseSimpleCPU.html#a9af5bf905d6c0cbabbcbcdb622d07e2b">00259</a>     <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="classBaseSimpleCPU.html#a9af5bf905d6c0cbabbcbcdb622d07e2b">lastIcacheRetry</a>;
<a name="l00260"></a>00260 
<a name="l00261"></a>00261     <span class="comment">// number of cycles stalled for D-cache responses</span>
<a name="l00262"></a><a class="code" href="classBaseSimpleCPU.html#ae6b1258deb670c827fd19ef71b1d9b9a">00262</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#ae6b1258deb670c827fd19ef71b1d9b9a">dcacheStallCycles</a>;
<a name="l00263"></a><a class="code" href="classBaseSimpleCPU.html#a0bdd58c0fe479d88ab4f4c9ab523af24">00263</a>     <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="classBaseSimpleCPU.html#a0bdd58c0fe479d88ab4f4c9ab523af24">lastDcacheStall</a>;
<a name="l00264"></a>00264 
<a name="l00265"></a>00265     <span class="comment">// number of cycles stalled for D-cache retries</span>
<a name="l00266"></a><a class="code" href="classBaseSimpleCPU.html#a0116244bd7cf2046438658bea98ff4d6">00266</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classBaseSimpleCPU.html#a0116244bd7cf2046438658bea98ff4d6">dcacheRetryCycles</a>;
<a name="l00267"></a><a class="code" href="classBaseSimpleCPU.html#a7100ec827b84621cfe5004a14e6c4c81">00267</a>     <a class="code" href="base_2types_8hh.html#ae1475755791765b8e6f6a8bb091e273e" title="Statistics counter type.">Counter</a> <a class="code" href="classBaseSimpleCPU.html#a7100ec827b84621cfe5004a14e6c4c81">lastDcacheRetry</a>;
<a name="l00268"></a>00268 
<a name="l00269"></a>00269     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#af94b6f4b9deb113559bc6f1ecccf41ff" title="Serialize a single thread.">serializeThread</a>(std::ostream &amp;<a class="code" href="namespaceX86ISA.html#aea9fbab71662ba06cf536e05edfaaad1">os</a>, <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b" title="Thread index/ID type.">ThreadID</a> tid);
<a name="l00270"></a>00270     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a8fa895b89375a622051bd220c743e0e5" title="Unserialize one thread.">unserializeThread</a>(<a class="code" href="classCheckpoint.html">Checkpoint</a> *cp, <span class="keyword">const</span> std::string &amp;section,
<a name="l00271"></a>00271                            <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b" title="Thread index/ID type.">ThreadID</a> tid);
<a name="l00272"></a>00272 
<a name="l00273"></a>00273     <span class="comment">// These functions are only used in CPU models that split</span>
<a name="l00274"></a>00274     <span class="comment">// effective address computation from the actual memory access.</span>
<a name="l00275"></a><a class="code" href="classBaseSimpleCPU.html#aa8293839bfb89c97a349a9f0520dbe33">00275</a>     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#aa8293839bfb89c97a349a9f0520dbe33">setEA</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> EA) { <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;BaseSimpleCPU::setEA() not implemented\n&quot;</span>); }
<a name="l00276"></a><a class="code" href="classBaseSimpleCPU.html#a59754ffda34f37e42515046e4a3c58e3">00276</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classBaseSimpleCPU.html#a59754ffda34f37e42515046e4a3c58e3">getEA</a>()        { <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;BaseSimpleCPU::getEA() not implemented\n&quot;</span>);
<a name="l00277"></a>00277         M5_DUMMY_RETURN}
<a name="l00278"></a>00278 
<a name="l00279"></a>00279     <span class="comment">// The register accessor methods provide the index of the</span>
<a name="l00280"></a>00280     <span class="comment">// instruction&#39;s operand (e.g., 0 or 1), not the architectural</span>
<a name="l00281"></a>00281     <span class="comment">// register index, to simplify the implementation of register</span>
<a name="l00282"></a>00282     <span class="comment">// renaming.  We find the architectural register index by indexing</span>
<a name="l00283"></a>00283     <span class="comment">// into the instruction&#39;s own operand index table.  Note that a</span>
<a name="l00284"></a>00284     <span class="comment">// raw pointer to the StaticInst is provided instead of a</span>
<a name="l00285"></a>00285     <span class="comment">// ref-counted StaticInstPtr to redice overhead.  This is fine as</span>
<a name="l00286"></a>00286     <span class="comment">// long as these methods don&#39;t copy the pointer into any long-term</span>
<a name="l00287"></a>00287     <span class="comment">// storage (which is pretty hard to imagine they would have reason</span>
<a name="l00288"></a>00288     <span class="comment">// to do).</span>
<a name="l00289"></a>00289 
<a name="l00290"></a><a class="code" href="classBaseSimpleCPU.html#a3807a7c139a073227a692114209af3aa">00290</a>     uint64_t <a class="code" href="classBaseSimpleCPU.html#a3807a7c139a073227a692114209af3aa">readIntRegOperand</a>(<span class="keyword">const</span> <a class="code" href="classStaticInst.html" title="Base, ISA-independent static instruction class.">StaticInst</a> *<a class="code" href="namespacePowerISA.html#a53469916ca59ded1955f23a592f32f41">si</a>, <span class="keywordtype">int</span> idx)
<a name="l00291"></a>00291     {
<a name="l00292"></a>00292         <a class="code" href="classBaseSimpleCPU.html#a6b7b623f9d2bff2c9a11d700d185d464">numIntRegReads</a>++;
<a name="l00293"></a>00293         <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a158a908e3bf09d626cf259d7bf3be0e6">readIntReg</a>(si-&gt;<a class="code" href="classStaticInst.html#ae151ec23f46a8c2dba01f533d24abbf5" title="Return logical index (architectural reg num) of i&amp;#39;th source reg.">srcRegIdx</a>(idx));
<a name="l00294"></a>00294     }
<a name="l00295"></a>00295 
<a name="l00296"></a><a class="code" href="classBaseSimpleCPU.html#a2bb5a9851be5078abb88cde37f798f20">00296</a>     <a class="code" href="classBaseSimpleCPU.html#acfacb4ae6b43c26bb737641936aeffb0">FloatReg</a> <a class="code" href="classBaseSimpleCPU.html#a2bb5a9851be5078abb88cde37f798f20">readFloatRegOperand</a>(<span class="keyword">const</span> <a class="code" href="classStaticInst.html" title="Base, ISA-independent static instruction class.">StaticInst</a> *<a class="code" href="namespacePowerISA.html#a53469916ca59ded1955f23a592f32f41">si</a>, <span class="keywordtype">int</span> idx)
<a name="l00297"></a>00297     {
<a name="l00298"></a>00298         <a class="code" href="classBaseSimpleCPU.html#a8d217b54bdd2766c1b45d8d21dbda753">numFpRegReads</a>++;
<a name="l00299"></a>00299         <span class="keywordtype">int</span> reg_idx = si-&gt;<a class="code" href="classStaticInst.html#ae151ec23f46a8c2dba01f533d24abbf5" title="Return logical index (architectural reg num) of i&amp;#39;th source reg.">srcRegIdx</a>(idx) - TheISA::FP_Base_DepTag;
<a name="l00300"></a>00300         <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a962682446cebe5c0dfa6fe1c71a63a07">readFloatReg</a>(reg_idx);
<a name="l00301"></a>00301     }
<a name="l00302"></a>00302 
<a name="l00303"></a><a class="code" href="classBaseSimpleCPU.html#a2219ef52a5d329b042ea7c0ac53be6ab">00303</a>     <a class="code" href="classBaseSimpleCPU.html#ac49ab3d8c89f16f646cd0e906455cfa3">FloatRegBits</a> <a class="code" href="classBaseSimpleCPU.html#a2219ef52a5d329b042ea7c0ac53be6ab">readFloatRegOperandBits</a>(<span class="keyword">const</span> <a class="code" href="classStaticInst.html" title="Base, ISA-independent static instruction class.">StaticInst</a> *<a class="code" href="namespacePowerISA.html#a53469916ca59ded1955f23a592f32f41">si</a>, <span class="keywordtype">int</span> idx)
<a name="l00304"></a>00304     {
<a name="l00305"></a>00305         <a class="code" href="classBaseSimpleCPU.html#a8d217b54bdd2766c1b45d8d21dbda753">numFpRegReads</a>++;
<a name="l00306"></a>00306         <span class="keywordtype">int</span> reg_idx = si-&gt;<a class="code" href="classStaticInst.html#ae151ec23f46a8c2dba01f533d24abbf5" title="Return logical index (architectural reg num) of i&amp;#39;th source reg.">srcRegIdx</a>(idx) - TheISA::FP_Base_DepTag;
<a name="l00307"></a>00307         <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#ae5cc41dcc3e52c056c9a95f525c018dc">readFloatRegBits</a>(reg_idx);
<a name="l00308"></a>00308     }
<a name="l00309"></a>00309 
<a name="l00310"></a><a class="code" href="classBaseSimpleCPU.html#a5ae0a6521a3c4eaa8d67697c0faf3f57">00310</a>     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a5ae0a6521a3c4eaa8d67697c0faf3f57">setIntRegOperand</a>(<span class="keyword">const</span> <a class="code" href="classStaticInst.html" title="Base, ISA-independent static instruction class.">StaticInst</a> *<a class="code" href="namespacePowerISA.html#a53469916ca59ded1955f23a592f32f41">si</a>, <span class="keywordtype">int</span> idx, uint64_t <a class="code" href="namespaceX86ISA.html#ab4e00e23f8f36386f97d8abcccb17180">val</a>)
<a name="l00311"></a>00311     {
<a name="l00312"></a>00312         <a class="code" href="classBaseSimpleCPU.html#ac90d4e309094cbc3f9398a013bac35f2">numIntRegWrites</a>++;
<a name="l00313"></a>00313         <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a7bd7bf4d67e786dcb101c4f1071366fe">setIntReg</a>(si-&gt;<a class="code" href="classStaticInst.html#ad5a7482935794f7140ab566d4bc36903" title="Return logical index (architectural reg num) of i&amp;#39;th destination reg.">destRegIdx</a>(idx), val);
<a name="l00314"></a>00314     }
<a name="l00315"></a>00315 
<a name="l00316"></a><a class="code" href="classBaseSimpleCPU.html#afce13ebbc8e40a376a5a7926a21ef30b">00316</a>     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#afce13ebbc8e40a376a5a7926a21ef30b">setFloatRegOperand</a>(<span class="keyword">const</span> <a class="code" href="classStaticInst.html" title="Base, ISA-independent static instruction class.">StaticInst</a> *<a class="code" href="namespacePowerISA.html#a53469916ca59ded1955f23a592f32f41">si</a>, <span class="keywordtype">int</span> idx, <a class="code" href="classBaseSimpleCPU.html#acfacb4ae6b43c26bb737641936aeffb0">FloatReg</a> <a class="code" href="namespaceX86ISA.html#ab4e00e23f8f36386f97d8abcccb17180">val</a>)
<a name="l00317"></a>00317     {
<a name="l00318"></a>00318         <a class="code" href="classBaseSimpleCPU.html#a8ca21ef54069cc8d1bf6bc4a3ab5a12f">numFpRegWrites</a>++;
<a name="l00319"></a>00319         <span class="keywordtype">int</span> reg_idx = si-&gt;<a class="code" href="classStaticInst.html#ad5a7482935794f7140ab566d4bc36903" title="Return logical index (architectural reg num) of i&amp;#39;th destination reg.">destRegIdx</a>(idx) - TheISA::FP_Base_DepTag;
<a name="l00320"></a>00320         <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a4b227198d63b7a42c9f80dd111abf519">setFloatReg</a>(reg_idx, val);
<a name="l00321"></a>00321     }
<a name="l00322"></a>00322 
<a name="l00323"></a><a class="code" href="classBaseSimpleCPU.html#ab0e0eabc3392f945bb73462e043e6a40">00323</a>     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#ab0e0eabc3392f945bb73462e043e6a40">setFloatRegOperandBits</a>(<span class="keyword">const</span> <a class="code" href="classStaticInst.html" title="Base, ISA-independent static instruction class.">StaticInst</a> *<a class="code" href="namespacePowerISA.html#a53469916ca59ded1955f23a592f32f41">si</a>, <span class="keywordtype">int</span> idx,
<a name="l00324"></a>00324                                 <a class="code" href="classBaseSimpleCPU.html#ac49ab3d8c89f16f646cd0e906455cfa3">FloatRegBits</a> <a class="code" href="namespaceX86ISA.html#ab4e00e23f8f36386f97d8abcccb17180">val</a>)
<a name="l00325"></a>00325     {
<a name="l00326"></a>00326         <a class="code" href="classBaseSimpleCPU.html#a8ca21ef54069cc8d1bf6bc4a3ab5a12f">numFpRegWrites</a>++;
<a name="l00327"></a>00327         <span class="keywordtype">int</span> reg_idx = si-&gt;<a class="code" href="classStaticInst.html#ad5a7482935794f7140ab566d4bc36903" title="Return logical index (architectural reg num) of i&amp;#39;th destination reg.">destRegIdx</a>(idx) - TheISA::FP_Base_DepTag;
<a name="l00328"></a>00328         <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a1a868950369e63b12107b954ef3494ee">setFloatRegBits</a>(reg_idx, val);
<a name="l00329"></a>00329     }
<a name="l00330"></a>00330 
<a name="l00331"></a><a class="code" href="classBaseSimpleCPU.html#a8578a4d2e59834ec78459685f08a11ca">00331</a>     <span class="keywordtype">bool</span> <a class="code" href="classBaseSimpleCPU.html#a8578a4d2e59834ec78459685f08a11ca">readPredicate</a>() { <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a93f9230a1b805bf2e55c4ac3f284de88">readPredicate</a>(); }
<a name="l00332"></a><a class="code" href="classBaseSimpleCPU.html#ae2caf7fd5843a4efeae886f19f34368d">00332</a>     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#ae2caf7fd5843a4efeae886f19f34368d">setPredicate</a>(<span class="keywordtype">bool</span> <a class="code" href="namespaceX86ISA.html#ab4e00e23f8f36386f97d8abcccb17180">val</a>)
<a name="l00333"></a>00333     {
<a name="l00334"></a>00334         <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a0cf00998a894e5ff9c18f1810673f6e9">setPredicate</a>(val);
<a name="l00335"></a>00335         <span class="keywordflow">if</span> (<a class="code" href="classBaseSimpleCPU.html#a1c5b42da4bb058bf584c14d4efe4e456">traceData</a>) {
<a name="l00336"></a>00336             <a class="code" href="classBaseSimpleCPU.html#a1c5b42da4bb058bf584c14d4efe4e456">traceData</a>-&gt;<a class="code" href="classTrace_1_1InstRecord.html#aca7dc52b54d4c4a24934ef6d8e049eda">setPredicate</a>(val);
<a name="l00337"></a>00337         }
<a name="l00338"></a>00338     }
<a name="l00339"></a><a class="code" href="classBaseSimpleCPU.html#a67965d274ad25d9ce3756fd15fbdaa15">00339</a>     <a class="code" href="namespaceAlphaISA.html#a233e755911c9143f96bef37eedb1e009">TheISA::PCState</a> <a class="code" href="classBaseSimpleCPU.html#a67965d274ad25d9ce3756fd15fbdaa15">pcState</a>() { <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#aac01d6afdb95c2a68442b54255549c79">pcState</a>(); }
<a name="l00340"></a><a class="code" href="classBaseSimpleCPU.html#a77da5344fb65a866412e59522050d38c">00340</a>     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a77da5344fb65a866412e59522050d38c">pcState</a>(<span class="keyword">const</span> <a class="code" href="namespaceAlphaISA.html#a233e755911c9143f96bef37eedb1e009">TheISA::PCState</a> &amp;<a class="code" href="namespaceX86ISA.html#ab4e00e23f8f36386f97d8abcccb17180">val</a>) { <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#aac01d6afdb95c2a68442b54255549c79">pcState</a>(val); }
<a name="l00341"></a><a class="code" href="classBaseSimpleCPU.html#a958055154e09fbc02ccb8190c3b885c5">00341</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classBaseSimpleCPU.html#a958055154e09fbc02ccb8190c3b885c5">instAddr</a>() { <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#ae13a8a60b7d1aa44cb6e1087904934a8">instAddr</a>(); }
<a name="l00342"></a><a class="code" href="classBaseSimpleCPU.html#a55c758e5062219839e7d09a584bd1ea0">00342</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classBaseSimpleCPU.html#a55c758e5062219839e7d09a584bd1ea0">nextInstAddr</a>() { <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#adc2011fe77988b3d733f20d6102acfd3">nextInstAddr</a>(); }
<a name="l00343"></a><a class="code" href="classBaseSimpleCPU.html#a318985967fa29a6d519e133ba2a205d0">00343</a>     <a class="code" href="base_2types_8hh.html#adfb4d8b20c5abc8be73dd367b16f2d57">MicroPC</a> <a class="code" href="classBaseSimpleCPU.html#a318985967fa29a6d519e133ba2a205d0">microPC</a>() { <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a4e7bc0525ebc5b5e7f0734adba1f379b">microPC</a>(); }
<a name="l00344"></a>00344 
<a name="l00345"></a><a class="code" href="classBaseSimpleCPU.html#a46a125fa67028a6cdddcd8425c393bcd">00345</a>     <a class="code" href="classBaseSimpleCPU.html#aa75350fd48bf9f3690d00e06f5c0cfc8">MiscReg</a> <a class="code" href="classBaseSimpleCPU.html#a46a125fa67028a6cdddcd8425c393bcd">readMiscRegNoEffect</a>(<span class="keywordtype">int</span> misc_reg)
<a name="l00346"></a>00346     {
<a name="l00347"></a>00347         <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a788f2c855d6aea341cb43a8373852c55">readMiscRegNoEffect</a>(misc_reg);
<a name="l00348"></a>00348     }
<a name="l00349"></a>00349 
<a name="l00350"></a><a class="code" href="classBaseSimpleCPU.html#a1b6b03cc38068c8a6754d6576c0a3a65">00350</a>     <a class="code" href="classBaseSimpleCPU.html#aa75350fd48bf9f3690d00e06f5c0cfc8">MiscReg</a> <a class="code" href="classBaseSimpleCPU.html#a1b6b03cc38068c8a6754d6576c0a3a65">readMiscReg</a>(<span class="keywordtype">int</span> misc_reg)
<a name="l00351"></a>00351     {
<a name="l00352"></a>00352         <a class="code" href="classBaseSimpleCPU.html#a6b7b623f9d2bff2c9a11d700d185d464">numIntRegReads</a>++;
<a name="l00353"></a>00353         <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a0542e586bd65ac0a1fed99712b031c6c">readMiscReg</a>(misc_reg);
<a name="l00354"></a>00354     }
<a name="l00355"></a>00355 
<a name="l00356"></a><a class="code" href="classBaseSimpleCPU.html#aa1a5528bc2b757c42060f86b9a4e6ca3">00356</a>     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#aa1a5528bc2b757c42060f86b9a4e6ca3">setMiscReg</a>(<span class="keywordtype">int</span> misc_reg, <span class="keyword">const</span> <a class="code" href="classBaseSimpleCPU.html#aa75350fd48bf9f3690d00e06f5c0cfc8">MiscReg</a> &amp;<a class="code" href="namespaceX86ISA.html#ab4e00e23f8f36386f97d8abcccb17180">val</a>)
<a name="l00357"></a>00357     {
<a name="l00358"></a>00358         <a class="code" href="classBaseSimpleCPU.html#ac90d4e309094cbc3f9398a013bac35f2">numIntRegWrites</a>++;
<a name="l00359"></a>00359         <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a8a30c0cb2aa94300004848fc237911b7">setMiscReg</a>(misc_reg, val);
<a name="l00360"></a>00360     }
<a name="l00361"></a>00361 
<a name="l00362"></a><a class="code" href="classBaseSimpleCPU.html#a87fc3c3887beb2075ce82e86e4f8cae4">00362</a>     <a class="code" href="classBaseSimpleCPU.html#aa75350fd48bf9f3690d00e06f5c0cfc8">MiscReg</a> <a class="code" href="classBaseSimpleCPU.html#a87fc3c3887beb2075ce82e86e4f8cae4">readMiscRegOperand</a>(<span class="keyword">const</span> <a class="code" href="classStaticInst.html" title="Base, ISA-independent static instruction class.">StaticInst</a> *<a class="code" href="namespacePowerISA.html#a53469916ca59ded1955f23a592f32f41">si</a>, <span class="keywordtype">int</span> idx)
<a name="l00363"></a>00363     {
<a name="l00364"></a>00364         <a class="code" href="classBaseSimpleCPU.html#a6b7b623f9d2bff2c9a11d700d185d464">numIntRegReads</a>++;
<a name="l00365"></a>00365         <span class="keywordtype">int</span> reg_idx = si-&gt;<a class="code" href="classStaticInst.html#ae151ec23f46a8c2dba01f533d24abbf5" title="Return logical index (architectural reg num) of i&amp;#39;th source reg.">srcRegIdx</a>(idx) - TheISA::Ctrl_Base_DepTag;
<a name="l00366"></a>00366         <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a0542e586bd65ac0a1fed99712b031c6c">readMiscReg</a>(reg_idx);
<a name="l00367"></a>00367     }
<a name="l00368"></a>00368 
<a name="l00369"></a><a class="code" href="classBaseSimpleCPU.html#a99b0290ef6449a289944a1e3c95649af">00369</a>     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a99b0290ef6449a289944a1e3c95649af">setMiscRegOperand</a>(
<a name="l00370"></a>00370             <span class="keyword">const</span> <a class="code" href="classStaticInst.html" title="Base, ISA-independent static instruction class.">StaticInst</a> *<a class="code" href="namespacePowerISA.html#a53469916ca59ded1955f23a592f32f41">si</a>, <span class="keywordtype">int</span> idx, <span class="keyword">const</span> <a class="code" href="classBaseSimpleCPU.html#aa75350fd48bf9f3690d00e06f5c0cfc8">MiscReg</a> &amp;<a class="code" href="namespaceX86ISA.html#ab4e00e23f8f36386f97d8abcccb17180">val</a>)
<a name="l00371"></a>00371     {
<a name="l00372"></a>00372         <a class="code" href="classBaseSimpleCPU.html#ac90d4e309094cbc3f9398a013bac35f2">numIntRegWrites</a>++;
<a name="l00373"></a>00373         <span class="keywordtype">int</span> reg_idx = si-&gt;<a class="code" href="classStaticInst.html#ad5a7482935794f7140ab566d4bc36903" title="Return logical index (architectural reg num) of i&amp;#39;th destination reg.">destRegIdx</a>(idx) - TheISA::Ctrl_Base_DepTag;
<a name="l00374"></a>00374         <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a8a30c0cb2aa94300004848fc237911b7">setMiscReg</a>(reg_idx, val);
<a name="l00375"></a>00375     }
<a name="l00376"></a>00376 
<a name="l00377"></a><a class="code" href="classBaseSimpleCPU.html#a5471e77178135f9327d6319e2a1e6273">00377</a>     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a5471e77178135f9327d6319e2a1e6273">demapPage</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceMipsISA.html#a9bab751e4fa25d88bf84ee970a01a641">vaddr</a>, uint64_t asn)
<a name="l00378"></a>00378     {
<a name="l00379"></a>00379         <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a1743e2bfa14c673773d5006ecd686add">demapPage</a>(vaddr, asn);
<a name="l00380"></a>00380     }
<a name="l00381"></a>00381 
<a name="l00382"></a><a class="code" href="classBaseSimpleCPU.html#a66e58d196260a49f9abf5d7257c9b4f7">00382</a>     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a66e58d196260a49f9abf5d7257c9b4f7">demapInstPage</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceMipsISA.html#a9bab751e4fa25d88bf84ee970a01a641">vaddr</a>, uint64_t asn)
<a name="l00383"></a>00383     {
<a name="l00384"></a>00384         <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a237a071dd10c6c27d67461baed7dda0a">demapInstPage</a>(vaddr, asn);
<a name="l00385"></a>00385     }
<a name="l00386"></a>00386 
<a name="l00387"></a><a class="code" href="classBaseSimpleCPU.html#a37a86d0fa2fa72cd5e9d90be668d9331">00387</a>     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a37a86d0fa2fa72cd5e9d90be668d9331">demapDataPage</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceMipsISA.html#a9bab751e4fa25d88bf84ee970a01a641">vaddr</a>, uint64_t asn)
<a name="l00388"></a>00388     {
<a name="l00389"></a>00389         <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a0c3b2b13c9c2f135c1b24c25ceb51ec8">demapDataPage</a>(vaddr, asn);
<a name="l00390"></a>00390     }
<a name="l00391"></a>00391 
<a name="l00392"></a><a class="code" href="classBaseSimpleCPU.html#a2729ac3aa47b7d8ab4faea3719b3d9be">00392</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classBaseSimpleCPU.html#a2729ac3aa47b7d8ab4faea3719b3d9be">readStCondFailures</a>() {
<a name="l00393"></a>00393         <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#ab289f2e6447d6905825eb3bbc60808c4">readStCondFailures</a>();
<a name="l00394"></a>00394     }
<a name="l00395"></a>00395 
<a name="l00396"></a><a class="code" href="classBaseSimpleCPU.html#ad86936d4807abc48db01924f33bb708d">00396</a>     <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#ad86936d4807abc48db01924f33bb708d">setStCondFailures</a>(<span class="keywordtype">unsigned</span> sc_failures) {
<a name="l00397"></a>00397         <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#ab3d61a45228d76e5d34e64b7400ee406">setStCondFailures</a>(sc_failures);
<a name="l00398"></a>00398     }
<a name="l00399"></a>00399 
<a name="l00400"></a><a class="code" href="classBaseSimpleCPU.html#a9428dd9bede3b0eb6a438878c6adf86d">00400</a>      <a class="code" href="classBaseSimpleCPU.html#aa75350fd48bf9f3690d00e06f5c0cfc8">MiscReg</a> <a class="code" href="classBaseSimpleCPU.html#a9428dd9bede3b0eb6a438878c6adf86d">readRegOtherThread</a>(<span class="keywordtype">int</span> regIdx, <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b" title="Thread index/ID type.">ThreadID</a> tid = <a class="code" href="base_2types_8hh.html#a192b210a26f038691d0f095d85dc0953">InvalidThreadID</a>)
<a name="l00401"></a>00401      {
<a name="l00402"></a>00402         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Simple CPU models do not support multithreaded &quot;</span>
<a name="l00403"></a>00403               <span class="stringliteral">&quot;register access.\n&quot;</span>);
<a name="l00404"></a>00404      }
<a name="l00405"></a>00405 
<a name="l00406"></a><a class="code" href="classBaseSimpleCPU.html#a659b2db9b9bd8ba941cc2259d73f81f8">00406</a>      <span class="keywordtype">void</span> <a class="code" href="classBaseSimpleCPU.html#a659b2db9b9bd8ba941cc2259d73f81f8">setRegOtherThread</a>(<span class="keywordtype">int</span> regIdx, <span class="keyword">const</span> <a class="code" href="classBaseSimpleCPU.html#aa75350fd48bf9f3690d00e06f5c0cfc8">MiscReg</a> &amp;<a class="code" href="namespaceX86ISA.html#ab4e00e23f8f36386f97d8abcccb17180">val</a>,
<a name="l00407"></a>00407                             <a class="code" href="base_2types_8hh.html#ab39b1a4f9dad884694c7a74ed69e6a6b" title="Thread index/ID type.">ThreadID</a> tid = <a class="code" href="base_2types_8hh.html#a192b210a26f038691d0f095d85dc0953">InvalidThreadID</a>)
<a name="l00408"></a>00408      {
<a name="l00409"></a>00409         <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Simple CPU models do not support multithreaded &quot;</span>
<a name="l00410"></a>00410               <span class="stringliteral">&quot;register access.\n&quot;</span>);
<a name="l00411"></a>00411      }
<a name="l00412"></a>00412 
<a name="l00413"></a>00413     <span class="comment">//Fault CacheOp(uint8_t Op, Addr EA);</span>
<a name="l00414"></a>00414 
<a name="l00415"></a><a class="code" href="classBaseSimpleCPU.html#a3a8e3261f4ea3a1fd3841a237f7c03f5">00415</a>     <a class="code" href="classRefCountingPtr.html">Fault</a> <a class="code" href="classBaseSimpleCPU.html#a3a8e3261f4ea3a1fd3841a237f7c03f5">hwrei</a>() { <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a3ec4ccf85da553df7160361ea325f2b8">hwrei</a>(); }
<a name="l00416"></a><a class="code" href="classBaseSimpleCPU.html#ad93974bea5bdf0fc50f3f195c240d45f">00416</a>     <span class="keywordtype">bool</span> <a class="code" href="classBaseSimpleCPU.html#ad93974bea5bdf0fc50f3f195c240d45f">simPalCheck</a>(<span class="keywordtype">int</span> palFunc) { <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#ab29b8d730fe9832dc230e74667c9e5c4" title="Check for special simulator handling of specific PAL calls.">simPalCheck</a>(palFunc); }
<a name="l00417"></a>00417 
<a name="l00418"></a>00418     <span class="keywordtype">void</span>
<a name="l00419"></a><a class="code" href="classBaseSimpleCPU.html#a3cf57684ad3c85b19784db8950c0ba1c">00419</a>     <a class="code" href="classBaseSimpleCPU.html#a3cf57684ad3c85b19784db8950c0ba1c">syscall</a>(int64_t callnum)
<a name="l00420"></a>00420     {
<a name="l00421"></a>00421         <span class="keywordflow">if</span> (<a class="code" href="full__system_8hh.html#af929576af6f85c8849704b66d04b8370" title="The FullSystem variable can be used to determine the current mode of simulation.">FullSystem</a>)
<a name="l00422"></a>00422             <a class="code" href="base_2misc_8hh.html#a1445e207e36c97ff84c54b47288cea19">panic</a>(<span class="stringliteral">&quot;Syscall emulation isn&#39;t available in FS mode.\n&quot;</span>);
<a name="l00423"></a>00423 
<a name="l00424"></a>00424         <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#ae9cfc9774bb72c4fc197461014974438">syscall</a>(callnum);
<a name="l00425"></a>00425     }
<a name="l00426"></a>00426 
<a name="l00427"></a><a class="code" href="classBaseSimpleCPU.html#afc08d712bad1e68822a4070d896c528e">00427</a>     <span class="keywordtype">bool</span> <a class="code" href="classBaseSimpleCPU.html#afc08d712bad1e68822a4070d896c528e">misspeculating</a>() { <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a3b1d88fd3d64c7475fed2adb94515f7d" title="SimpleThread object, provides all the architectural state.">thread</a>-&gt;<a class="code" href="classSimpleThread.html#a387b23bc306ede9469c0f4af263bd4ac">misspeculating</a>(); }
<a name="l00428"></a><a class="code" href="classBaseSimpleCPU.html#a0ce3a38aea510a5763eee01734c41649">00428</a>     <a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside of the CPU...">ThreadContext</a> *<a class="code" href="classBaseSimpleCPU.html#a0ce3a38aea510a5763eee01734c41649">tcBase</a>() { <span class="keywordflow">return</span> <a class="code" href="classBaseSimpleCPU.html#a1d94ea1eaa23dd214f48d3833601941d" title="ThreadContext object, provides an interface for external objects to modify this thread&amp;#39;s state...">tc</a>; }
<a name="l00429"></a>00429 };
<a name="l00430"></a>00430 
<a name="l00431"></a>00431 <span class="preprocessor">#endif // __CPU_SIMPLE_BASE_HH__</span>
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"><address style="align: right;"><small>
Generated on Sun Apr 7 2013 18:16:12 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.7.1</small></address>

</body>
</html>
