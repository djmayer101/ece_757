<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gem5: dev/x86/i8042.hh Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>dev/x86/i8042.hh</h1>  </div>
</div>
<div class="contents">
<a href="i8042_8hh.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (c) 2008 The Regents of The University of Michigan</span>
<a name="l00003"></a>00003 <span class="comment"> * All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00006"></a>00006 <span class="comment"> * modification, are permitted provided that the following conditions are</span>
<a name="l00007"></a>00007 <span class="comment"> * met: redistributions of source code must retain the above copyright</span>
<a name="l00008"></a>00008 <span class="comment"> * notice, this list of conditions and the following disclaimer;</span>
<a name="l00009"></a>00009 <span class="comment"> * redistributions in binary form must reproduce the above copyright</span>
<a name="l00010"></a>00010 <span class="comment"> * notice, this list of conditions and the following disclaimer in the</span>
<a name="l00011"></a>00011 <span class="comment"> * documentation and/or other materials provided with the distribution;</span>
<a name="l00012"></a>00012 <span class="comment"> * neither the name of the copyright holders nor the names of its</span>
<a name="l00013"></a>00013 <span class="comment"> * contributors may be used to endorse or promote products derived from</span>
<a name="l00014"></a>00014 <span class="comment"> * this software without specific prior written permission.</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<a name="l00017"></a>00017 <span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00018"></a>00018 <span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<a name="l00019"></a>00019 <span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<a name="l00020"></a>00020 <span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<a name="l00021"></a>00021 <span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00022"></a>00022 <span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00023"></a>00023 <span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00024"></a>00024 <span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00025"></a>00025 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00026"></a>00026 <span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00027"></a>00027 <span class="comment"> *</span>
<a name="l00028"></a>00028 <span class="comment"> * Authors: Gabe Black</span>
<a name="l00029"></a>00029 <span class="comment"> */</span>
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="preprocessor">#ifndef __DEV_X86_I8042_HH__</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span><span class="preprocessor">#define __DEV_X86_I8042_HH__</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;queue&gt;</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="intdev_8hh.html">dev/x86/intdev.hh</a>&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;<a class="code" href="io__device_8hh.html">dev/io_device.hh</a>&quot;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &quot;params/I8042.hh&quot;</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="keyword">namespace </span>X86ISA
<a name="l00041"></a>00041 {
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="keyword">class </span>IntPin;
<a name="l00044"></a>00044 
<a name="l00045"></a><a class="code" href="classX86ISA_1_1PS2Device.html">00045</a> <span class="keyword">class </span><a class="code" href="classX86ISA_1_1PS2Device.html">PS2Device</a>
<a name="l00046"></a>00046 {
<a name="l00047"></a>00047   <span class="keyword">protected</span>:
<a name="l00048"></a><a class="code" href="classX86ISA_1_1PS2Device.html#a8b85c2ab84e84fd1046edd16134379c8">00048</a>     std::queue&lt;uint8_t&gt; <a class="code" href="classX86ISA_1_1PS2Device.html#a8b85c2ab84e84fd1046edd16134379c8">outBuffer</a>;
<a name="l00049"></a>00049 
<a name="l00050"></a><a class="code" href="classX86ISA_1_1PS2Device.html#a1cd96146ff9cced5bb605b65cfda1dbf">00050</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="classX86ISA_1_1PS2Device.html#a1cd96146ff9cced5bb605b65cfda1dbf">NoCommand</a> = (uint16_t)(-1);
<a name="l00051"></a>00051 
<a name="l00052"></a><a class="code" href="classX86ISA_1_1PS2Device.html#ab7036c7a1ccb7433472f49e28ca57b61">00052</a>     uint16_t <a class="code" href="classX86ISA_1_1PS2Device.html#ab7036c7a1ccb7433472f49e28ca57b61">lastCommand</a>;
<a name="l00053"></a>00053     <span class="keywordtype">void</span> <a class="code" href="classX86ISA_1_1PS2Device.html#a8f0b245c3c2f35423e28e9d040b4a0d4">bufferData</a>(<span class="keyword">const</span> uint8_t *data, <span class="keywordtype">int</span> size);
<a name="l00054"></a>00054     <span class="keywordtype">void</span> <a class="code" href="classX86ISA_1_1PS2Device.html#a02153e795485ff014e2eabec12120f2f">ack</a>();
<a name="l00055"></a>00055     <span class="keywordtype">void</span> <a class="code" href="classX86ISA_1_1PS2Device.html#a9a763c8181cb96ef470f6c88065a1ea8">nack</a>();
<a name="l00056"></a>00056 
<a name="l00057"></a>00057   <span class="keyword">public</span>:
<a name="l00058"></a><a class="code" href="classX86ISA_1_1PS2Device.html#aba669b785ee164017398f15d0f6c184c">00058</a>     <span class="keyword">virtual</span> <a class="code" href="classX86ISA_1_1PS2Device.html#aba669b785ee164017398f15d0f6c184c">~PS2Device</a>()
<a name="l00059"></a>00059     {};
<a name="l00060"></a>00060 
<a name="l00061"></a><a class="code" href="classX86ISA_1_1PS2Device.html#a063e257d846e154d25cf06f3c00728a6">00061</a>     <a class="code" href="classX86ISA_1_1PS2Device.html#a063e257d846e154d25cf06f3c00728a6">PS2Device</a>() : <a class="code" href="classX86ISA_1_1PS2Device.html#ab7036c7a1ccb7433472f49e28ca57b61">lastCommand</a>(<a class="code" href="classX86ISA_1_1PS2Device.html#a1cd96146ff9cced5bb605b65cfda1dbf">NoCommand</a>)
<a name="l00062"></a>00062     {}
<a name="l00063"></a>00063 
<a name="l00064"></a><a class="code" href="classX86ISA_1_1PS2Device.html#a0fbd698738b07170a3f5d733f4c0d794">00064</a>     <span class="keywordtype">bool</span> <a class="code" href="classX86ISA_1_1PS2Device.html#a0fbd698738b07170a3f5d733f4c0d794">hasData</a>()
<a name="l00065"></a>00065     {
<a name="l00066"></a>00066         <span class="keywordflow">return</span> !<a class="code" href="classX86ISA_1_1PS2Device.html#a8b85c2ab84e84fd1046edd16134379c8">outBuffer</a>.empty();
<a name="l00067"></a>00067     }
<a name="l00068"></a>00068 
<a name="l00069"></a><a class="code" href="classX86ISA_1_1PS2Device.html#a6b58dd6f1ec41e0c789641724314f4dd">00069</a>     uint8_t <a class="code" href="classX86ISA_1_1PS2Device.html#a6b58dd6f1ec41e0c789641724314f4dd">getData</a>()
<a name="l00070"></a>00070     {
<a name="l00071"></a>00071         uint8_t data = <a class="code" href="classX86ISA_1_1PS2Device.html#a8b85c2ab84e84fd1046edd16134379c8">outBuffer</a>.front();
<a name="l00072"></a>00072         <a class="code" href="classX86ISA_1_1PS2Device.html#a8b85c2ab84e84fd1046edd16134379c8">outBuffer</a>.pop();
<a name="l00073"></a>00073         <span class="keywordflow">return</span> data;
<a name="l00074"></a>00074     }
<a name="l00075"></a>00075 
<a name="l00076"></a>00076     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classX86ISA_1_1PS2Device.html#ade1ba7f0ad8c12d65d6603e4a0d1f8f6">processData</a>(uint8_t data) = 0;
<a name="l00077"></a>00077 };
<a name="l00078"></a>00078 
<a name="l00079"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html">00079</a> <span class="keyword">class </span><a class="code" href="classX86ISA_1_1PS2Mouse.html">PS2Mouse</a> : <span class="keyword">public</span> <a class="code" href="classX86ISA_1_1PS2Device.html">PS2Device</a>
<a name="l00080"></a>00080 {
<a name="l00081"></a>00081   <span class="keyword">protected</span>:
<a name="l00082"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a981ef5a7a8d6dcbd7f2bbd87124f06d8">00082</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="classX86ISA_1_1PS2Mouse.html#a981ef5a7a8d6dcbd7f2bbd87124f06d8">ID</a>[];
<a name="l00083"></a>00083 
<a name="l00084"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28a">00084</a>     <span class="keyword">enum</span> <a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28a">Command</a>
<a name="l00085"></a>00085     {
<a name="l00086"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aa7474c37f407ca187ba8bc5d33b28441b">00086</a>         <a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aa7474c37f407ca187ba8bc5d33b28441b">Scale1to1</a> = 0xE6,
<a name="l00087"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aadbaef289ef571da0ccc13c61cefa1a35">00087</a>         <a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aadbaef289ef571da0ccc13c61cefa1a35">Scale2to1</a> = 0xE7,
<a name="l00088"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aa7ba770382b3d845af94318403cc93ab9">00088</a>         <a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aa7ba770382b3d845af94318403cc93ab9">SetResolution</a> = 0xE8,
<a name="l00089"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aad01326d9d322b8f41ca088b6d63505cc">00089</a>         <a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aad01326d9d322b8f41ca088b6d63505cc">GetStatus</a> = 0xE9,
<a name="l00090"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aa10c1945158670dfb777b58c0bfda1903">00090</a>         <a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aa10c1945158670dfb777b58c0bfda1903">ReadData</a> = 0xEB,
<a name="l00091"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aa5c6d31ec500e042adf06c660eb731577">00091</a>         <a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aa5c6d31ec500e042adf06c660eb731577">ResetWrapMode</a> = 0xEC,
<a name="l00092"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aaff1e8c31ad3ccd534929e603e4ef227b">00092</a>         <a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aaff1e8c31ad3ccd534929e603e4ef227b">WrapMode</a> = 0xEE,
<a name="l00093"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aab806efe108f9185a14e547b4625a4eb6">00093</a>         <a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aab806efe108f9185a14e547b4625a4eb6">RemoteMode</a> = 0xF0,
<a name="l00094"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aad533d74b047a66eda0e7bf9119e08276">00094</a>         <a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aad533d74b047a66eda0e7bf9119e08276">ReadID</a> = 0xF2,
<a name="l00095"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aa938f93609c77848409e1724e339a8abd">00095</a>         <a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aa938f93609c77848409e1724e339a8abd">SampleRate</a> = 0xF3,
<a name="l00096"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aae8b4ea4fb7a13eb4cc943f6866111552">00096</a>         <a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aae8b4ea4fb7a13eb4cc943f6866111552">EnableReporting</a> = 0xF4,
<a name="l00097"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aa235f493ba8c4a5afbc1d3789516d732a">00097</a>         <a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aa235f493ba8c4a5afbc1d3789516d732a">DisableReporting</a> = 0xF5,
<a name="l00098"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aafc5e4d5c0d6f24c78bf4ad2c376ecc56">00098</a>         <a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aafc5e4d5c0d6f24c78bf4ad2c376ecc56">DefaultsAndDisable</a> = 0xF6,
<a name="l00099"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aaba3b0efcbca713a7ccb016a135ea78c5">00099</a>         <a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aaba3b0efcbca713a7ccb016a135ea78c5">Resend</a> = 0xFE,
<a name="l00100"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aaceb53784dd6dfa2bb7054f7f04942994">00100</a>         <a class="code" href="classX86ISA_1_1PS2Mouse.html#a956c781041e9df05fe78ec6d8bc3d28aaceb53784dd6dfa2bb7054f7f04942994">Reset</a> = 0xFF
<a name="l00101"></a>00101     };
<a name="l00102"></a>00102 
<a name="l00103"></a>00103     <a class="code" href="classX86ISA_1_1PS2Mouse.html#a99826d7f9ceacaf613e8c3ba6d12294a">BitUnion8</a>(Status)
<a name="l00104"></a>00104         Bitfield&lt;6&gt; remote;
<a name="l00105"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#aa6b0ed68ae262b14f1e23904e6ea5f5f">00105</a>         Bitfield&lt;5&gt; <a class="code" href="classX86ISA_1_1PS2Mouse.html#aa6b0ed68ae262b14f1e23904e6ea5f5f">enabled</a>;
<a name="l00106"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#aac5588f856c0911d6199439cbea2bfc2">00106</a>         Bitfield&lt;4&gt; <a class="code" href="classX86ISA_1_1PS2Mouse.html#aac5588f856c0911d6199439cbea2bfc2">twoToOne</a>;
<a name="l00107"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a50db31da277ac7356e1d0f51e76444ff">00107</a>         Bitfield&lt;2&gt; <a class="code" href="classX86ISA_1_1PS2Mouse.html#a50db31da277ac7356e1d0f51e76444ff">leftButton</a>;
<a name="l00108"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#a31b76116842c07a68e18678c33c92271">00108</a>         Bitfield&lt;0&gt; <a class="code" href="classX86ISA_1_1PS2Mouse.html#a31b76116842c07a68e18678c33c92271">rightButton</a>;
<a name="l00109"></a>00109     <a class="code" href="classX86ISA_1_1PS2Mouse.html#ac4eecfca7e13be1a362964a3c2fc7aa4">EndBitUnion</a>(Status)
<a name="l00110"></a>00110 
<a name="l00111"></a>00111     Status status;
<a name="l00112"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#aeae6a53ce9045109789f17d00a88f355">00112</a>     uint8_t <a class="code" href="classX86ISA_1_1PS2Mouse.html#aeae6a53ce9045109789f17d00a88f355">resolution</a>;
<a name="l00113"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#aece85d2e5e5bbed37e78561aa5c8f705">00113</a>     uint8_t <a class="code" href="classX86ISA_1_1PS2Mouse.html#aece85d2e5e5bbed37e78561aa5c8f705">sampleRate</a>;
<a name="l00114"></a>00114   public:
<a name="l00115"></a><a class="code" href="classX86ISA_1_1PS2Mouse.html#ae2d015489fe32b609034eb6538af9ed1">00115</a>     <a class="code" href="classX86ISA_1_1PS2Mouse.html">PS2Mouse</a>() : <a class="code" href="classX86ISA_1_1PS2Device.html">PS2Device</a>(), status(0), resolution(4), sampleRate(100)
<a name="l00116"></a>00116     {}
<a name="l00117"></a>00117 
<a name="l00118"></a>00118     <span class="keywordtype">bool</span> <a class="code" href="classX86ISA_1_1PS2Mouse.html#af52350e9bc67de28e5834950e2f75799">processData</a>(uint8_t data);
<a name="l00119"></a>00119 
<a name="l00120"></a>00120     <span class="keywordtype">void</span> <a class="code" href="classX86ISA_1_1PS2Mouse.html#aa4f6624cb03d36568f0f17a96070255e">serialize</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="namespaceX86ISA.html#aa3826b335948154c40c1b6a32cbd10f5">base</a>, std::ostream &amp;<a class="code" href="namespaceX86ISA.html#aea9fbab71662ba06cf536e05edfaaad1">os</a>);
<a name="l00121"></a>00121     <span class="keywordtype">void</span> <a class="code" href="classX86ISA_1_1PS2Mouse.html#ab9d51a50ddcdd3c559ad93f75686220c">unserialize</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="namespaceX86ISA.html#aa3826b335948154c40c1b6a32cbd10f5">base</a>, <a class="code" href="classCheckpoint.html">Checkpoint</a> *cp,
<a name="l00122"></a>00122             <span class="keyword">const</span> std::string &amp;section);
<a name="l00123"></a>00123 };
<a name="l00124"></a>00124 
<a name="l00125"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html">00125</a> <span class="keyword">class </span><a class="code" href="classX86ISA_1_1PS2Keyboard.html">PS2Keyboard</a> : <span class="keyword">public</span> <a class="code" href="classX86ISA_1_1PS2Device.html">PS2Device</a>
<a name="l00126"></a>00126 {
<a name="l00127"></a>00127   <span class="keyword">protected</span>:
<a name="l00128"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#a44394dd7632ba79c6b21b9bcac9fb5b1">00128</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="classX86ISA_1_1PS2Keyboard.html#a44394dd7632ba79c6b21b9bcac9fb5b1">ID</a>[];
<a name="l00129"></a>00129 
<a name="l00130"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0">00130</a>     <span class="keyword">enum</span> <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0">Command</a>
<a name="l00131"></a>00131     {
<a name="l00132"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a3627aaecdad3f13a4c80431c13d1ec4c">00132</a>         <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a3627aaecdad3f13a4c80431c13d1ec4c">LEDWrite</a> = 0xED,
<a name="l00133"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a83f4bcc45c12b704cb31c70f0a3f99ca">00133</a>         <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a83f4bcc45c12b704cb31c70f0a3f99ca">DiagnosticEcho</a> = 0xEE,
<a name="l00134"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0aaad54e2352ac7f8d0da638152ced242f">00134</a>         <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0aaad54e2352ac7f8d0da638152ced242f">AlternateScanCodes</a> = 0xF0,
<a name="l00135"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a399a4751b205d962986345dfec71bc6a">00135</a>         <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a399a4751b205d962986345dfec71bc6a">ReadID</a> = 0xF2,
<a name="l00136"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a69f34fc22794c70976d2c59977a50e53">00136</a>         <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a69f34fc22794c70976d2c59977a50e53">TypematicInfo</a> = 0xF3,
<a name="l00137"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a2f93c390423e7793d98554f901456bdb">00137</a>         <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a2f93c390423e7793d98554f901456bdb">Enable</a> = 0xF4,
<a name="l00138"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a08f1869a89d658e8b28b3bca1ad330a6">00138</a>         <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a08f1869a89d658e8b28b3bca1ad330a6">Disable</a> = 0xF5,
<a name="l00139"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a9a78f9379ebffb980934dcaaecf492d2">00139</a>         <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a9a78f9379ebffb980934dcaaecf492d2">DefaultsAndDisable</a> = 0xF6,
<a name="l00140"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a2d055efe69d2ede849da9cd966429bf6">00140</a>         <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a2d055efe69d2ede849da9cd966429bf6">AllKeysToTypematic</a> = 0xF7,
<a name="l00141"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0aeefa3bb20ddfc1214c42f35ded030d7c">00141</a>         <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0aeefa3bb20ddfc1214c42f35ded030d7c">AllKeysToMakeRelease</a> = 0xF8,
<a name="l00142"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a1ed66d17b4eb5e5195b35f68c4837b80">00142</a>         <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a1ed66d17b4eb5e5195b35f68c4837b80">AllKeysToMake</a> = 0xF9,
<a name="l00143"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0ab658442bed6cc0ff59990f78e093e227">00143</a>         <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0ab658442bed6cc0ff59990f78e093e227">AllKeysToTypematicMakeRelease</a> = 0xFA,
<a name="l00144"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a9506532499222c1203be45f7ee3d867c">00144</a>         <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a9506532499222c1203be45f7ee3d867c">KeyToTypematic</a> = 0xFB,
<a name="l00145"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0ae3e4cbbb02241bb831873e0a3a0f2dfa">00145</a>         <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0ae3e4cbbb02241bb831873e0a3a0f2dfa">KeyToMakeRelease</a> = 0xFC,
<a name="l00146"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0aa4ec0f5e1b6a12cdd9afa22c8b101e02">00146</a>         <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0aa4ec0f5e1b6a12cdd9afa22c8b101e02">KeyToMakeOnly</a> = 0xFD,
<a name="l00147"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0ad6af5eeeeab5dd3c4270426f5537f3ae">00147</a>         <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0ad6af5eeeeab5dd3c4270426f5537f3ae">Resend</a> = 0xFE,
<a name="l00148"></a><a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a49d3215adc0fd2a351b4be458be2450c">00148</a>         <a class="code" href="classX86ISA_1_1PS2Keyboard.html#adf0c5f641547cfd38c61d38ae15077a0a49d3215adc0fd2a351b4be458be2450c">Reset</a> = 0xFF
<a name="l00149"></a>00149     };
<a name="l00150"></a>00150 
<a name="l00151"></a>00151   <span class="keyword">public</span>:
<a name="l00152"></a>00152     <span class="keywordtype">bool</span> <a class="code" href="classX86ISA_1_1PS2Keyboard.html#aff76fe66f17af799ca048cfa90a40b47">processData</a>(uint8_t data);
<a name="l00153"></a>00153 
<a name="l00154"></a>00154     <span class="keywordtype">void</span> <a class="code" href="classX86ISA_1_1PS2Keyboard.html#a3624b89345522f6fd4932eae19043958">serialize</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="namespaceX86ISA.html#aa3826b335948154c40c1b6a32cbd10f5">base</a>, std::ostream &amp;<a class="code" href="namespaceX86ISA.html#aea9fbab71662ba06cf536e05edfaaad1">os</a>);
<a name="l00155"></a>00155     <span class="keywordtype">void</span> <a class="code" href="classX86ISA_1_1PS2Keyboard.html#add9eacd24782a08eba9ad9f21e37a554">unserialize</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="namespaceX86ISA.html#aa3826b335948154c40c1b6a32cbd10f5">base</a>, <a class="code" href="classCheckpoint.html">Checkpoint</a> *cp,
<a name="l00156"></a>00156             <span class="keyword">const</span> std::string &amp;section);
<a name="l00157"></a>00157 };
<a name="l00158"></a>00158 
<a name="l00159"></a><a class="code" href="classX86ISA_1_1I8042.html">00159</a> <span class="keyword">class </span><a class="code" href="classX86ISA_1_1I8042.html">I8042</a> : <span class="keyword">public</span> <a class="code" href="classBasicPioDevice.html">BasicPioDevice</a>
<a name="l00160"></a>00160 {
<a name="l00161"></a>00161   <span class="keyword">protected</span>:
<a name="l00162"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7c">00162</a>     <span class="keyword">enum</span> <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7c">Command</a>
<a name="l00163"></a>00163     {
<a name="l00164"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7cae7c2d75005c5396d84c87b69f87ef014">00164</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7cae7c2d75005c5396d84c87b69f87ef014">GetCommandByte</a> = 0x20,
<a name="l00165"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca0896ea0d10ae0a123d0bec4ad8e4a0d3">00165</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca0896ea0d10ae0a123d0bec4ad8e4a0d3">ReadControllerRamBase</a> = 0x20,
<a name="l00166"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7cadb280cb54e784ece95d7c3562357c90e">00166</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7cadb280cb54e784ece95d7c3562357c90e">WriteCommandByte</a> = 0x60,
<a name="l00167"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca3f27aa760b598a2b1b53fc873cdbe88b">00167</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca3f27aa760b598a2b1b53fc873cdbe88b">WriteControllerRamBase</a> = 0x60,
<a name="l00168"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca85e40d2935e469479ca3a8c25cc25717">00168</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca85e40d2935e469479ca3a8c25cc25717">CheckForPassword</a> = 0xA4,
<a name="l00169"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca7d16c52e2f56e08cd5a0cba45ab4db6a">00169</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca7d16c52e2f56e08cd5a0cba45ab4db6a">LoadPassword</a> = 0xA5,
<a name="l00170"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca0caa698dfd1b322fdb50724b95d34876">00170</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca0caa698dfd1b322fdb50724b95d34876">CheckPassword</a> = 0xA6,
<a name="l00171"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca7cfbc0d539fedbe6d92020be3e822e7b">00171</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca7cfbc0d539fedbe6d92020be3e822e7b">DisableMouse</a> = 0xA7,
<a name="l00172"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7cae1a2979cf514b6f17f3522be25031d11">00172</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7cae1a2979cf514b6f17f3522be25031d11">EnableMouse</a> = 0xA8,
<a name="l00173"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca19a4e89970f888d38886a0ca34228b8f">00173</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca19a4e89970f888d38886a0ca34228b8f">TestMouse</a> = 0xA9,
<a name="l00174"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca5a5997a313061504d58622fa2db44a67">00174</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca5a5997a313061504d58622fa2db44a67">SelfTest</a> = 0xAA,
<a name="l00175"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7cabd1a2a0ef89de2cfae764a08e765eeca">00175</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7cabd1a2a0ef89de2cfae764a08e765eeca">InterfaceTest</a> = 0xAB,
<a name="l00176"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca0f5cc598f55013752b8901fd06a9f7d2">00176</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca0f5cc598f55013752b8901fd06a9f7d2">DiagnosticDump</a> = 0xAC,
<a name="l00177"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7cad79b0d0c7c585f828d8c98d151529a7b">00177</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7cad79b0d0c7c585f828d8c98d151529a7b">DisableKeyboard</a> = 0xAD,
<a name="l00178"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7cae499955f8ec0c4d85041707192482757">00178</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7cae499955f8ec0c4d85041707192482757">EnableKeyboard</a> = 0xAE,
<a name="l00179"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7caf7987cdeecfb1b04c863db28256b4234">00179</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7caf7987cdeecfb1b04c863db28256b4234">ReadInputPort</a> = 0xC0,
<a name="l00180"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca7ca3ba84f2025a26d5528e8848cd9aa8">00180</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca7ca3ba84f2025a26d5528e8848cd9aa8">ContinuousPollLow</a> = 0xC1,
<a name="l00181"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca07b94804b3279f07eb445aeef758cf49">00181</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca07b94804b3279f07eb445aeef758cf49">ContinuousPollHigh</a> = 0xC2,
<a name="l00182"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca0be81469f49ea8f8ae373d349f17d856">00182</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca0be81469f49ea8f8ae373d349f17d856">ReadOutputPort</a> = 0xD0,
<a name="l00183"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca8e7b4b7c4c7c7446e75daffa4f711c87">00183</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca8e7b4b7c4c7c7446e75daffa4f711c87">WriteOutputPort</a> = 0xD1,
<a name="l00184"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca4b029c54027d6fa77b7edead474ae301">00184</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca4b029c54027d6fa77b7edead474ae301">WriteKeyboardOutputBuff</a> = 0xD2,
<a name="l00185"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca08d7d4b4515c07c1ee550739c47f255d">00185</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca08d7d4b4515c07c1ee550739c47f255d">WriteMouseOutputBuff</a> = 0xD3,
<a name="l00186"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7cae9adf79ab89295bee40be923013ae7cc">00186</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7cae9adf79ab89295bee40be923013ae7cc">WriteToMouse</a> = 0xD4,
<a name="l00187"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7caa52f553afd17088b8cdf01accbea07d6">00187</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7caa52f553afd17088b8cdf01accbea07d6">DisableA20</a> = 0xDD,
<a name="l00188"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca043af6e1629d680da19bd5b34a4026e2">00188</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca043af6e1629d680da19bd5b34a4026e2">EnableA20</a> = 0xDF,
<a name="l00189"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca270595bde6a6395b155682607d3221cd">00189</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca270595bde6a6395b155682607d3221cd">ReadTestInputs</a> = 0xE0,
<a name="l00190"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca505b5da2c267669b2ed17e671aecbb10">00190</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7ca505b5da2c267669b2ed17e671aecbb10">PulseOutputBitBase</a> = 0xF0,
<a name="l00191"></a><a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7cad9fb892f45b7d2bc272869e33994b7b1">00191</a>         <a class="code" href="classX86ISA_1_1I8042.html#a6d290f34bbfaee3494dd0b160c326a7cad9fb892f45b7d2bc272869e33994b7b1">SystemReset</a> = 0xFE
<a name="l00192"></a>00192     };
<a name="l00193"></a>00193 
<a name="l00194"></a>00194     <a class="code" href="classX86ISA_1_1I8042.html#a3e66242b8c2ed16cb7904b6e7515a774">BitUnion8</a>(StatusReg)
<a name="l00195"></a>00195         Bitfield&lt;7&gt; parityError;
<a name="l00196"></a><a class="code" href="classX86ISA_1_1I8042.html#a877a68d605ebbab9db41ff73513d3aa1">00196</a>         Bitfield&lt;6&gt; <a class="code" href="classX86ISA_1_1I8042.html#a877a68d605ebbab9db41ff73513d3aa1">timeout</a>;
<a name="l00197"></a><a class="code" href="classX86ISA_1_1I8042.html#af9123b10c5a6fd61faef88bf70ce0819">00197</a>         Bitfield&lt;5&gt; <a class="code" href="classX86ISA_1_1I8042.html#af9123b10c5a6fd61faef88bf70ce0819">mouseOutputFull</a>;
<a name="l00198"></a><a class="code" href="classX86ISA_1_1I8042.html#a4c45e2c7228bf0e14d1b915df550e03e">00198</a>         Bitfield&lt;4&gt; <a class="code" href="classX86ISA_1_1I8042.html#a4c45e2c7228bf0e14d1b915df550e03e">keyboardUnlocked</a>;
<a name="l00199"></a><a class="code" href="classX86ISA_1_1I8042.html#a5dd53299f6f565e8e0ebd35a52d5cdb8">00199</a>         Bitfield&lt;3&gt; <a class="code" href="classX86ISA_1_1I8042.html#a5dd53299f6f565e8e0ebd35a52d5cdb8">commandLast</a>;
<a name="l00200"></a><a class="code" href="classX86ISA_1_1I8042.html#acafaef2ad7d8cf4e572c53ff47995243">00200</a>         Bitfield&lt;2&gt; <a class="code" href="classX86ISA_1_1I8042.html#acafaef2ad7d8cf4e572c53ff47995243">passedSelfTest</a>;
<a name="l00201"></a><a class="code" href="classX86ISA_1_1I8042.html#a754d72b712273f2e2d4665f1d78d1bd6">00201</a>         Bitfield&lt;1&gt; <a class="code" href="classX86ISA_1_1I8042.html#a754d72b712273f2e2d4665f1d78d1bd6">inputFull</a>;
<a name="l00202"></a><a class="code" href="classX86ISA_1_1I8042.html#a8411c7fe6efcc1808c3d625312bbbcef">00202</a>         Bitfield&lt;0&gt; <a class="code" href="classX86ISA_1_1I8042.html#a8411c7fe6efcc1808c3d625312bbbcef">outputFull</a>;
<a name="l00203"></a>00203     <a class="code" href="classX86ISA_1_1I8042.html#a618033e672df2782e9501c96f9577a73">EndBitUnion</a>(StatusReg)
<a name="l00204"></a>00204 
<a name="l00205"></a>00205     <a class="code" href="classX86ISA_1_1I8042.html#a3e66242b8c2ed16cb7904b6e7515a774">BitUnion8</a>(CommandByte)
<a name="l00206"></a>00206         Bitfield&lt;6&gt; convertScanCodes;
<a name="l00207"></a><a class="code" href="classX86ISA_1_1I8042.html#ab76a9b044084b6e0f580b51afaf555f6">00207</a>         Bitfield&lt;5&gt; <a class="code" href="classX86ISA_1_1I8042.html#ab76a9b044084b6e0f580b51afaf555f6">disableMouse</a>;
<a name="l00208"></a><a class="code" href="classX86ISA_1_1I8042.html#a636e27f7d5c5f9fdcb925170126acd4b">00208</a>         Bitfield&lt;4&gt; <a class="code" href="classX86ISA_1_1I8042.html#a636e27f7d5c5f9fdcb925170126acd4b">disableKeyboard</a>;
<a name="l00209"></a>00209         Bitfield&lt;2&gt; passedSelfTest;
<a name="l00210"></a><a class="code" href="classX86ISA_1_1I8042.html#a601d22e970dc7c20f69c9c34778c723d">00210</a>         Bitfield&lt;1&gt; <a class="code" href="classX86ISA_1_1I8042.html#a601d22e970dc7c20f69c9c34778c723d">mouseFullInt</a>;
<a name="l00211"></a><a class="code" href="classX86ISA_1_1I8042.html#ade943453db0485f5893c2a3346fa1853">00211</a>         Bitfield&lt;0&gt; <a class="code" href="classX86ISA_1_1I8042.html#ade943453db0485f5893c2a3346fa1853">keyboardFullInt</a>;
<a name="l00212"></a>00212     <a class="code" href="classX86ISA_1_1I8042.html#a618033e672df2782e9501c96f9577a73">EndBitUnion</a>(CommandByte)
<a name="l00213"></a>00213 
<a name="l00214"></a>00214     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643" title="Tick count type.">Tick</a> latency;
<a name="l00215"></a><a class="code" href="classX86ISA_1_1I8042.html#ad96bf6f127a4a399607330188ee48969">00215</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classX86ISA_1_1I8042.html#ad96bf6f127a4a399607330188ee48969">dataPort</a>;
<a name="l00216"></a><a class="code" href="classX86ISA_1_1I8042.html#a6326633eaeab4bfb2d78005451b66a9a">00216</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classX86ISA_1_1I8042.html#a6326633eaeab4bfb2d78005451b66a9a">commandPort</a>;
<a name="l00217"></a>00217 
<a name="l00218"></a><a class="code" href="classX86ISA_1_1I8042.html#ae61419ebf85015b1b8b0de8d5b900d8b">00218</a>     StatusReg <a class="code" href="classX86ISA_1_1I8042.html#ae61419ebf85015b1b8b0de8d5b900d8b">statusReg</a>;
<a name="l00219"></a><a class="code" href="classX86ISA_1_1I8042.html#a0774382b3fdb1f5bdfdb60d71af67495">00219</a>     CommandByte <a class="code" href="classX86ISA_1_1I8042.html#a0774382b3fdb1f5bdfdb60d71af67495">commandByte</a>;
<a name="l00220"></a>00220 
<a name="l00221"></a><a class="code" href="classX86ISA_1_1I8042.html#a0b39a57c75470f0c0798ed65e81eae1d">00221</a>     uint8_t <a class="code" href="classX86ISA_1_1I8042.html#a0b39a57c75470f0c0798ed65e81eae1d">dataReg</a>;
<a name="l00222"></a>00222 
<a name="l00223"></a><a class="code" href="classX86ISA_1_1I8042.html#a09c1ed7bea8cf47b59988a430a181551">00223</a>     static const uint16_t <a class="code" href="classX86ISA_1_1I8042.html#a09c1ed7bea8cf47b59988a430a181551">NoCommand</a> = (uint16_t)(-1);
<a name="l00224"></a><a class="code" href="classX86ISA_1_1I8042.html#a915a5ca662ebaf2fa1e871de6b3c68e2">00224</a>     uint16_t <a class="code" href="classX86ISA_1_1I8042.html#a915a5ca662ebaf2fa1e871de6b3c68e2">lastCommand</a>;
<a name="l00225"></a>00225 
<a name="l00226"></a><a class="code" href="classX86ISA_1_1I8042.html#a02f15e90148b0d1f94222196d7f4d02a">00226</a>     <a class="code" href="classX86ISA_1_1IntSourcePin.html">IntSourcePin</a> *<a class="code" href="classX86ISA_1_1I8042.html#a02f15e90148b0d1f94222196d7f4d02a">mouseIntPin</a>;
<a name="l00227"></a><a class="code" href="classX86ISA_1_1I8042.html#a3f3cae8ed32673f443d217acd79f56a1">00227</a>     <a class="code" href="classX86ISA_1_1IntSourcePin.html">IntSourcePin</a> *<a class="code" href="classX86ISA_1_1I8042.html#a3f3cae8ed32673f443d217acd79f56a1">keyboardIntPin</a>;
<a name="l00228"></a>00228 
<a name="l00229"></a><a class="code" href="classX86ISA_1_1I8042.html#af8f75241626d58dd48a92808b3ff6353">00229</a>     <a class="code" href="classX86ISA_1_1PS2Mouse.html">PS2Mouse</a> <a class="code" href="classX86ISA_1_1I8042.html#af8f75241626d58dd48a92808b3ff6353">mouse</a>;
<a name="l00230"></a><a class="code" href="classX86ISA_1_1I8042.html#a08cbe40002343be8076506f835f40fde">00230</a>     <a class="code" href="classX86ISA_1_1PS2Keyboard.html">PS2Keyboard</a> <a class="code" href="classX86ISA_1_1I8042.html#a08cbe40002343be8076506f835f40fde">keyboard</a>;
<a name="l00231"></a>00231 
<a name="l00232"></a>00232     <span class="keywordtype">void</span> <a class="code" href="classX86ISA_1_1I8042.html#ade1174c89c729648e4665bc4781e2f48">writeData</a>(uint8_t newData, <span class="keywordtype">bool</span> mouse = false);
<a name="l00233"></a>00233     uint8_t <a class="code" href="classX86ISA_1_1I8042.html#a87fee86e12f022ebfc57d1c46a700770">readDataOut</a>();
<a name="l00234"></a>00234 
<a name="l00235"></a>00235   public:
<a name="l00236"></a><a class="code" href="classX86ISA_1_1I8042.html#a182f507d0113bc84f5084663ec1277d6">00236</a>     typedef I8042Params <a class="code" href="classPioDevice.html#a8c48b48459ff74de6ff47b9d0cd2f1cd">Params</a>;
<a name="l00237"></a>00237 
<a name="l00238"></a>00238     const Params *
<a name="l00239"></a><a class="code" href="classX86ISA_1_1I8042.html#a6236f5ebc5afa67dcd5cfc191229c1e2">00239</a>     <a class="code" href="classX86ISA_1_1I8042.html#a6236f5ebc5afa67dcd5cfc191229c1e2">params</a>()<span class="keyword"> const</span>
<a name="l00240"></a>00240 <span class="keyword">    </span>{
<a name="l00241"></a>00241         <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>Params *<span class="keyword">&gt;</span>(<a class="code" href="classSimObject.html#a99880551669bb51d749676f678b1dcc8" title="Cached copy of the object parameters.">_params</a>);
<a name="l00242"></a>00242     }
<a name="l00243"></a>00243 
<a name="l00244"></a><a class="code" href="classX86ISA_1_1I8042.html#a64486988fb5c107d3647405173e83621">00244</a>     <a class="code" href="classX86ISA_1_1I8042.html#a64486988fb5c107d3647405173e83621">I8042</a>(<a class="code" href="classPioDevice.html#a8c48b48459ff74de6ff47b9d0cd2f1cd">Params</a> *<a class="code" href="namespaceX86ISA.html#a0fe9b6b82bde08715ddb4a863bf5483a">p</a>) : <a class="code" href="classBasicPioDevice.html">BasicPioDevice</a>(p), latency(p-&gt;pio_latency),
<a name="l00245"></a>00245             <a class="code" href="classX86ISA_1_1I8042.html#ad96bf6f127a4a399607330188ee48969">dataPort</a>(p-&gt;data_port), <a class="code" href="classX86ISA_1_1I8042.html#a6326633eaeab4bfb2d78005451b66a9a">commandPort</a>(p-&gt;command_port),
<a name="l00246"></a>00246             <a class="code" href="classX86ISA_1_1I8042.html#ae61419ebf85015b1b8b0de8d5b900d8b">statusReg</a>(0), <a class="code" href="classX86ISA_1_1I8042.html#a0774382b3fdb1f5bdfdb60d71af67495">commandByte</a>(0), <a class="code" href="classX86ISA_1_1I8042.html#a0b39a57c75470f0c0798ed65e81eae1d">dataReg</a>(0), <a class="code" href="classX86ISA_1_1I8042.html#a915a5ca662ebaf2fa1e871de6b3c68e2">lastCommand</a>(<a class="code" href="classX86ISA_1_1I8042.html#a09c1ed7bea8cf47b59988a430a181551">NoCommand</a>),
<a name="l00247"></a>00247             <a class="code" href="classX86ISA_1_1I8042.html#a02f15e90148b0d1f94222196d7f4d02a">mouseIntPin</a>(p-&gt;mouse_int_pin), <a class="code" href="classX86ISA_1_1I8042.html#a3f3cae8ed32673f443d217acd79f56a1">keyboardIntPin</a>(p-&gt;keyboard_int_pin)
<a name="l00248"></a>00248     {
<a name="l00249"></a>00249         <a class="code" href="classX86ISA_1_1I8042.html#ae61419ebf85015b1b8b0de8d5b900d8b">statusReg</a>.passedSelfTest = 1;
<a name="l00250"></a>00250         <a class="code" href="classX86ISA_1_1I8042.html#ae61419ebf85015b1b8b0de8d5b900d8b">statusReg</a>.commandLast = 1;
<a name="l00251"></a>00251         <a class="code" href="classX86ISA_1_1I8042.html#ae61419ebf85015b1b8b0de8d5b900d8b">statusReg</a>.keyboardUnlocked = 1;
<a name="l00252"></a>00252 
<a name="l00253"></a>00253         <a class="code" href="classX86ISA_1_1I8042.html#a0774382b3fdb1f5bdfdb60d71af67495">commandByte</a>.convertScanCodes = 1;
<a name="l00254"></a>00254         <a class="code" href="classX86ISA_1_1I8042.html#a0774382b3fdb1f5bdfdb60d71af67495">commandByte</a>.passedSelfTest = 1;
<a name="l00255"></a>00255         <a class="code" href="classX86ISA_1_1I8042.html#a0774382b3fdb1f5bdfdb60d71af67495">commandByte</a>.keyboardFullInt = 1;
<a name="l00256"></a>00256     }
<a name="l00257"></a>00257 
<a name="l00258"></a>00258     <a class="code" href="classstd_1_1list.html">AddrRangeList</a> <a class="code" href="classX86ISA_1_1I8042.html#a065d4287cbac046009975eab8bc8b6c8" title="Determine the address ranges that this device responds to.">getAddrRanges</a>() <span class="keyword">const</span>;
<a name="l00259"></a>00259 
<a name="l00260"></a>00260     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643" title="Tick count type.">Tick</a> <a class="code" href="classX86ISA_1_1I8042.html#a109776e8059692f3ae9b7dd1e340275a" title="Pure virtual function that the device must implement.">read</a>(<a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system (e...">PacketPtr</a> pkt);
<a name="l00261"></a>00261 
<a name="l00262"></a>00262     <a class="code" href="base_2types_8hh.html#a5c8ed81b7d238c9083e1037ba6d61643" title="Tick count type.">Tick</a> <a class="code" href="classX86ISA_1_1I8042.html#a59306ef6bfa53bd1582b8175f4bcb391" title="Pure virtual function that the device must implement.">write</a>(<a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system (e...">PacketPtr</a> pkt);
<a name="l00263"></a>00263 
<a name="l00264"></a>00264     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classX86ISA_1_1I8042.html#a66ff12e407b8edd2a70985d36d5b9352">serialize</a>(std::ostream &amp;<a class="code" href="namespaceX86ISA.html#aea9fbab71662ba06cf536e05edfaaad1">os</a>);
<a name="l00265"></a>00265     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classX86ISA_1_1I8042.html#a960ad956ea6aa3009b8900194190fe47">unserialize</a>(<a class="code" href="classCheckpoint.html">Checkpoint</a> *cp, <span class="keyword">const</span> std::string &amp;section);
<a name="l00266"></a>00266 };
<a name="l00267"></a>00267 
<a name="l00268"></a>00268 } <span class="comment">// namespace X86ISA</span>
<a name="l00269"></a>00269 
<a name="l00270"></a>00270 <span class="preprocessor">#endif //__DEV_X86_I8042_HH__</span>
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"><address style="align: right;"><small>
Generated on Sun Apr 7 2013 18:16:38 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.7.1</small></address>

</body>
</html>
