<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gem5: mem/packet.hh Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>mem/packet.hh</h1>  </div>
</div>
<div class="contents">
<a href="packet_8hh.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (c) 2012-2013 ARM Limited</span>
<a name="l00003"></a>00003 <span class="comment"> * All rights reserved</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * The license below extends only to copyright in the software and shall</span>
<a name="l00006"></a>00006 <span class="comment"> * not be construed as granting a license to any other intellectual</span>
<a name="l00007"></a>00007 <span class="comment"> * property including but not limited to intellectual property relating</span>
<a name="l00008"></a>00008 <span class="comment"> * to a hardware implementation of the functionality of the software</span>
<a name="l00009"></a>00009 <span class="comment"> * licensed hereunder.  You may use the software subject to the license</span>
<a name="l00010"></a>00010 <span class="comment"> * terms below provided that you ensure that this notice is replicated</span>
<a name="l00011"></a>00011 <span class="comment"> * unmodified and in its entirety in all distributions of the software,</span>
<a name="l00012"></a>00012 <span class="comment"> * modified or unmodified, in source code or in binary form.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * Copyright (c) 2006 The Regents of The University of Michigan</span>
<a name="l00015"></a>00015 <span class="comment"> * Copyright (c) 2010 Advanced Micro Devices, Inc.</span>
<a name="l00016"></a>00016 <span class="comment"> * All rights reserved.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00019"></a>00019 <span class="comment"> * modification, are permitted provided that the following conditions are</span>
<a name="l00020"></a>00020 <span class="comment"> * met: redistributions of source code must retain the above copyright</span>
<a name="l00021"></a>00021 <span class="comment"> * notice, this list of conditions and the following disclaimer;</span>
<a name="l00022"></a>00022 <span class="comment"> * redistributions in binary form must reproduce the above copyright</span>
<a name="l00023"></a>00023 <span class="comment"> * notice, this list of conditions and the following disclaimer in the</span>
<a name="l00024"></a>00024 <span class="comment"> * documentation and/or other materials provided with the distribution;</span>
<a name="l00025"></a>00025 <span class="comment"> * neither the name of the copyright holders nor the names of its</span>
<a name="l00026"></a>00026 <span class="comment"> * contributors may be used to endorse or promote products derived from</span>
<a name="l00027"></a>00027 <span class="comment"> * this software without specific prior written permission.</span>
<a name="l00028"></a>00028 <span class="comment"> *</span>
<a name="l00029"></a>00029 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<a name="l00030"></a>00030 <span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00031"></a>00031 <span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<a name="l00032"></a>00032 <span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<a name="l00033"></a>00033 <span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<a name="l00034"></a>00034 <span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00035"></a>00035 <span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00036"></a>00036 <span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00037"></a>00037 <span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00038"></a>00038 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00039"></a>00039 <span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00040"></a>00040 <span class="comment"> *</span>
<a name="l00041"></a>00041 <span class="comment"> * Authors: Ron Dreslinski</span>
<a name="l00042"></a>00042 <span class="comment"> *          Steve Reinhardt</span>
<a name="l00043"></a>00043 <span class="comment"> *          Ali Saidi</span>
<a name="l00044"></a>00044 <span class="comment"> *          Andreas Hansson</span>
<a name="l00045"></a>00045 <span class="comment"> */</span>
<a name="l00046"></a>00046 
<a name="l00052"></a>00052 <span class="preprocessor">#ifndef __MEM_PACKET_HH__</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span><span class="preprocessor">#define __MEM_PACKET_HH__</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &lt;bitset&gt;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include &lt;cassert&gt;</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="preprocessor">#include &quot;<a class="code" href="cast_8hh.html">base/cast.hh</a>&quot;</span>
<a name="l00060"></a>00060 <span class="preprocessor">#include &quot;<a class="code" href="compiler_8hh.html">base/compiler.hh</a>&quot;</span>
<a name="l00061"></a>00061 <span class="preprocessor">#include &quot;<a class="code" href="flags_8hh.html">base/flags.hh</a>&quot;</span>
<a name="l00062"></a>00062 <span class="preprocessor">#include &quot;<a class="code" href="base_2misc_8hh.html">base/misc.hh</a>&quot;</span>
<a name="l00063"></a>00063 <span class="preprocessor">#include &quot;<a class="code" href="printable_8hh.html">base/printable.hh</a>&quot;</span>
<a name="l00064"></a>00064 <span class="preprocessor">#include &quot;<a class="code" href="base_2types_8hh.html" title="Defines global host-dependent types: Counter, Tick, and (indirectly) {int,uint}{8,16,32,64}_t.">base/types.hh</a>&quot;</span>
<a name="l00065"></a>00065 <span class="preprocessor">#include &quot;<a class="code" href="request_8hh.html" title="Declaration of a request, the overall memory request consisting of the parts of the request that are ...">mem/request.hh</a>&quot;</span>
<a name="l00066"></a>00066 <span class="preprocessor">#include &quot;<a class="code" href="core_8hh.html">sim/core.hh</a>&quot;</span>
<a name="l00067"></a>00067 
<a name="l00068"></a><a class="code" href="packet_8hh.html#a470982fd720cbb1a92fc936965738abc">00068</a> <span class="keyword">class </span><a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system (e...">Packet</a>;
<a name="l00069"></a>00069 <span class="keyword">typedef</span> <a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system (e...">Packet</a> *<a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system (e...">PacketPtr</a>;
<a name="l00070"></a><a class="code" href="packet_8hh.html#ae85a9de970f801a77a1ad88ee2b39ea2">00070</a> <span class="keyword">typedef</span> uint8_t* PacketDataPtr;
<a name="l00071"></a><a class="code" href="packet_8hh.html#afda380bd563a3c5bf91ed82b01b1bd0a">00071</a> <span class="keyword">typedef</span> <a class="code" href="classstd_1_1list.html" title="STL list class.">std::list&lt;PacketPtr&gt;</a> <a class="code" href="classstd_1_1list.html" title="STL list class.">PacketList</a>;
<a name="l00072"></a>00072 
<a name="l00073"></a><a class="code" href="classMemCmd.html">00073</a> <span class="keyword">class </span><a class="code" href="classMemCmd.html">MemCmd</a>
<a name="l00074"></a>00074 {
<a name="l00075"></a><a class="code" href="classMemCmd.html#ae51cb555166657e5996a76768db998e3">00075</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system (e...">Packet</a>;
<a name="l00076"></a>00076 
<a name="l00077"></a>00077   <span class="keyword">public</span>:
<a name="l00081"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102">00081</a>     <span class="keyword">enum</span> <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102" title="List of all commands associated with a packet.">Command</a>
<a name="l00082"></a>00082     {
<a name="l00083"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102aefa7b894b47e6ffe03b70578c154b754">00083</a>         InvalidCmd,
<a name="l00084"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102aa21449f51bc9023b2dc730a7cd2cbf16">00084</a>         ReadReq,
<a name="l00085"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102acd30523b79ba94d47c0400a3896a387a">00085</a>         ReadResp,
<a name="l00086"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a4edd5782dd950f7956c5320d4e7da5f5">00086</a>         ReadRespWithInvalidate,
<a name="l00087"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a6b6c4696087b2f083bdad6d143d3f0c0">00087</a>         WriteReq,
<a name="l00088"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ab9aee511ad989f598543296bccff8ad4">00088</a>         WriteResp,
<a name="l00089"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a013599ca2026d18dd4fc194aea40449a">00089</a>         Writeback,
<a name="l00090"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a6c35f3d1e73b93582873917355bd7b1c">00090</a>         SoftPFReq,
<a name="l00091"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a3c5ba8313aef1c339b8836a9ad01a67f">00091</a>         HardPFReq,
<a name="l00092"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a04da3237c75c7acbc8de8a9318d1d63f">00092</a>         SoftPFResp,
<a name="l00093"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102adaee4eac9ff880d992f4023aeb9c4096">00093</a>         HardPFResp,
<a name="l00094"></a>00094         <span class="comment">// WriteInvalidateReq transactions used to be generated by the</span>
<a name="l00095"></a>00095         <span class="comment">// DMA ports when writing full blocks to memory, however, it</span>
<a name="l00096"></a>00096         <span class="comment">// is not used anymore since we put the I/O cache in place to</span>
<a name="l00097"></a>00097         <span class="comment">// deal with partial block writes. Hence, WriteInvalidateReq</span>
<a name="l00098"></a>00098         <span class="comment">// and WriteInvalidateResp are currently unused. The</span>
<a name="l00099"></a>00099         <span class="comment">// implication is that the I/O cache does read-exclusive</span>
<a name="l00100"></a>00100         <span class="comment">// operations on every full-cache-block DMA, and ultimately</span>
<a name="l00101"></a>00101         <span class="comment">// this needs to be fixed.</span>
<a name="l00102"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a6bc2e2ff9599b173ff7b5db3cb6f4891">00102</a>         WriteInvalidateReq,
<a name="l00103"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a7ef27137fceb8a4a7c40b76bf7b02266">00103</a>         WriteInvalidateResp,
<a name="l00104"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a80c0c11009bbfaeda5bc1682a7d85dc0">00104</a>         UpgradeReq,
<a name="l00105"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ab9dccc290f1113ac9278517af08da1ea">00105</a>         SCUpgradeReq,           <span class="comment">// Special &quot;weak&quot; upgrade for StoreCond</span>
<a name="l00106"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a26697e94c797b12bbfa4bca93b01a3d3">00106</a>         UpgradeResp,
<a name="l00107"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ab50f06f7ee7c79cc649b0b5cd3016c9e">00107</a>         SCUpgradeFailReq,       <span class="comment">// Failed SCUpgradeReq in MSHR (never sent)</span>
<a name="l00108"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a5c2d491a57f25a4d084a807da15ea7fe">00108</a>         UpgradeFailResp,        <span class="comment">// Valid for SCUpgradeReq only</span>
<a name="l00109"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a3e8ee6c159010a4c59cf8bd49d7e3ff5">00109</a>         ReadExReq,
<a name="l00110"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a785c77b28b507b083fd95d2b7b73ade6">00110</a>         ReadExResp,
<a name="l00111"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ad31f1e0a991481fdf8bdf9bdb10ed677">00111</a>         LoadLockedReq,
<a name="l00112"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102aa44f9555c67b495e7b955e42585308a2">00112</a>         StoreCondReq,
<a name="l00113"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a23deda5a0c21e33bd841162296dd49bc">00113</a>         StoreCondFailReq,       <span class="comment">// Failed StoreCondReq in MSHR (never sent)</span>
<a name="l00114"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a183a6ae26246f359ffa0cf744afaaae8">00114</a>         StoreCondResp,
<a name="l00115"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ac7f755b88d8c576770c6cdfc67af5fc9">00115</a>         SwapReq,
<a name="l00116"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102abca95839696c395477361a284e14fe95">00116</a>         SwapResp,
<a name="l00117"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a9efe104507f3ac022b053e707cfdf326">00117</a>         MessageReq,
<a name="l00118"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102aa672a7b17a89a606c8f25e6b0ab1460a">00118</a>         MessageResp,
<a name="l00119"></a>00119         <span class="comment">// Error responses</span>
<a name="l00120"></a>00120         <span class="comment">// @TODO these should be classified as responses rather than</span>
<a name="l00121"></a>00121         <span class="comment">// requests; coding them as requests initially for backwards</span>
<a name="l00122"></a>00122         <span class="comment">// compatibility</span>
<a name="l00123"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102add60c8e769e5e794318b7271d54fcc66">00123</a>         InvalidDestError,  <span class="comment">// packet dest field invalid</span>
<a name="l00124"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a6030379cf17e8c255a18c71d7f29a8fa">00124</a>         BadAddressError,   <span class="comment">// memory address invalid</span>
<a name="l00125"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102af5991294204094351d97dcac62dc1588">00125</a>         FunctionalReadError, <span class="comment">// unable to fulfill functional read</span>
<a name="l00126"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a84f7210312b1a01f45e0fc2bf06178ff">00126</a>         FunctionalWriteError, <span class="comment">// unable to fulfill functional write</span>
<a name="l00127"></a>00127         <span class="comment">// Fake simulator-only commands</span>
<a name="l00128"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a96da84bc4f9e080c0c4f21834d5a2fa1">00128</a>         PrintReq,       <span class="comment">// Print state matching address</span>
<a name="l00129"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102afb57f4b4d5e893662d33159323003415">00129</a>         FlushReq,      <span class="comment">//request for a cache flush</span>
<a name="l00130"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102ab01b1053422c25fbf21e15b94a3cd8eb">00130</a>         InvalidationReq,   <span class="comment">// request for address to be invalidated from lsq</span>
<a name="l00131"></a><a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a28b71bb48b82dbea330ae2e6cb237bd8">00131</a>         <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102a28b71bb48b82dbea330ae2e6cb237bd8">NUM_MEM_CMDS</a>
<a name="l00132"></a>00132     };
<a name="l00133"></a>00133 
<a name="l00134"></a>00134   <span class="keyword">private</span>:
<a name="l00138"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254">00138</a>     <span class="keyword">enum</span> <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254" title="List of command attributes.">Attribute</a>
<a name="l00139"></a>00139     {
<a name="l00140"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a8889cd93368983a6bc944b70b711e704">00140</a>         IsRead,         
<a name="l00141"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254aaba6226831c64c8b9985c7cb5570206e">00141</a>         IsWrite,        
<a name="l00142"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254aa9b47e0b9001d77ca2973d8116f048ac">00142</a>         IsUpgrade,
<a name="l00143"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a78b7e5d415814b81d25c380bbb13b745">00143</a>         IsInvalidate,
<a name="l00144"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a2a1e37188920ec02675e308da5b3bb15">00144</a>         NeedsExclusive, 
<a name="l00145"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a4fe61f7440a43e6d72d9e2d9cd90bf9a">00145</a>         IsRequest,      
<a name="l00146"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a7fabbd8ca215f6dc0866a4f4826e00c4">00146</a>         IsResponse,     
<a name="l00147"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a0793ecde69891c14b15851813e2bacfd">00147</a>         NeedsResponse,  
<a name="l00148"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a62887e7dca868839cc1c19a5dbc574b7">00148</a>         IsSWPrefetch,
<a name="l00149"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a6cc3f2b9246203d14d1b64b8b9afa387">00149</a>         IsHWPrefetch,
<a name="l00150"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a52ca03e1cf0d9aea78e885e481610802">00150</a>         IsLlsc,         
<a name="l00151"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a744c678de3877ba10e7cca1a0265df05">00151</a>         HasData,        
<a name="l00152"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a2f8ca9b3b8fb29c417e38b34d989e7c6">00152</a>         IsError,        
<a name="l00153"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a9000e572e7607e504dad6cdff38ec734">00153</a>         IsPrint,        
<a name="l00154"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a29ddec6ecad529f61b8c1880824816ff">00154</a>         IsFlush,        
<a name="l00155"></a><a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254ad7c460e37de62f7f05792875ce470826">00155</a>         <a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254ad7c460e37de62f7f05792875ce470826">NUM_COMMAND_ATTRIBUTES</a>
<a name="l00156"></a>00156     };
<a name="l00157"></a>00157 
<a name="l00162"></a><a class="code" href="structMemCmd_1_1CommandInfo.html">00162</a>     <span class="keyword">struct </span><a class="code" href="structMemCmd_1_1CommandInfo.html" title="Structure that defines attributes and other data associated with a Command.">CommandInfo</a>
<a name="l00163"></a>00163     {
<a name="l00165"></a><a class="code" href="structMemCmd_1_1CommandInfo.html#a5d8bae7c882750231c885359ecb8409c">00165</a>         <span class="keyword">const</span> std::bitset&lt;NUM_COMMAND_ATTRIBUTES&gt; <a class="code" href="structMemCmd_1_1CommandInfo.html#a5d8bae7c882750231c885359ecb8409c" title="Set of attribute flags.">attributes</a>;
<a name="l00168"></a><a class="code" href="structMemCmd_1_1CommandInfo.html#a6d944006b0263e9023378a5614bb6235">00168</a>         <span class="keyword">const</span> <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102" title="List of all commands associated with a packet.">Command</a> <a class="code" href="structMemCmd_1_1CommandInfo.html#a6d944006b0263e9023378a5614bb6235" title="Corresponding response for requests; InvalidCmd if no response is applicable.">response</a>;
<a name="l00170"></a><a class="code" href="structMemCmd_1_1CommandInfo.html#a6eec1c04d31f01dc6f712d0f8da88813">00170</a>         <span class="keyword">const</span> std::string <a class="code" href="structMemCmd_1_1CommandInfo.html#a6eec1c04d31f01dc6f712d0f8da88813" title="String representation (for printing).">str</a>;
<a name="l00171"></a>00171     };
<a name="l00172"></a>00172 
<a name="l00174"></a><a class="code" href="classMemCmd.html#a1a067e3c42326c8b0915c1f8c1b85008">00174</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structMemCmd_1_1CommandInfo.html" title="Structure that defines attributes and other data associated with a Command.">CommandInfo</a> <a class="code" href="classMemCmd.html#a1a067e3c42326c8b0915c1f8c1b85008" title="Array to map Command enum to associated info.">commandInfo</a>[];
<a name="l00175"></a>00175 
<a name="l00176"></a>00176   <span class="keyword">private</span>:
<a name="l00177"></a>00177 
<a name="l00178"></a><a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">00178</a>     <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102" title="List of all commands associated with a packet.">Command</a> <a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>;
<a name="l00179"></a>00179 
<a name="l00180"></a>00180     <span class="keywordtype">bool</span>
<a name="l00181"></a><a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">00181</a>     <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254" title="List of command attributes.">MemCmd::Attribute</a> attrib)<span class="keyword"> const</span>
<a name="l00182"></a>00182 <span class="keyword">    </span>{
<a name="l00183"></a>00183         <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a1a067e3c42326c8b0915c1f8c1b85008" title="Array to map Command enum to associated info.">commandInfo</a>[<a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>].<a class="code" href="structMemCmd_1_1CommandInfo.html#a5d8bae7c882750231c885359ecb8409c" title="Set of attribute flags.">attributes</a>[attrib] != 0;
<a name="l00184"></a>00184     }
<a name="l00185"></a>00185 
<a name="l00186"></a>00186   <span class="keyword">public</span>:
<a name="l00187"></a>00187 
<a name="l00188"></a><a class="code" href="classMemCmd.html#a5337704d0452c9f691a3da2875af6e0d">00188</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a5337704d0452c9f691a3da2875af6e0d">isRead</a>()<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a8889cd93368983a6bc944b70b711e704" title="Data flows from responder to requester.">IsRead</a>); }
<a name="l00189"></a><a class="code" href="classMemCmd.html#af07e060f71982976f3ab1abae4eb0942">00189</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#af07e060f71982976f3ab1abae4eb0942">isWrite</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254aaba6226831c64c8b9985c7cb5570206e" title="Data flows from requester to responder.">IsWrite</a>); }
<a name="l00190"></a><a class="code" href="classMemCmd.html#a47564290a66c76396066677803a411f6">00190</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a47564290a66c76396066677803a411f6">isUpgrade</a>()<span class="keyword"> const      </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254aa9b47e0b9001d77ca2973d8116f048ac">IsUpgrade</a>); }
<a name="l00191"></a><a class="code" href="classMemCmd.html#afe74e8df04898a124efbce49a8194eb7">00191</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#afe74e8df04898a124efbce49a8194eb7">isRequest</a>()<span class="keyword"> const      </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a4fe61f7440a43e6d72d9e2d9cd90bf9a" title="Issued by requester.">IsRequest</a>); }
<a name="l00192"></a><a class="code" href="classMemCmd.html#a16056dcc6b1fb668bcb406f53e63ebfc">00192</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a16056dcc6b1fb668bcb406f53e63ebfc">isResponse</a>()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a7fabbd8ca215f6dc0866a4f4826e00c4" title="Issue by responder.">IsResponse</a>); }
<a name="l00193"></a><a class="code" href="classMemCmd.html#afa4683b1fdc52c130e937e44cf099e99">00193</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#afa4683b1fdc52c130e937e44cf099e99">needsExclusive</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a2a1e37188920ec02675e308da5b3bb15" title="Requires exclusive copy to complete in-cache.">NeedsExclusive</a>); }
<a name="l00194"></a><a class="code" href="classMemCmd.html#ad156e33e6207b50f013c61b9ae641212">00194</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#ad156e33e6207b50f013c61b9ae641212">needsResponse</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a0793ecde69891c14b15851813e2bacfd" title="Requester needs response from target.">NeedsResponse</a>); }
<a name="l00195"></a><a class="code" href="classMemCmd.html#ae11d1fce816f014ea69c65053df612e5">00195</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#ae11d1fce816f014ea69c65053df612e5">isInvalidate</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a78b7e5d415814b81d25c380bbb13b745">IsInvalidate</a>); }
<a name="l00196"></a><a class="code" href="classMemCmd.html#ae23393f85f5f81a9ae9a89597241681a">00196</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#ae23393f85f5f81a9ae9a89597241681a">hasData</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a744c678de3877ba10e7cca1a0265df05" title="There is an associated payload.">HasData</a>); }
<a name="l00197"></a><a class="code" href="classMemCmd.html#a4dfdaadfc76d8fe2fff9a37562f351be">00197</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a4dfdaadfc76d8fe2fff9a37562f351be">isReadWrite</a>()<span class="keyword"> const    </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a5337704d0452c9f691a3da2875af6e0d">isRead</a>() &amp;&amp; <a class="code" href="classMemCmd.html#af07e060f71982976f3ab1abae4eb0942">isWrite</a>(); }
<a name="l00198"></a><a class="code" href="classMemCmd.html#a79593b75b0102dc00b9a1ebfee1f55dc">00198</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a79593b75b0102dc00b9a1ebfee1f55dc">isLLSC</a>()<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a52ca03e1cf0d9aea78e885e481610802" title="Alpha/MIPS LL or SC access.">IsLlsc</a>); }
<a name="l00199"></a><a class="code" href="classMemCmd.html#a4274c757a11f698b571269c0beb65e3b">00199</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a4274c757a11f698b571269c0beb65e3b">isError</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a2f8ca9b3b8fb29c417e38b34d989e7c6" title="Error response.">IsError</a>); }
<a name="l00200"></a><a class="code" href="classMemCmd.html#af45ce2fb0526176116038dced1f121c3">00200</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#af45ce2fb0526176116038dced1f121c3">isPrint</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a9000e572e7607e504dad6cdff38ec734" title="Print state matching address (for debugging).">IsPrint</a>); }
<a name="l00201"></a><a class="code" href="classMemCmd.html#a872b12ba0cef4be56fd489e8dfa7f337">00201</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a872b12ba0cef4be56fd489e8dfa7f337">isFlush</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a6daf8273999c354a7bbbd803ce2a4175">testCmdAttrib</a>(<a class="code" href="classMemCmd.html#a0b77a388443f8e19a4b97b16b655f254a29ddec6ecad529f61b8c1880824816ff" title="Flush the address from caches.">IsFlush</a>); }
<a name="l00202"></a>00202 
<a name="l00203"></a>00203     <span class="keyword">const</span> <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102" title="List of all commands associated with a packet.">Command</a>
<a name="l00204"></a><a class="code" href="classMemCmd.html#a235cce2fc289b81a7c694da46b2250e1">00204</a>     <a class="code" href="classMemCmd.html#a235cce2fc289b81a7c694da46b2250e1">responseCommand</a>()<span class="keyword"> const</span>
<a name="l00205"></a>00205 <span class="keyword">    </span>{
<a name="l00206"></a>00206         <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a1a067e3c42326c8b0915c1f8c1b85008" title="Array to map Command enum to associated info.">commandInfo</a>[<a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>].<a class="code" href="structMemCmd_1_1CommandInfo.html#a6d944006b0263e9023378a5614bb6235" title="Corresponding response for requests; InvalidCmd if no response is applicable.">response</a>;
<a name="l00207"></a>00207     }
<a name="l00208"></a>00208 
<a name="l00210"></a><a class="code" href="classMemCmd.html#ac236d065269027dd231883ec3f854c8a">00210</a>     <span class="keyword">const</span> std::string &amp;<a class="code" href="classMemCmd.html#ac236d065269027dd231883ec3f854c8a" title="Return the string to a cmd given by idx.">toString</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemCmd.html#a1a067e3c42326c8b0915c1f8c1b85008" title="Array to map Command enum to associated info.">commandInfo</a>[<a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>].<a class="code" href="structMemCmd_1_1CommandInfo.html#a6eec1c04d31f01dc6f712d0f8da88813" title="String representation (for printing).">str</a>; }
<a name="l00211"></a><a class="code" href="classMemCmd.html#ac2d90cce983a326b1abd57e71e29c84e">00211</a>     <span class="keywordtype">int</span> <a class="code" href="classMemCmd.html#ac2d90cce983a326b1abd57e71e29c84e">toInt</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>; }
<a name="l00212"></a>00212 
<a name="l00213"></a><a class="code" href="classMemCmd.html#a2fd9cdae15f121943108453345c9c850">00213</a>     <a class="code" href="classMemCmd.html#a2fd9cdae15f121943108453345c9c850">MemCmd</a>(<a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102" title="List of all commands associated with a packet.">Command</a> _cmd) : <a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>(_cmd) { }
<a name="l00214"></a><a class="code" href="classMemCmd.html#ae83fea78a14a3037cbbf2e02f208e809">00214</a>     <a class="code" href="classMemCmd.html#ae83fea78a14a3037cbbf2e02f208e809">MemCmd</a>(<span class="keywordtype">int</span> _cmd) : <a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>((<a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102" title="List of all commands associated with a packet.">Command</a>)_cmd) { }
<a name="l00215"></a><a class="code" href="classMemCmd.html#a683955d32acb3e523f52fda1a064632c">00215</a>     <a class="code" href="classMemCmd.html#a683955d32acb3e523f52fda1a064632c">MemCmd</a>() : <a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>(<a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102aefa7b894b47e6ffe03b70578c154b754">InvalidCmd</a>) { }
<a name="l00216"></a>00216 
<a name="l00217"></a><a class="code" href="classMemCmd.html#ac760cdda4fcb8afda8da38c9f2e284ab">00217</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#ac760cdda4fcb8afda8da38c9f2e284ab">operator==</a>(<a class="code" href="classMemCmd.html">MemCmd</a> <a class="code" href="namespaceMipsISA.html#a8a50d3eab87dd8ba96c7deb9b9c4975f">c2</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a> == c2.<a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>); }
<a name="l00218"></a><a class="code" href="classMemCmd.html#a12a1e0a0d853d972ed2e1f2106779f21">00218</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemCmd.html#a12a1e0a0d853d972ed2e1f2106779f21">operator!=</a>(<a class="code" href="classMemCmd.html">MemCmd</a> <a class="code" href="namespaceMipsISA.html#a8a50d3eab87dd8ba96c7deb9b9c4975f">c2</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a> != c2.<a class="code" href="classMemCmd.html#a8ffc7b378224a0b9c1957e9e386bd156">cmd</a>); }
<a name="l00219"></a>00219 };
<a name="l00220"></a>00220 
<a name="l00228"></a><a class="code" href="classPacket.html">00228</a> <span class="keyword">class </span><a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system (e...">Packet</a> : <span class="keyword">public</span> <a class="code" href="classPrintable.html" title="Abstract base class for objects which support being printed to a stream for debugging.">Printable</a>
<a name="l00229"></a>00229 {
<a name="l00230"></a>00230   <span class="keyword">public</span>:
<a name="l00231"></a><a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">00231</a>     <span class="keyword">typedef</span> <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> FlagsType;
<a name="l00232"></a><a class="code" href="classPacket.html#a5901a7043b7770017d3d2e85fa0fca36">00232</a>     typedef ::Flags&lt;FlagsType&gt; <a class="code" href="classFlags.html">Flags</a>;
<a name="l00233"></a>00233 
<a name="l00234"></a>00234   <span class="keyword">private</span>:
<a name="l00235"></a><a class="code" href="classPacket.html#a84ab930a98cd9f93f924d73f98ead921">00235</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a84ab930a98cd9f93f924d73f98ead921">PUBLIC_FLAGS</a>           = 0x00000000;
<a name="l00236"></a><a class="code" href="classPacket.html#a324a3225f46c68f5770b793c94df2fca">00236</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a324a3225f46c68f5770b793c94df2fca">PRIVATE_FLAGS</a>          = 0x00007F0F;
<a name="l00237"></a><a class="code" href="classPacket.html#aaa7c20adbe1075fc6c5fe5f543f9905f">00237</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#aaa7c20adbe1075fc6c5fe5f543f9905f">COPY_FLAGS</a>             = 0x0000000F;
<a name="l00238"></a>00238 
<a name="l00239"></a><a class="code" href="classPacket.html#a048047a1b967a7c605a232903b1c33cf">00239</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a048047a1b967a7c605a232903b1c33cf">SHARED</a>                 = 0x00000001;
<a name="l00240"></a>00240     <span class="comment">// Special control flags</span>
<a name="l00242"></a><a class="code" href="classPacket.html#a9d2c8f25df92b7786c361bec2cede353">00242</a> <span class="comment"></span>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a9d2c8f25df92b7786c361bec2cede353" title="Special timing-mode atomic snoop for multi-level coherence.">EXPRESS_SNOOP</a>          = 0x00000002;
<a name="l00245"></a><a class="code" href="classPacket.html#acbed7ccdb0ccf11d64e44e0d736ac1ca">00245</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#acbed7ccdb0ccf11d64e44e0d736ac1ca" title="Does supplier have exclusive copy? Useful for multi-level coherence.">SUPPLY_EXCLUSIVE</a>       = 0x00000004;
<a name="l00246"></a>00246     <span class="comment">// Snoop response flags</span>
<a name="l00247"></a><a class="code" href="classPacket.html#ac9ac9a3b7fbc9c97d58beaf876cc90fd">00247</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#ac9ac9a3b7fbc9c97d58beaf876cc90fd">MEM_INHIBIT</a>            = 0x00000008;
<a name="l00249"></a><a class="code" href="classPacket.html#a861583afb158741b1a352bb1d55daad5">00249</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a861583afb158741b1a352bb1d55daad5" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>             = 0x00000100;
<a name="l00250"></a><a class="code" href="classPacket.html#a52c68e7ebb52bc28bc03c101c2e446f3">00250</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a52c68e7ebb52bc28bc03c101c2e446f3">VALID_SIZE</a>             = 0x00000200;
<a name="l00253"></a><a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62">00253</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is destroyed...">STATIC_DATA</a>            = 0x00001000;
<a name="l00256"></a><a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff">00256</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed.">DYNAMIC_DATA</a>           = 0x00002000;
<a name="l00259"></a><a class="code" href="classPacket.html#a7908599645927333c7fccd893fe80609">00259</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a7908599645927333c7fccd893fe80609" title="the data pointer points to an array (thus delete []) needs to be called on it rather than simply dele...">ARRAY_DATA</a>             = 0x00004000;
<a name="l00262"></a><a class="code" href="classPacket.html#a87d58007b26de0eadee1edc5d87e6b63">00262</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classPacket.html#ae0916804186bffa24ea64d52324391b7">FlagsType</a> <a class="code" href="classPacket.html#a87d58007b26de0eadee1edc5d87e6b63" title="suppress the error if this packet encounters a functional access failure.">SUPPRESS_FUNC_ERROR</a>    = 0x00008000;
<a name="l00263"></a>00263 
<a name="l00264"></a><a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">00264</a>     <a class="code" href="classFlags.html">Flags</a> <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>;
<a name="l00265"></a>00265 
<a name="l00266"></a>00266   <span class="keyword">public</span>:
<a name="l00267"></a><a class="code" href="classPacket.html#ae9a3fdea469fc4024c95c49aab34742e">00267</a>     <span class="keyword">typedef</span> <a class="code" href="classMemCmd.html#ae5c39c2de0ad998b5176bc519b358102" title="List of all commands associated with a packet.">MemCmd::Command</a> Command;
<a name="l00268"></a>00268 
<a name="l00270"></a><a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae">00270</a>     <a class="code" href="classMemCmd.html">MemCmd</a> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>;
<a name="l00271"></a>00271 
<a name="l00273"></a><a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f">00273</a>     <a class="code" href="classRequest.html">RequestPtr</a> <a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f" title="A pointer to the original request.">req</a>;
<a name="l00274"></a>00274 
<a name="l00275"></a>00275   <span class="keyword">private</span>:
<a name="l00283"></a><a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a">00283</a>     <a class="code" href="packet_8hh.html#ae85a9de970f801a77a1ad88ee2b39ea2">PacketDataPtr</a> <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a>;
<a name="l00284"></a>00284 
<a name="l00287"></a><a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e">00287</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e" title="The address of the request.">addr</a>;
<a name="l00288"></a>00288 
<a name="l00290"></a><a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab">00290</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a>;
<a name="l00291"></a>00291 
<a name="l00304"></a><a class="code" href="classPacket.html#ab407fe42e30b6ffba94709dc44555462">00304</a>     <a class="code" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e" title="Port index/ID type, and a symbolic name for an invalid port id.">PortID</a> <a class="code" href="classPacket.html#ab407fe42e30b6ffba94709dc44555462" title="Source port identifier set on a request packet to enable appropriate routing of the responses...">src</a>;
<a name="l00305"></a>00305 
<a name="l00314"></a><a class="code" href="classPacket.html#a0174305dff3306a72b0b9f2960d7c855">00314</a>     <a class="code" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e" title="Port index/ID type, and a symbolic name for an invalid port id.">PortID</a> <a class="code" href="classPacket.html#a0174305dff3306a72b0b9f2960d7c855" title="Destination port identifier that is present on all response packets that passed through a multiplexin...">dest</a>;
<a name="l00315"></a>00315 
<a name="l00322"></a><a class="code" href="classPacket.html#a0f6da152bf08b0503427e2e1a8c18253">00322</a>     <a class="code" href="classMemCmd.html">MemCmd</a> <a class="code" href="classPacket.html#a0f6da152bf08b0503427e2e1a8c18253" title="The original value of the command field.">origCmd</a>;
<a name="l00323"></a>00323 
<a name="l00328"></a><a class="code" href="classPacket.html#a1915df9b0c2239ca6ddd7714046ec9e5">00328</a>     uint16_t <a class="code" href="classPacket.html#a1915df9b0c2239ca6ddd7714046ec9e5" title="These values specify the range of bytes found that satisfy a functional read.">bytesValidStart</a>;
<a name="l00329"></a><a class="code" href="classPacket.html#a28f0ca0dd9ed69175dc2683dd7695c62">00329</a>     uint16_t <a class="code" href="classPacket.html#a28f0ca0dd9ed69175dc2683dd7695c62">bytesValidEnd</a>;
<a name="l00330"></a>00330 
<a name="l00331"></a>00331   <span class="keyword">public</span>:
<a name="l00332"></a>00332 
<a name="l00340"></a><a class="code" href="classPacket.html#a72da3f227887b6d8d316421c92a27108">00340</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="classPacket.html#a72da3f227887b6d8d316421c92a27108" title="The extra delay from seeing the packet until the first word is transmitted by the bus that provided i...">busFirstWordDelay</a>;
<a name="l00341"></a>00341 
<a name="l00349"></a><a class="code" href="classPacket.html#a1630a79f0fc7ddf0ee957f23ec25dfde">00349</a>     <a class="code" href="Type_8hh.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="classPacket.html#a1630a79f0fc7ddf0ee957f23ec25dfde" title="The extra delay from seeing the packet until the last word is transmitted by the bus that provided it...">busLastWordDelay</a>;
<a name="l00350"></a>00350 
<a name="l00368"></a><a class="code" href="structPacket_1_1SenderState.html">00368</a>     <span class="keyword">struct </span><a class="code" href="structPacket_1_1SenderState.html" title="A virtual base opaque structure used to hold state associated with the packet (e.g., an MSHR), specific to a MemObject that sees the packet.">SenderState</a>
<a name="l00369"></a>00369     {
<a name="l00370"></a><a class="code" href="structPacket_1_1SenderState.html#af85d7548568d280276976db91292e75a">00370</a>         <a class="code" href="structPacket_1_1SenderState.html" title="A virtual base opaque structure used to hold state associated with the packet (e.g., an MSHR), specific to a MemObject that sees the packet.">SenderState</a>* <a class="code" href="structPacket_1_1SenderState.html#af85d7548568d280276976db91292e75a">predecessor</a>;
<a name="l00371"></a><a class="code" href="structPacket_1_1SenderState.html#a577c9bb43dbb863314ace2ba1eb8e81e">00371</a>         <a class="code" href="structPacket_1_1SenderState.html#a577c9bb43dbb863314ace2ba1eb8e81e">SenderState</a>() : <a class="code" href="structPacket_1_1SenderState.html#af85d7548568d280276976db91292e75a">predecessor</a>(NULL) {}
<a name="l00372"></a><a class="code" href="structPacket_1_1SenderState.html#ac26e7188c0d14fcafba4de2200b67999">00372</a>         <span class="keyword">virtual</span> <a class="code" href="structPacket_1_1SenderState.html#ac26e7188c0d14fcafba4de2200b67999">~SenderState</a>() {}
<a name="l00373"></a>00373     };
<a name="l00374"></a>00374 
<a name="l00379"></a><a class="code" href="classPacket_1_1PrintReqState.html">00379</a>     <span class="keyword">class </span><a class="code" href="classPacket_1_1PrintReqState.html" title="Object used to maintain state of a PrintReq.">PrintReqState</a> : <span class="keyword">public</span> <a class="code" href="structPacket_1_1SenderState.html" title="A virtual base opaque structure used to hold state associated with the packet (e.g., an MSHR), specific to a MemObject that sees the packet.">SenderState</a>
<a name="l00380"></a>00380     {
<a name="l00381"></a>00381       <span class="keyword">private</span>:
<a name="l00385"></a><a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html">00385</a>         <span class="keyword">struct </span><a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html" title="An entry in the label stack.">LabelStackEntry</a>
<a name="l00386"></a>00386         {
<a name="l00387"></a><a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a6cdd269ee6b2f2ddfe2a3f6db95337bc">00387</a>             <span class="keyword">const</span> std::string <a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a6cdd269ee6b2f2ddfe2a3f6db95337bc">label</a>;
<a name="l00388"></a><a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a23af90dba32637a01b0d9e4953dda399">00388</a>             std::string *<a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a23af90dba32637a01b0d9e4953dda399">prefix</a>;
<a name="l00389"></a><a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a5c3440e2fa6d41a7d45f64a52b965657">00389</a>             <span class="keywordtype">bool</span> <a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a5c3440e2fa6d41a7d45f64a52b965657">labelPrinted</a>;
<a name="l00390"></a>00390             <a class="code" href="structPacket_1_1PrintReqState_1_1LabelStackEntry.html#a977ce68abe11fb90dc70a07d28d38958">LabelStackEntry</a>(<span class="keyword">const</span> std::string &amp;_label, std::string *_prefix);
<a name="l00391"></a>00391         };
<a name="l00392"></a>00392 
<a name="l00393"></a><a class="code" href="classPacket_1_1PrintReqState.html#a4ad1aae0a3469fdd95c039233b6ff963">00393</a>         <span class="keyword">typedef</span> <a class="code" href="classstd_1_1list.html">std::list&lt;LabelStackEntry&gt;</a> <a class="code" href="classstd_1_1list.html">LabelStack</a>;
<a name="l00394"></a><a class="code" href="classPacket_1_1PrintReqState.html#a4a3a492a3507a464978aaa005f95b82c">00394</a>         <a class="code" href="classstd_1_1list.html">LabelStack</a> <a class="code" href="classPacket_1_1PrintReqState.html#a4a3a492a3507a464978aaa005f95b82c">labelStack</a>;
<a name="l00395"></a>00395 
<a name="l00396"></a><a class="code" href="classPacket_1_1PrintReqState.html#a6827955ee79f729e39e98ad76daae49b">00396</a>         std::string *<a class="code" href="classPacket_1_1PrintReqState.html#a6827955ee79f729e39e98ad76daae49b">curPrefixPtr</a>;
<a name="l00397"></a>00397 
<a name="l00398"></a>00398       <span class="keyword">public</span>:
<a name="l00399"></a><a class="code" href="classPacket_1_1PrintReqState.html#a407e68616c96284b4aaa063183d379d0">00399</a>         std::ostream &amp;<a class="code" href="classPacket_1_1PrintReqState.html#a407e68616c96284b4aaa063183d379d0">os</a>;
<a name="l00400"></a><a class="code" href="classPacket_1_1PrintReqState.html#a087ee738c8ac8ad642974bb408d408d8">00400</a>         <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classPacket_1_1PrintReqState.html#a087ee738c8ac8ad642974bb408d408d8">verbosity</a>;
<a name="l00401"></a>00401 
<a name="l00402"></a>00402         <a class="code" href="classPacket_1_1PrintReqState.html#acb3f8da8b7fdac6baab1ee0384aa98f6">PrintReqState</a>(std::ostream &amp;<a class="code" href="classPacket_1_1PrintReqState.html#a407e68616c96284b4aaa063183d379d0">os</a>, <span class="keywordtype">int</span> <a class="code" href="classPacket_1_1PrintReqState.html#a087ee738c8ac8ad642974bb408d408d8">verbosity</a> = 0);
<a name="l00403"></a>00403         <a class="code" href="classPacket_1_1PrintReqState.html#a21e15ef78e0a0d4ce5e6c3da95c6da27">~PrintReqState</a>();
<a name="l00404"></a>00404 
<a name="l00408"></a><a class="code" href="classPacket_1_1PrintReqState.html#a19321d38a07d0687b3aeb5176e1df867">00408</a>         <span class="keyword">const</span> std::string &amp;<a class="code" href="classPacket_1_1PrintReqState.html#a19321d38a07d0687b3aeb5176e1df867" title="Returns the current line prefix.">curPrefix</a>() { <span class="keywordflow">return</span> *<a class="code" href="classPacket_1_1PrintReqState.html#a6827955ee79f729e39e98ad76daae49b">curPrefixPtr</a>; }
<a name="l00409"></a>00409 
<a name="l00415"></a>00415         <span class="keywordtype">void</span> <a class="code" href="classPacket_1_1PrintReqState.html#a96f0b24995a7489e5f81df9912d92935" title="Push a label onto the label stack, and prepend the given prefix string onto the current prefix...">pushLabel</a>(<span class="keyword">const</span> std::string &amp;lbl,
<a name="l00416"></a>00416                        <span class="keyword">const</span> std::string &amp;prefix = <span class="stringliteral">&quot;  &quot;</span>);
<a name="l00417"></a>00417 
<a name="l00421"></a>00421         <span class="keywordtype">void</span> <a class="code" href="classPacket_1_1PrintReqState.html#a58879d2326e0f929c1fce9fd397f90b5" title="Pop a label off the label stack.">popLabel</a>();
<a name="l00422"></a>00422 
<a name="l00428"></a>00428         <span class="keywordtype">void</span> <a class="code" href="classPacket_1_1PrintReqState.html#a21b0977707537d1b8d4d27fe84329ea7" title="Print all of the pending unprinted labels on the stack.">printLabels</a>();
<a name="l00429"></a>00429 
<a name="l00434"></a>00434         <span class="keywordtype">void</span> <a class="code" href="classPacket_1_1PrintReqState.html#a10745e0063bf7e5be1769ce02ab0a0b1" title="Print a Printable object to os, because it matched the address on a PrintReq.">printObj</a>(<a class="code" href="classPrintable.html" title="Abstract base class for objects which support being printed to a stream for debugging.">Printable</a> *obj);
<a name="l00435"></a>00435     };
<a name="l00436"></a>00436 
<a name="l00445"></a><a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12">00445</a>     <a class="code" href="structPacket_1_1SenderState.html" title="A virtual base opaque structure used to hold state associated with the packet (e.g., an MSHR), specific to a MemObject that sees the packet.">SenderState</a> *<a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12" title="This packet&amp;#39;s sender state.">senderState</a>;
<a name="l00446"></a>00446 
<a name="l00455"></a>00455     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a8036e59fcb2cf3391e8bb9d0ffc37b9e" title="Push a new sender state to the packet and make the current sender state the predecessor of the new on...">pushSenderState</a>(<a class="code" href="structPacket_1_1SenderState.html" title="A virtual base opaque structure used to hold state associated with the packet (e.g., an MSHR), specific to a MemObject that sees the packet.">SenderState</a> *sender_state);
<a name="l00456"></a>00456 
<a name="l00465"></a>00465     <a class="code" href="structPacket_1_1SenderState.html" title="A virtual base opaque structure used to hold state associated with the packet (e.g., an MSHR), specific to a MemObject that sees the packet.">SenderState</a> *<a class="code" href="classPacket.html#af6ab9a18584eefa18e4c2b41f208b8e6" title="Pop the top of the state stack and return a pointer to it.">popSenderState</a>();
<a name="l00466"></a>00466 
<a name="l00474"></a>00474     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00475"></a><a class="code" href="classPacket.html#a022e1e180a0bce3efacc10ffbf9f3fef">00475</a>     T * <a class="code" href="classPacket.html#a022e1e180a0bce3efacc10ffbf9f3fef" title="Go through the sender state stack and return the first instance that is of type T (as determined by a...">findNextSenderState</a>()<span class="keyword"> const</span>
<a name="l00476"></a>00476 <span class="keyword">    </span>{
<a name="l00477"></a>00477         T *<a class="code" href="namespaceArmISA.html#aff45985b1b166a9f9a61198992af819f">t</a> = NULL;
<a name="l00478"></a>00478         <a class="code" href="structPacket_1_1SenderState.html" title="A virtual base opaque structure used to hold state associated with the packet (e.g., an MSHR), specific to a MemObject that sees the packet.">SenderState</a>* sender_state = <a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12" title="This packet&amp;#39;s sender state.">senderState</a>;
<a name="l00479"></a>00479         <span class="keywordflow">while</span> (t == NULL &amp;&amp; sender_state != NULL) {
<a name="l00480"></a>00480             t = <span class="keyword">dynamic_cast&lt;</span>T*<span class="keyword">&gt;</span>(sender_state);
<a name="l00481"></a>00481             sender_state = sender_state-&gt;<a class="code" href="structPacket_1_1SenderState.html#af85d7548568d280276976db91292e75a">predecessor</a>;
<a name="l00482"></a>00482         }
<a name="l00483"></a>00483         <span class="keywordflow">return</span> t;
<a name="l00484"></a>00484     }
<a name="l00485"></a>00485 
<a name="l00488"></a><a class="code" href="classPacket.html#a50fa8e54b8b71b0d6879307680517697">00488</a>     <span class="keyword">const</span> std::string &amp;<a class="code" href="classPacket.html#a50fa8e54b8b71b0d6879307680517697" title="Return the string name of the cmd field (for debugging and tracing).">cmdString</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#ac236d065269027dd231883ec3f854c8a" title="Return the string to a cmd given by idx.">toString</a>(); }
<a name="l00489"></a>00489 
<a name="l00491"></a><a class="code" href="classPacket.html#ac406dd04e4775e07fa53693bd3cec832">00491</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classPacket.html#ac406dd04e4775e07fa53693bd3cec832" title="Return the index of this command.">cmdToIndex</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#ac2d90cce983a326b1abd57e71e29c84e">toInt</a>(); }
<a name="l00492"></a>00492 
<a name="l00493"></a><a class="code" href="classPacket.html#ad7fd7ab0e95007d1c6232b231482c6fa">00493</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#ad7fd7ab0e95007d1c6232b231482c6fa">isRead</a>()<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a5337704d0452c9f691a3da2875af6e0d">isRead</a>(); }
<a name="l00494"></a><a class="code" href="classPacket.html#a2bfee2cdcdfd22a227f0254b7dd56249">00494</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a2bfee2cdcdfd22a227f0254b7dd56249">isWrite</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#af07e060f71982976f3ab1abae4eb0942">isWrite</a>(); }
<a name="l00495"></a><a class="code" href="classPacket.html#a9f4020930bf3748aa698c948a706f361">00495</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a9f4020930bf3748aa698c948a706f361">isUpgrade</a>()<span class="keyword">  const     </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a47564290a66c76396066677803a411f6">isUpgrade</a>(); }
<a name="l00496"></a><a class="code" href="classPacket.html#a6a6cf0da0e9ef2681e027f299727a2e5">00496</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a6a6cf0da0e9ef2681e027f299727a2e5">isRequest</a>()<span class="keyword"> const      </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#afe74e8df04898a124efbce49a8194eb7">isRequest</a>(); }
<a name="l00497"></a><a class="code" href="classPacket.html#ae55f4c38bf6367f308c935cb833027ee">00497</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#ae55f4c38bf6367f308c935cb833027ee">isResponse</a>()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a16056dcc6b1fb668bcb406f53e63ebfc">isResponse</a>(); }
<a name="l00498"></a><a class="code" href="classPacket.html#a8253b8071875b38bfc412c9cd53efc10">00498</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a8253b8071875b38bfc412c9cd53efc10">needsExclusive</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#afa4683b1fdc52c130e937e44cf099e99">needsExclusive</a>(); }
<a name="l00499"></a><a class="code" href="classPacket.html#a3eafb3dde5f57c16f684862aff8da0b3">00499</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a3eafb3dde5f57c16f684862aff8da0b3">needsResponse</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#ad156e33e6207b50f013c61b9ae641212">needsResponse</a>(); }
<a name="l00500"></a><a class="code" href="classPacket.html#a6a9c3579738a9ded24a52673f73910ef">00500</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a6a9c3579738a9ded24a52673f73910ef">isInvalidate</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#ae11d1fce816f014ea69c65053df612e5">isInvalidate</a>(); }
<a name="l00501"></a><a class="code" href="classPacket.html#a9f23402c9a7438f2edab83d028f58d3b">00501</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a9f23402c9a7438f2edab83d028f58d3b">hasData</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#ae23393f85f5f81a9ae9a89597241681a">hasData</a>(); }
<a name="l00502"></a><a class="code" href="classPacket.html#a147918582215ce725c7d46b47cb6cd09">00502</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a147918582215ce725c7d46b47cb6cd09">isReadWrite</a>()<span class="keyword"> const    </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a4dfdaadfc76d8fe2fff9a37562f351be">isReadWrite</a>(); }
<a name="l00503"></a><a class="code" href="classPacket.html#a71d4b167df835bbd9ed156961f37634f">00503</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a71d4b167df835bbd9ed156961f37634f">isLLSC</a>()<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a79593b75b0102dc00b9a1ebfee1f55dc">isLLSC</a>(); }
<a name="l00504"></a><a class="code" href="classPacket.html#a1ea5391da77928d157f79bebe80f6a97">00504</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a1ea5391da77928d157f79bebe80f6a97">isError</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a4274c757a11f698b571269c0beb65e3b">isError</a>(); }
<a name="l00505"></a><a class="code" href="classPacket.html#a45a0b7819ab7c7af4f7f7e6f113c20de">00505</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a45a0b7819ab7c7af4f7f7e6f113c20de">isPrint</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#af45ce2fb0526176116038dced1f121c3">isPrint</a>(); }
<a name="l00506"></a><a class="code" href="classPacket.html#ae9f80797ddd83bf9df0f54a8aadd747f">00506</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#ae9f80797ddd83bf9df0f54a8aadd747f">isFlush</a>()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a872b12ba0cef4be56fd489e8dfa7f337">isFlush</a>(); }
<a name="l00507"></a>00507 
<a name="l00508"></a>00508     <span class="comment">// Snoop flags</span>
<a name="l00509"></a><a class="code" href="classPacket.html#a0e2373bc69c622ed6438bdb258830a9b">00509</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a0e2373bc69c622ed6438bdb258830a9b">assertMemInhibit</a>()     { <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#ac9ac9a3b7fbc9c97d58beaf876cc90fd">MEM_INHIBIT</a>); }
<a name="l00510"></a><a class="code" href="classPacket.html#a27ed6fc8c4baa6d6aaeaee8aa743fca5">00510</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a27ed6fc8c4baa6d6aaeaee8aa743fca5">memInhibitAsserted</a>()   { <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#ac9ac9a3b7fbc9c97d58beaf876cc90fd">MEM_INHIBIT</a>); }
<a name="l00511"></a><a class="code" href="classPacket.html#ab83b5a424629eab5cd7d79d4fa6752a8">00511</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#ab83b5a424629eab5cd7d79d4fa6752a8">assertShared</a>()         { <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a048047a1b967a7c605a232903b1c33cf">SHARED</a>); }
<a name="l00512"></a><a class="code" href="classPacket.html#ac51210cc77903b8afab868dfe3f190dd">00512</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#ac51210cc77903b8afab868dfe3f190dd">sharedAsserted</a>()       { <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a048047a1b967a7c605a232903b1c33cf">SHARED</a>); }
<a name="l00513"></a>00513 
<a name="l00514"></a>00514     <span class="comment">// Special control flags</span>
<a name="l00515"></a><a class="code" href="classPacket.html#a72bab6f4a0b9552b6555e57d0cf86b99">00515</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a72bab6f4a0b9552b6555e57d0cf86b99">setExpressSnoop</a>()      { <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a9d2c8f25df92b7786c361bec2cede353" title="Special timing-mode atomic snoop for multi-level coherence.">EXPRESS_SNOOP</a>); }
<a name="l00516"></a><a class="code" href="classPacket.html#a89c0068b99815fa32dd9f6570779a28f">00516</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a89c0068b99815fa32dd9f6570779a28f">isExpressSnoop</a>()       { <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a9d2c8f25df92b7786c361bec2cede353" title="Special timing-mode atomic snoop for multi-level coherence.">EXPRESS_SNOOP</a>); }
<a name="l00517"></a><a class="code" href="classPacket.html#a75acf16f4fb76259f23df6cbea6b7a24">00517</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a75acf16f4fb76259f23df6cbea6b7a24">setSupplyExclusive</a>()   { <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#acbed7ccdb0ccf11d64e44e0d736ac1ca" title="Does supplier have exclusive copy? Useful for multi-level coherence.">SUPPLY_EXCLUSIVE</a>); }
<a name="l00518"></a><a class="code" href="classPacket.html#abaa4424590f4a98bad1a06364c1732be">00518</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#abaa4424590f4a98bad1a06364c1732be">clearSupplyExclusive</a>() { <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a17c807a3868a994d893fb057352dcd89">clear</a>(<a class="code" href="classPacket.html#acbed7ccdb0ccf11d64e44e0d736ac1ca" title="Does supplier have exclusive copy? Useful for multi-level coherence.">SUPPLY_EXCLUSIVE</a>); }
<a name="l00519"></a><a class="code" href="classPacket.html#a1f9bb6cf16c23e84f02358ab3960a48f">00519</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a1f9bb6cf16c23e84f02358ab3960a48f">isSupplyExclusive</a>()    { <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#acbed7ccdb0ccf11d64e44e0d736ac1ca" title="Does supplier have exclusive copy? Useful for multi-level coherence.">SUPPLY_EXCLUSIVE</a>); }
<a name="l00520"></a><a class="code" href="classPacket.html#aafe71cc940de59979daccabb38434546">00520</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#aafe71cc940de59979daccabb38434546">setSuppressFuncError</a>() { <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a87d58007b26de0eadee1edc5d87e6b63" title="suppress the error if this packet encounters a functional access failure.">SUPPRESS_FUNC_ERROR</a>); }
<a name="l00521"></a><a class="code" href="classPacket.html#a8b4907e1f2175499623b624801931b34">00521</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a8b4907e1f2175499623b624801931b34">suppressFuncError</a>()    { <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a87d58007b26de0eadee1edc5d87e6b63" title="suppress the error if this packet encounters a functional access failure.">SUPPRESS_FUNC_ERROR</a>); }
<a name="l00522"></a>00522 
<a name="l00523"></a>00523     <span class="comment">// Network error conditions... encapsulate them as methods since</span>
<a name="l00524"></a>00524     <span class="comment">// their encoding keeps changing (from result field to command</span>
<a name="l00525"></a>00525     <span class="comment">// field, etc.)</span>
<a name="l00526"></a>00526     <span class="keywordtype">void</span>
<a name="l00527"></a><a class="code" href="classPacket.html#a0099781d30971c8dc263332474851a7c">00527</a>     <a class="code" href="classPacket.html#a0099781d30971c8dc263332474851a7c">setBadAddress</a>()
<a name="l00528"></a>00528     {
<a name="l00529"></a>00529         assert(<a class="code" href="classPacket.html#ae55f4c38bf6367f308c935cb833027ee">isResponse</a>());
<a name="l00530"></a>00530         <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a> = MemCmd::BadAddressError;
<a name="l00531"></a>00531     }
<a name="l00532"></a>00532 
<a name="l00533"></a><a class="code" href="classPacket.html#a86a49bec152b4b47663e9e30f7a22110">00533</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#a86a49bec152b4b47663e9e30f7a22110">hadBadAddress</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a> == MemCmd::BadAddressError; }
<a name="l00534"></a><a class="code" href="classPacket.html#a8aa8840024624ac34bf619b87de8976e">00534</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a8aa8840024624ac34bf619b87de8976e">copyError</a>(<a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system (e...">Packet</a> *pkt) { assert(pkt-&gt;<a class="code" href="classPacket.html#a1ea5391da77928d157f79bebe80f6a97">isError</a>()); <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a> = pkt-&gt;<a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>; }
<a name="l00535"></a>00535 
<a name="l00536"></a><a class="code" href="classPacket.html#af572219555ef8b07ee3de95c9f09d962">00536</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#af572219555ef8b07ee3de95c9f09d962">isSrcValid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ab407fe42e30b6ffba94709dc44555462" title="Source port identifier set on a request packet to enable appropriate routing of the responses...">src</a> != <a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>; }
<a name="l00538"></a><a class="code" href="classPacket.html#af976cca039431e8f21dd75c86cc71c3d">00538</a>     <a class="code" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e" title="Port index/ID type, and a symbolic name for an invalid port id.">PortID</a> <a class="code" href="classPacket.html#af976cca039431e8f21dd75c86cc71c3d" title="Accessor function to get the source index of the packet.">getSrc</a>()<span class="keyword"> const </span>{ assert(<a class="code" href="classPacket.html#af572219555ef8b07ee3de95c9f09d962">isSrcValid</a>()); <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ab407fe42e30b6ffba94709dc44555462" title="Source port identifier set on a request packet to enable appropriate routing of the responses...">src</a>; }
<a name="l00540"></a><a class="code" href="classPacket.html#aa4e67b4a7f3918876ea68f5f19563dc0">00540</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#aa4e67b4a7f3918876ea68f5f19563dc0" title="Accessor function to set the source index of the packet.">setSrc</a>(<a class="code" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e" title="Port index/ID type, and a symbolic name for an invalid port id.">PortID</a> _src) { <a class="code" href="classPacket.html#ab407fe42e30b6ffba94709dc44555462" title="Source port identifier set on a request packet to enable appropriate routing of the responses...">src</a> = _src; }
<a name="l00542"></a><a class="code" href="classPacket.html#a511d0cf17f4f1c8b6f6908ffb503fadf">00542</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a511d0cf17f4f1c8b6f6908ffb503fadf" title="Reset source field, e.g. to retransmit packet on different bus.">clearSrc</a>() { <a class="code" href="classPacket.html#ab407fe42e30b6ffba94709dc44555462" title="Source port identifier set on a request packet to enable appropriate routing of the responses...">src</a> = <a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>; }
<a name="l00543"></a>00543 
<a name="l00544"></a><a class="code" href="classPacket.html#ab9302ea3f4dba5b35b2814c5cd085d15">00544</a>     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#ab9302ea3f4dba5b35b2814c5cd085d15">isDestValid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a0174305dff3306a72b0b9f2960d7c855" title="Destination port identifier that is present on all response packets that passed through a multiplexin...">dest</a> != <a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>; }
<a name="l00546"></a><a class="code" href="classPacket.html#aef771d7568ac08044759bb78f4908657">00546</a>     <a class="code" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e" title="Port index/ID type, and a symbolic name for an invalid port id.">PortID</a> <a class="code" href="classPacket.html#aef771d7568ac08044759bb78f4908657" title="Accessor function for the destination index of the packet.">getDest</a>()<span class="keyword"> const </span>{ assert(<a class="code" href="classPacket.html#ab9302ea3f4dba5b35b2814c5cd085d15">isDestValid</a>()); <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a0174305dff3306a72b0b9f2960d7c855" title="Destination port identifier that is present on all response packets that passed through a multiplexin...">dest</a>; }
<a name="l00548"></a><a class="code" href="classPacket.html#a60dcecced0fea8583c3c09687a6194b3">00548</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a60dcecced0fea8583c3c09687a6194b3" title="Accessor function to set the destination index of the packet.">setDest</a>(<a class="code" href="base_2types_8hh.html#acef4d7d41cb21fdc252e20c04cd7bb8e" title="Port index/ID type, and a symbolic name for an invalid port id.">PortID</a> _dest) { <a class="code" href="classPacket.html#a0174305dff3306a72b0b9f2960d7c855" title="Destination port identifier that is present on all response packets that passed through a multiplexin...">dest</a> = _dest; }
<a name="l00550"></a><a class="code" href="classPacket.html#a0f2ccf7f940961dbaf7ae0a55f992e93">00550</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a0f2ccf7f940961dbaf7ae0a55f992e93" title="Reset destination field, e.g. to turn a response into a request again.">clearDest</a>() { <a class="code" href="classPacket.html#a0174305dff3306a72b0b9f2960d7c855" title="Destination port identifier that is present on all response packets that passed through a multiplexin...">dest</a> = <a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>; }
<a name="l00551"></a>00551 
<a name="l00552"></a><a class="code" href="classPacket.html#a1c04785186ba5aa70a40cac9b2bfc86e">00552</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classPacket.html#a1c04785186ba5aa70a40cac9b2bfc86e">getAddr</a>()<span class="keyword"> const </span>{ assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a861583afb158741b1a352bb1d55daad5" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>)); <span class="keywordflow">return</span> <a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e" title="The address of the request.">addr</a>; }
<a name="l00560"></a><a class="code" href="classPacket.html#acc778666940292e86cad8b4e0aa23835">00560</a>     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#acc778666940292e86cad8b4e0aa23835" title="Update the address of this packet mid-transaction.">setAddr</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> _addr) { assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a861583afb158741b1a352bb1d55daad5" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>)); <a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e" title="The address of the request.">addr</a> = _addr; }
<a name="l00561"></a>00561 
<a name="l00562"></a><a class="code" href="classPacket.html#ad7c96bd8cd06acddebb3a373b37e6e59">00562</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classPacket.html#ad7c96bd8cd06acddebb3a373b37e6e59">getSize</a>()<span class="keyword"> const  </span>{ assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a52c68e7ebb52bc28bc03c101c2e446f3">VALID_SIZE</a>)); <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a>; }
<a name="l00563"></a><a class="code" href="classPacket.html#af6a09e169389b9b5e49aaa314213289b">00563</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classPacket.html#af6a09e169389b9b5e49aaa314213289b">getOffset</a>(<span class="keywordtype">int</span> blkSize)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#a1c04785186ba5aa70a40cac9b2bfc86e">getAddr</a>() &amp; (Addr)(blkSize - 1); }
<a name="l00564"></a>00564 
<a name="l00569"></a>00569     <span class="keywordtype">void</span>
<a name="l00570"></a><a class="code" href="classPacket.html#ad85805a56a4e8ebd757bbab42e1c8d5d">00570</a>     <a class="code" href="classPacket.html#ad85805a56a4e8ebd757bbab42e1c8d5d" title="It has been determined that the SC packet should successfully update memory.">convertScToWrite</a>()
<a name="l00571"></a>00571     {
<a name="l00572"></a>00572         assert(<a class="code" href="classPacket.html#a71d4b167df835bbd9ed156961f37634f">isLLSC</a>());
<a name="l00573"></a>00573         assert(<a class="code" href="classPacket.html#a2bfee2cdcdfd22a227f0254b7dd56249">isWrite</a>());
<a name="l00574"></a>00574         <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a> = MemCmd::WriteReq;
<a name="l00575"></a>00575     }
<a name="l00576"></a>00576 
<a name="l00581"></a>00581     <span class="keywordtype">void</span>
<a name="l00582"></a><a class="code" href="classPacket.html#a8600439796528ac5e97b8617a5b090f1">00582</a>     <a class="code" href="classPacket.html#a8600439796528ac5e97b8617a5b090f1" title="When ruby is in use, Ruby will monitor the cache line and thus M5 phys memory should treat LL ops as ...">convertLlToRead</a>()
<a name="l00583"></a>00583     {
<a name="l00584"></a>00584         assert(<a class="code" href="classPacket.html#a71d4b167df835bbd9ed156961f37634f">isLLSC</a>());
<a name="l00585"></a>00585         assert(<a class="code" href="classPacket.html#ad7fd7ab0e95007d1c6232b231482c6fa">isRead</a>());
<a name="l00586"></a>00586         <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a> = MemCmd::ReadReq;
<a name="l00587"></a>00587     }
<a name="l00588"></a>00588 
<a name="l00594"></a><a class="code" href="classPacket.html#a73e654402c149c5cddddff3954c94c85">00594</a>     <a class="code" href="classPacket.html#a73e654402c149c5cddddff3954c94c85" title="Constructor.">Packet</a>(<a class="code" href="classRequest.html">Request</a> *_req, <a class="code" href="classMemCmd.html">MemCmd</a> _cmd)
<a name="l00595"></a>00595         :  <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>(_cmd), <a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f" title="A pointer to the original request.">req</a>(_req), <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a>(NULL),
<a name="l00596"></a>00596            <a class="code" href="classPacket.html#ab407fe42e30b6ffba94709dc44555462" title="Source port identifier set on a request packet to enable appropriate routing of the responses...">src</a>(<a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>), <a class="code" href="classPacket.html#a0174305dff3306a72b0b9f2960d7c855" title="Destination port identifier that is present on all response packets that passed through a multiplexin...">dest</a>(<a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>),
<a name="l00597"></a>00597            <a class="code" href="classPacket.html#a1915df9b0c2239ca6ddd7714046ec9e5" title="These values specify the range of bytes found that satisfy a functional read.">bytesValidStart</a>(0), <a class="code" href="classPacket.html#a28f0ca0dd9ed69175dc2683dd7695c62">bytesValidEnd</a>(0),
<a name="l00598"></a>00598            <a class="code" href="classPacket.html#a72da3f227887b6d8d316421c92a27108" title="The extra delay from seeing the packet until the first word is transmitted by the bus that provided i...">busFirstWordDelay</a>(0), <a class="code" href="classPacket.html#a1630a79f0fc7ddf0ee957f23ec25dfde" title="The extra delay from seeing the packet until the last word is transmitted by the bus that provided it...">busLastWordDelay</a>(0),
<a name="l00599"></a>00599            <a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12" title="This packet&amp;#39;s sender state.">senderState</a>(NULL)
<a name="l00600"></a>00600     {
<a name="l00601"></a>00601         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a13822bc251c8624d73d6d0ce2b528743" title="Accessor for paddr.">hasPaddr</a>()) {
<a name="l00602"></a>00602             <a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e" title="The address of the request.">addr</a> = <a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#acba97b6757af00dbc0c5bcfef4f7d249">getPaddr</a>();
<a name="l00603"></a>00603             <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a861583afb158741b1a352bb1d55daad5" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>);
<a name="l00604"></a>00604         }
<a name="l00605"></a>00605         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a27ab61b1769654d4cf1d014d954d0734" title="Accessor for size.">hasSize</a>()) {
<a name="l00606"></a>00606             <a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a> = <a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#ab5de9cdbef5fd6e367104e77fb930710">getSize</a>();
<a name="l00607"></a>00607             <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a52c68e7ebb52bc28bc03c101c2e446f3">VALID_SIZE</a>);
<a name="l00608"></a>00608         }
<a name="l00609"></a>00609     }
<a name="l00610"></a>00610 
<a name="l00616"></a><a class="code" href="classPacket.html#a872344f9c5d40bc82fd937bf4290bead">00616</a>     <a class="code" href="classPacket.html#a73e654402c149c5cddddff3954c94c85" title="Constructor.">Packet</a>(<a class="code" href="classRequest.html">Request</a> *_req, <a class="code" href="classMemCmd.html">MemCmd</a> _cmd, <span class="keywordtype">int</span> _blkSize)
<a name="l00617"></a>00617         :  <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>(_cmd), <a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f" title="A pointer to the original request.">req</a>(_req), <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a>(NULL),
<a name="l00618"></a>00618            <a class="code" href="classPacket.html#ab407fe42e30b6ffba94709dc44555462" title="Source port identifier set on a request packet to enable appropriate routing of the responses...">src</a>(<a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>), <a class="code" href="classPacket.html#a0174305dff3306a72b0b9f2960d7c855" title="Destination port identifier that is present on all response packets that passed through a multiplexin...">dest</a>(<a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>),
<a name="l00619"></a>00619            <a class="code" href="classPacket.html#a1915df9b0c2239ca6ddd7714046ec9e5" title="These values specify the range of bytes found that satisfy a functional read.">bytesValidStart</a>(0), <a class="code" href="classPacket.html#a28f0ca0dd9ed69175dc2683dd7695c62">bytesValidEnd</a>(0),
<a name="l00620"></a>00620            <a class="code" href="classPacket.html#a72da3f227887b6d8d316421c92a27108" title="The extra delay from seeing the packet until the first word is transmitted by the bus that provided i...">busFirstWordDelay</a>(0), <a class="code" href="classPacket.html#a1630a79f0fc7ddf0ee957f23ec25dfde" title="The extra delay from seeing the packet until the last word is transmitted by the bus that provided it...">busLastWordDelay</a>(0),
<a name="l00621"></a>00621            <a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12" title="This packet&amp;#39;s sender state.">senderState</a>(NULL)
<a name="l00622"></a>00622     {
<a name="l00623"></a>00623         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a13822bc251c8624d73d6d0ce2b528743" title="Accessor for paddr.">hasPaddr</a>()) {
<a name="l00624"></a>00624             <a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e" title="The address of the request.">addr</a> = <a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#acba97b6757af00dbc0c5bcfef4f7d249">getPaddr</a>() &amp; ~(_blkSize - 1);
<a name="l00625"></a>00625             <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a861583afb158741b1a352bb1d55daad5" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>);
<a name="l00626"></a>00626         }
<a name="l00627"></a>00627         <a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a> = _blkSize;
<a name="l00628"></a>00628         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a52c68e7ebb52bc28bc03c101c2e446f3">VALID_SIZE</a>);
<a name="l00629"></a>00629     }
<a name="l00630"></a>00630 
<a name="l00638"></a><a class="code" href="classPacket.html#a7ec6c21a72abeb0cf958572f77e85591">00638</a>     <a class="code" href="classPacket.html#a73e654402c149c5cddddff3954c94c85" title="Constructor.">Packet</a>(<a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system (e...">Packet</a> *pkt, <span class="keywordtype">bool</span> clearFlags = <span class="keyword">false</span>)
<a name="l00639"></a>00639         :  <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>(pkt-&gt;<a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>), <a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f" title="A pointer to the original request.">req</a>(pkt-&gt;<a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f" title="A pointer to the original request.">req</a>),
<a name="l00640"></a>00640            <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a>(pkt-&gt;<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.isSet(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is destroyed...">STATIC_DATA</a>) ? pkt-&gt;<a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a> : NULL),
<a name="l00641"></a>00641            <a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e" title="The address of the request.">addr</a>(pkt-&gt;<a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e" title="The address of the request.">addr</a>), <a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a>(pkt-&gt;<a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a>), <a class="code" href="classPacket.html#ab407fe42e30b6ffba94709dc44555462" title="Source port identifier set on a request packet to enable appropriate routing of the responses...">src</a>(pkt-&gt;<a class="code" href="classPacket.html#ab407fe42e30b6ffba94709dc44555462" title="Source port identifier set on a request packet to enable appropriate routing of the responses...">src</a>), <a class="code" href="classPacket.html#a0174305dff3306a72b0b9f2960d7c855" title="Destination port identifier that is present on all response packets that passed through a multiplexin...">dest</a>(pkt-&gt;<a class="code" href="classPacket.html#a0174305dff3306a72b0b9f2960d7c855" title="Destination port identifier that is present on all response packets that passed through a multiplexin...">dest</a>),
<a name="l00642"></a>00642            <a class="code" href="classPacket.html#a1915df9b0c2239ca6ddd7714046ec9e5" title="These values specify the range of bytes found that satisfy a functional read.">bytesValidStart</a>(pkt-&gt;<a class="code" href="classPacket.html#a1915df9b0c2239ca6ddd7714046ec9e5" title="These values specify the range of bytes found that satisfy a functional read.">bytesValidStart</a>),
<a name="l00643"></a>00643            <a class="code" href="classPacket.html#a28f0ca0dd9ed69175dc2683dd7695c62">bytesValidEnd</a>(pkt-&gt;<a class="code" href="classPacket.html#a28f0ca0dd9ed69175dc2683dd7695c62">bytesValidEnd</a>),
<a name="l00644"></a>00644            <a class="code" href="classPacket.html#a72da3f227887b6d8d316421c92a27108" title="The extra delay from seeing the packet until the first word is transmitted by the bus that provided i...">busFirstWordDelay</a>(pkt-&gt;<a class="code" href="classPacket.html#a72da3f227887b6d8d316421c92a27108" title="The extra delay from seeing the packet until the first word is transmitted by the bus that provided i...">busFirstWordDelay</a>),
<a name="l00645"></a>00645            <a class="code" href="classPacket.html#a1630a79f0fc7ddf0ee957f23ec25dfde" title="The extra delay from seeing the packet until the last word is transmitted by the bus that provided it...">busLastWordDelay</a>(pkt-&gt;<a class="code" href="classPacket.html#a1630a79f0fc7ddf0ee957f23ec25dfde" title="The extra delay from seeing the packet until the last word is transmitted by the bus that provided it...">busLastWordDelay</a>),
<a name="l00646"></a>00646            <a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12" title="This packet&amp;#39;s sender state.">senderState</a>(pkt-&gt;<a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12" title="This packet&amp;#39;s sender state.">senderState</a>)
<a name="l00647"></a>00647     {
<a name="l00648"></a>00648         <span class="keywordflow">if</span> (!clearFlags)
<a name="l00649"></a>00649             <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(pkt-&gt;<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a> &amp; <a class="code" href="classPacket.html#aaa7c20adbe1075fc6c5fe5f543f9905f">COPY_FLAGS</a>);
<a name="l00650"></a>00650 
<a name="l00651"></a>00651         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(pkt-&gt;<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a> &amp; (<a class="code" href="classPacket.html#a861583afb158741b1a352bb1d55daad5" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>|<a class="code" href="classPacket.html#a52c68e7ebb52bc28bc03c101c2e446f3">VALID_SIZE</a>));
<a name="l00652"></a>00652         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(pkt-&gt;<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a> &amp; <a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is destroyed...">STATIC_DATA</a>);
<a name="l00653"></a>00653 
<a name="l00654"></a>00654     }
<a name="l00655"></a>00655 
<a name="l00659"></a><a class="code" href="classPacket.html#a48938391fb7e07460bb0e01198ae5ede">00659</a>     <a class="code" href="classPacket.html#a48938391fb7e07460bb0e01198ae5ede" title="clean up packet variables">~Packet</a>()
<a name="l00660"></a>00660     {
<a name="l00661"></a>00661         <span class="comment">// If this is a request packet for which there&#39;s no response,</span>
<a name="l00662"></a>00662         <span class="comment">// delete the request object here, since the requester will</span>
<a name="l00663"></a>00663         <span class="comment">// never get the chance.</span>
<a name="l00664"></a>00664         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f" title="A pointer to the original request.">req</a> &amp;&amp; <a class="code" href="classPacket.html#a6a6cf0da0e9ef2681e027f299727a2e5">isRequest</a>() &amp;&amp; !<a class="code" href="classPacket.html#a3eafb3dde5f57c16f684862aff8da0b3">needsResponse</a>())
<a name="l00665"></a>00665             <span class="keyword">delete</span> <a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f" title="A pointer to the original request.">req</a>;
<a name="l00666"></a>00666         <a class="code" href="classPacket.html#a3b34ddc8bf368c6fa351f25d9b9afe5d" title="delete the data pointed to in the data pointer.">deleteData</a>();
<a name="l00667"></a>00667     }
<a name="l00668"></a>00668 
<a name="l00676"></a>00676     <span class="keywordtype">void</span>
<a name="l00677"></a><a class="code" href="classPacket.html#ae2dfe9f94d42e95025be9f483e01afa6">00677</a>     <a class="code" href="classPacket.html#ae2dfe9f94d42e95025be9f483e01afa6" title="Reinitialize packet address and size from the associated Request object, and reset other fields that ...">reinitFromRequest</a>()
<a name="l00678"></a>00678     {
<a name="l00679"></a>00679         assert(<a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#a13822bc251c8624d73d6d0ce2b528743" title="Accessor for paddr.">hasPaddr</a>());
<a name="l00680"></a>00680         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a> = 0;
<a name="l00681"></a>00681         <a class="code" href="classPacket.html#ae60308db1a818c0ed3c923fae7c6989e" title="The address of the request.">addr</a> = <a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#acba97b6757af00dbc0c5bcfef4f7d249">getPaddr</a>();
<a name="l00682"></a>00682         <a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a> = <a class="code" href="classPacket.html#ae348c208f0ffb3cf22f1f65a19c13c4f" title="A pointer to the original request.">req</a>-&gt;<a class="code" href="classRequest.html#ab5de9cdbef5fd6e367104e77fb930710">getSize</a>();
<a name="l00683"></a>00683 
<a name="l00684"></a>00684         <a class="code" href="classPacket.html#ab407fe42e30b6ffba94709dc44555462" title="Source port identifier set on a request packet to enable appropriate routing of the responses...">src</a> = <a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>;
<a name="l00685"></a>00685         <a class="code" href="classPacket.html#a0174305dff3306a72b0b9f2960d7c855" title="Destination port identifier that is present on all response packets that passed through a multiplexin...">dest</a> = <a class="code" href="base_2types_8hh.html#a65bf40f138cf863f0c5e2d8ca1144126">InvalidPortID</a>;
<a name="l00686"></a>00686         <a class="code" href="classPacket.html#a1915df9b0c2239ca6ddd7714046ec9e5" title="These values specify the range of bytes found that satisfy a functional read.">bytesValidStart</a> = 0;
<a name="l00687"></a>00687         <a class="code" href="classPacket.html#a28f0ca0dd9ed69175dc2683dd7695c62">bytesValidEnd</a> = 0;
<a name="l00688"></a>00688         <a class="code" href="classPacket.html#a72da3f227887b6d8d316421c92a27108" title="The extra delay from seeing the packet until the first word is transmitted by the bus that provided i...">busFirstWordDelay</a> = 0;
<a name="l00689"></a>00689         <a class="code" href="classPacket.html#a1630a79f0fc7ddf0ee957f23ec25dfde" title="The extra delay from seeing the packet until the last word is transmitted by the bus that provided it...">busLastWordDelay</a> = 0;
<a name="l00690"></a>00690 
<a name="l00691"></a>00691         flags.set(<a class="code" href="classPacket.html#a861583afb158741b1a352bb1d55daad5" title="Are the &amp;#39;addr&amp;#39; and &amp;#39;size&amp;#39; fields valid?">VALID_ADDR</a>|<a class="code" href="classPacket.html#a52c68e7ebb52bc28bc03c101c2e446f3">VALID_SIZE</a>);
<a name="l00692"></a>00692         <a class="code" href="classPacket.html#a3b34ddc8bf368c6fa351f25d9b9afe5d" title="delete the data pointed to in the data pointer.">deleteData</a>();
<a name="l00693"></a>00693     }
<a name="l00694"></a>00694 
<a name="l00702"></a>00702     <span class="keywordtype">void</span>
<a name="l00703"></a><a class="code" href="classPacket.html#a51e1ba3f32ebb3c8be10cf9b58ca54e0">00703</a>     <a class="code" href="classPacket.html#a51e1ba3f32ebb3c8be10cf9b58ca54e0" title="Take a request packet and modify it in place to be suitable for returning as a response to that reque...">makeResponse</a>()
<a name="l00704"></a>00704     {
<a name="l00705"></a>00705         assert(<a class="code" href="classPacket.html#a3eafb3dde5f57c16f684862aff8da0b3">needsResponse</a>());
<a name="l00706"></a>00706         assert(<a class="code" href="classPacket.html#a6a6cf0da0e9ef2681e027f299727a2e5">isRequest</a>());
<a name="l00707"></a>00707         <a class="code" href="classPacket.html#a0f6da152bf08b0503427e2e1a8c18253" title="The original value of the command field.">origCmd</a> = <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>;
<a name="l00708"></a>00708         <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a> = <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a>.<a class="code" href="classMemCmd.html#a235cce2fc289b81a7c694da46b2250e1">responseCommand</a>();
<a name="l00709"></a>00709 
<a name="l00710"></a>00710         <span class="comment">// responses are never express, even if the snoop that</span>
<a name="l00711"></a>00711         <span class="comment">// triggered them was</span>
<a name="l00712"></a>00712         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a17c807a3868a994d893fb057352dcd89">clear</a>(<a class="code" href="classPacket.html#a9d2c8f25df92b7786c361bec2cede353" title="Special timing-mode atomic snoop for multi-level coherence.">EXPRESS_SNOOP</a>);
<a name="l00713"></a>00713 
<a name="l00714"></a>00714         <a class="code" href="classPacket.html#a0174305dff3306a72b0b9f2960d7c855" title="Destination port identifier that is present on all response packets that passed through a multiplexin...">dest</a> = <a class="code" href="classPacket.html#ab407fe42e30b6ffba94709dc44555462" title="Source port identifier set on a request packet to enable appropriate routing of the responses...">src</a>;
<a name="l00715"></a>00715         <a class="code" href="classPacket.html#a511d0cf17f4f1c8b6f6908ffb503fadf" title="Reset source field, e.g. to retransmit packet on different bus.">clearSrc</a>();
<a name="l00716"></a>00716     }
<a name="l00717"></a>00717 
<a name="l00718"></a>00718     <span class="keywordtype">void</span>
<a name="l00719"></a><a class="code" href="classPacket.html#a79f71e6885712d4951e70eaba2e364cb">00719</a>     <a class="code" href="classPacket.html#a79f71e6885712d4951e70eaba2e364cb">makeAtomicResponse</a>()
<a name="l00720"></a>00720     {
<a name="l00721"></a>00721         <a class="code" href="classPacket.html#a51e1ba3f32ebb3c8be10cf9b58ca54e0" title="Take a request packet and modify it in place to be suitable for returning as a response to that reque...">makeResponse</a>();
<a name="l00722"></a>00722     }
<a name="l00723"></a>00723 
<a name="l00724"></a>00724     <span class="keywordtype">void</span>
<a name="l00725"></a><a class="code" href="classPacket.html#ad570f51a677a215d45a1d04b00cbb8f6">00725</a>     <a class="code" href="classPacket.html#ad570f51a677a215d45a1d04b00cbb8f6">makeTimingResponse</a>()
<a name="l00726"></a>00726     {
<a name="l00727"></a>00727         <a class="code" href="classPacket.html#a51e1ba3f32ebb3c8be10cf9b58ca54e0" title="Take a request packet and modify it in place to be suitable for returning as a response to that reque...">makeResponse</a>();
<a name="l00728"></a>00728     }
<a name="l00729"></a>00729 
<a name="l00730"></a>00730     <span class="keywordtype">void</span>
<a name="l00731"></a><a class="code" href="classPacket.html#a4d2a4a47715e7fa38b83a42ce217e672">00731</a>     <a class="code" href="classPacket.html#a4d2a4a47715e7fa38b83a42ce217e672">setFunctionalResponseStatus</a>(<span class="keywordtype">bool</span> success)
<a name="l00732"></a>00732     {
<a name="l00733"></a>00733         <span class="keywordflow">if</span> (!success) {
<a name="l00734"></a>00734             <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#a2bfee2cdcdfd22a227f0254b7dd56249">isWrite</a>()) {
<a name="l00735"></a>00735                 <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a> = MemCmd::FunctionalWriteError;
<a name="l00736"></a>00736             } <span class="keywordflow">else</span> {
<a name="l00737"></a>00737                 <a class="code" href="classPacket.html#ade61bff6cd470a7ce6376f3c85bdd3ae" title="The command field of the packet.">cmd</a> = MemCmd::FunctionalReadError;
<a name="l00738"></a>00738             }
<a name="l00739"></a>00739         }
<a name="l00740"></a>00740     }
<a name="l00741"></a>00741 
<a name="l00742"></a>00742     <span class="keywordtype">void</span>
<a name="l00743"></a><a class="code" href="classPacket.html#a754476a15d1fff71aa3c0884416368aa">00743</a>     <a class="code" href="classPacket.html#a754476a15d1fff71aa3c0884416368aa">setSize</a>(<span class="keywordtype">unsigned</span> <a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a>)
<a name="l00744"></a>00744     {
<a name="l00745"></a>00745         assert(!<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a52c68e7ebb52bc28bc03c101c2e446f3">VALID_SIZE</a>));
<a name="l00746"></a>00746 
<a name="l00747"></a>00747         this-&gt;size = size;
<a name="l00748"></a>00748         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a52c68e7ebb52bc28bc03c101c2e446f3">VALID_SIZE</a>);
<a name="l00749"></a>00749     }
<a name="l00750"></a>00750 
<a name="l00751"></a>00751 
<a name="l00756"></a>00756     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00757"></a>00757     <span class="keywordtype">void</span>
<a name="l00758"></a><a class="code" href="classPacket.html#aa81ea5325a7aa403fa94f2d84f6f4236">00758</a>     <a class="code" href="classPacket.html#aa81ea5325a7aa403fa94f2d84f6f4236" title="Set the data pointer to the following value that should not be freed.">dataStatic</a>(T *<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a>)
<a name="l00759"></a>00759     {
<a name="l00760"></a>00760         assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a58103aa3d7908ef129d17dc1c4329b4a">noneSet</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is destroyed...">STATIC_DATA</a>|<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed.">DYNAMIC_DATA</a>|<a class="code" href="classPacket.html#a7908599645927333c7fccd893fe80609" title="the data pointer points to an array (thus delete []) needs to be called on it rather than simply dele...">ARRAY_DATA</a>));
<a name="l00761"></a>00761         <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a> = (PacketDataPtr)p;
<a name="l00762"></a>00762         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is destroyed...">STATIC_DATA</a>);
<a name="l00763"></a>00763     }
<a name="l00764"></a>00764 
<a name="l00769"></a>00769     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00770"></a>00770     <span class="keywordtype">void</span>
<a name="l00771"></a><a class="code" href="classPacket.html#a33a368edc6077d575e639998604525e2">00771</a>     <a class="code" href="classPacket.html#a33a368edc6077d575e639998604525e2" title="Set the data pointer to a value that should have delete [] called on it.">dataDynamicArray</a>(T *<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a>)
<a name="l00772"></a>00772     {
<a name="l00773"></a>00773         assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a58103aa3d7908ef129d17dc1c4329b4a">noneSet</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is destroyed...">STATIC_DATA</a>|<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed.">DYNAMIC_DATA</a>|<a class="code" href="classPacket.html#a7908599645927333c7fccd893fe80609" title="the data pointer points to an array (thus delete []) needs to be called on it rather than simply dele...">ARRAY_DATA</a>));
<a name="l00774"></a>00774         <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a> = (PacketDataPtr)p;
<a name="l00775"></a>00775         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed.">DYNAMIC_DATA</a>|<a class="code" href="classPacket.html#a7908599645927333c7fccd893fe80609" title="the data pointer points to an array (thus delete []) needs to be called on it rather than simply dele...">ARRAY_DATA</a>);
<a name="l00776"></a>00776     }
<a name="l00777"></a>00777 
<a name="l00782"></a>00782     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00783"></a>00783     <span class="keywordtype">void</span>
<a name="l00784"></a><a class="code" href="classPacket.html#a189897003852296141fa1d50937c648d">00784</a>     <a class="code" href="classPacket.html#a189897003852296141fa1d50937c648d" title="set the data pointer to a value that should have delete called on it.">dataDynamic</a>(T *<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a>)
<a name="l00785"></a>00785     {
<a name="l00786"></a>00786         assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a58103aa3d7908ef129d17dc1c4329b4a">noneSet</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is destroyed...">STATIC_DATA</a>|<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed.">DYNAMIC_DATA</a>|<a class="code" href="classPacket.html#a7908599645927333c7fccd893fe80609" title="the data pointer points to an array (thus delete []) needs to be called on it rather than simply dele...">ARRAY_DATA</a>));
<a name="l00787"></a>00787         <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a> = (PacketDataPtr)p;
<a name="l00788"></a>00788         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed.">DYNAMIC_DATA</a>);
<a name="l00789"></a>00789     }
<a name="l00790"></a>00790 
<a name="l00794"></a>00794     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00795"></a>00795     T*
<a name="l00796"></a><a class="code" href="classPacket.html#ad9552d30d60e5425e0a66b5c4e5c85d8">00796</a>     <a class="code" href="classPacket.html#ad9552d30d60e5425e0a66b5c4e5c85d8" title="get a pointer to the data ptr.">getPtr</a>(<span class="keywordtype">bool</span> null_ok = <span class="keyword">false</span>)
<a name="l00797"></a>00797     {
<a name="l00798"></a>00798         assert(null_ok || <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is destroyed...">STATIC_DATA</a>|<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed.">DYNAMIC_DATA</a>));
<a name="l00799"></a>00799         <span class="keywordflow">return</span> (T*)<a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a>;
<a name="l00800"></a>00800     }
<a name="l00801"></a>00801 
<a name="l00805"></a>00805     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00806"></a>00806     T <span class="keyword">get</span>();
<a name="l00807"></a>00807 
<a name="l00811"></a>00811     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00812"></a>00812     <span class="keywordtype">void</span> <span class="keyword">set</span>(T <a class="code" href="namespaceArmISA.html#ab5a71200b0a7550ed87398d38b7aedc6">v</a>);
<a name="l00813"></a>00813 
<a name="l00817"></a>00817     <span class="keywordtype">void</span>
<a name="l00818"></a><a class="code" href="classPacket.html#aed616594314570778895266f1a8b621a">00818</a>     <a class="code" href="classPacket.html#aed616594314570778895266f1a8b621a" title="Copy data into the packet from the provided pointer.">setData</a>(uint8_t *<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a>)
<a name="l00819"></a>00819     {
<a name="l00820"></a>00820         <span class="keywordflow">if</span> (p != getPtr&lt;uint8_t&gt;())
<a name="l00821"></a>00821             std::memcpy(getPtr&lt;uint8_t&gt;(), p, <a class="code" href="classPacket.html#ad7c96bd8cd06acddebb3a373b37e6e59">getSize</a>());
<a name="l00822"></a>00822     }
<a name="l00823"></a>00823 
<a name="l00828"></a>00828     <span class="keywordtype">void</span>
<a name="l00829"></a><a class="code" href="classPacket.html#a6fe8a0012ef72a7122434c01a21c1fd4">00829</a>     <a class="code" href="classPacket.html#a6fe8a0012ef72a7122434c01a21c1fd4" title="Copy data into the packet from the provided block pointer, which is aligned to the given block size...">setDataFromBlock</a>(uint8_t *blk_data, <span class="keywordtype">int</span> blkSize)
<a name="l00830"></a>00830     {
<a name="l00831"></a>00831         <a class="code" href="classPacket.html#aed616594314570778895266f1a8b621a" title="Copy data into the packet from the provided pointer.">setData</a>(blk_data + <a class="code" href="classPacket.html#af6a09e169389b9b5e49aaa314213289b">getOffset</a>(blkSize));
<a name="l00832"></a>00832     }
<a name="l00833"></a>00833 
<a name="l00838"></a>00838     <span class="keywordtype">void</span>
<a name="l00839"></a><a class="code" href="classPacket.html#a5e21108d9a09a9b5b80eb46393583d68">00839</a>     <a class="code" href="classPacket.html#a5e21108d9a09a9b5b80eb46393583d68" title="Copy data from the packet to the provided block pointer, which is aligned to the given block size...">writeData</a>(uint8_t *<a class="code" href="namespaceMipsISA.html#ae12ae9e12fab22594609e2fefce7f7c2">p</a>)
<a name="l00840"></a>00840     {
<a name="l00841"></a>00841         std::memcpy(p, getPtr&lt;uint8_t&gt;(), <a class="code" href="classPacket.html#ad7c96bd8cd06acddebb3a373b37e6e59">getSize</a>());
<a name="l00842"></a>00842     }
<a name="l00843"></a>00843 
<a name="l00847"></a>00847     <span class="keywordtype">void</span>
<a name="l00848"></a><a class="code" href="classPacket.html#a2b35c625ff648d942599868fb0090d3d">00848</a>     <a class="code" href="classPacket.html#a2b35c625ff648d942599868fb0090d3d" title="Copy data from the packet to the memory at the provided pointer.">writeDataToBlock</a>(uint8_t *blk_data, <span class="keywordtype">int</span> blkSize)
<a name="l00849"></a>00849     {
<a name="l00850"></a>00850         <a class="code" href="classPacket.html#a5e21108d9a09a9b5b80eb46393583d68" title="Copy data from the packet to the provided block pointer, which is aligned to the given block size...">writeData</a>(blk_data + <a class="code" href="classPacket.html#af6a09e169389b9b5e49aaa314213289b">getOffset</a>(blkSize));
<a name="l00851"></a>00851     }
<a name="l00852"></a>00852 
<a name="l00857"></a>00857     <span class="keywordtype">void</span>
<a name="l00858"></a><a class="code" href="classPacket.html#a3b34ddc8bf368c6fa351f25d9b9afe5d">00858</a>     <a class="code" href="classPacket.html#a3b34ddc8bf368c6fa351f25d9b9afe5d" title="delete the data pointed to in the data pointer.">deleteData</a>()
<a name="l00859"></a>00859     {
<a name="l00860"></a>00860         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a7908599645927333c7fccd893fe80609" title="the data pointer points to an array (thus delete []) needs to be called on it rather than simply dele...">ARRAY_DATA</a>))
<a name="l00861"></a>00861             <span class="keyword">delete</span> [] <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a>;
<a name="l00862"></a>00862         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed.">DYNAMIC_DATA</a>))
<a name="l00863"></a>00863             <span class="keyword">delete</span> <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a>;
<a name="l00864"></a>00864 
<a name="l00865"></a>00865         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a17c807a3868a994d893fb057352dcd89">clear</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is destroyed...">STATIC_DATA</a>|<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed.">DYNAMIC_DATA</a>|<a class="code" href="classPacket.html#a7908599645927333c7fccd893fe80609" title="the data pointer points to an array (thus delete []) needs to be called on it rather than simply dele...">ARRAY_DATA</a>);
<a name="l00866"></a>00866         <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a> = NULL;
<a name="l00867"></a>00867     }
<a name="l00868"></a>00868 
<a name="l00870"></a>00870     <span class="keywordtype">void</span>
<a name="l00871"></a><a class="code" href="classPacket.html#aaa5d4a16d37597168dcff5857d9c6717">00871</a>     <a class="code" href="classPacket.html#aaa5d4a16d37597168dcff5857d9c6717" title="If there isn&amp;#39;t data in the packet, allocate some.">allocate</a>()
<a name="l00872"></a>00872     {
<a name="l00873"></a>00873         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a>) {
<a name="l00874"></a>00874             assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a8739f6353a29e0db4f16421f93b3f0ca">isSet</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is destroyed...">STATIC_DATA</a>|<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed.">DYNAMIC_DATA</a>));
<a name="l00875"></a>00875             <span class="keywordflow">return</span>;
<a name="l00876"></a>00876         }
<a name="l00877"></a>00877 
<a name="l00878"></a>00878         assert(<a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a58103aa3d7908ef129d17dc1c4329b4a">noneSet</a>(<a class="code" href="classPacket.html#a916204f1fb78720f2e3e2042cb21fe62" title="Is the data pointer set to a value that shouldn&amp;#39;t be freed when the packet is destroyed...">STATIC_DATA</a>|<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed.">DYNAMIC_DATA</a>));
<a name="l00879"></a>00879         <a class="code" href="classPacket.html#a1d59d7505cbc8790860b6200eb4c4a73">flags</a>.<a class="code" href="classFlags.html#a06beef78637615db813528160a303134">set</a>(<a class="code" href="classPacket.html#a15de8bf3537c08f3ff05f4089962a0ff" title="The data pointer points to a value that should be freed when the packet is destroyed.">DYNAMIC_DATA</a>|<a class="code" href="classPacket.html#a7908599645927333c7fccd893fe80609" title="the data pointer points to an array (thus delete []) needs to be called on it rather than simply dele...">ARRAY_DATA</a>);
<a name="l00880"></a>00880         <a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a> = <span class="keyword">new</span> uint8_t[<a class="code" href="classPacket.html#ad7c96bd8cd06acddebb3a373b37e6e59">getSize</a>()];
<a name="l00881"></a>00881     }
<a name="l00882"></a>00882 
<a name="l00890"></a>00890     <span class="keywordtype">bool</span> <a class="code" href="classPacket.html#aa1e24e20c2139a45c50b4814900fe441" title="Check a functional request against a memory value represented by a base/size pair and an associated d...">checkFunctional</a>(<a class="code" href="classPrintable.html" title="Abstract base class for objects which support being printed to a stream for debugging.">Printable</a> *obj, <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceX86ISA.html#aa3826b335948154c40c1b6a32cbd10f5">base</a>, <span class="keywordtype">int</span> <a class="code" href="classPacket.html#a2ec256dae61980f980ada9d6071c25ab" title="The size of the request or transfer.">size</a>, uint8_t *<a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a>);
<a name="l00891"></a>00891 
<a name="l00896"></a>00896     <span class="keywordtype">bool</span>
<a name="l00897"></a><a class="code" href="classPacket.html#a6726a83352351937c97db32a041214f7">00897</a>     <a class="code" href="classPacket.html#aa1e24e20c2139a45c50b4814900fe441" title="Check a functional request against a memory value represented by a base/size pair and an associated d...">checkFunctional</a>(<a class="code" href="classPacket.html" title="A Packet is used to encapsulate a transfer between two objects in the memory system (e...">PacketPtr</a> other) 
<a name="l00898"></a>00898     {
<a name="l00899"></a>00899         uint8_t *<a class="code" href="classPacket.html#aff4816ce10747b969a88c4a7f9e9fb4a" title="A pointer to the data being transfered.">data</a> = other-&gt;<a class="code" href="classPacket.html#a9f23402c9a7438f2edab83d028f58d3b">hasData</a>() ? other-&gt;<a class="code" href="classPacket.html#ad9552d30d60e5425e0a66b5c4e5c85d8" title="get a pointer to the data ptr.">getPtr</a>&lt;uint8_t&gt;() : NULL;
<a name="l00900"></a>00900         <span class="keywordflow">return</span> <a class="code" href="classPacket.html#aa1e24e20c2139a45c50b4814900fe441" title="Check a functional request against a memory value represented by a base/size pair and an associated d...">checkFunctional</a>(other, other-&gt;<a class="code" href="classPacket.html#a1c04785186ba5aa70a40cac9b2bfc86e">getAddr</a>(), other-&gt;<a class="code" href="classPacket.html#ad7c96bd8cd06acddebb3a373b37e6e59">getSize</a>(),
<a name="l00901"></a>00901                                data);
<a name="l00902"></a>00902     }
<a name="l00903"></a>00903 
<a name="l00907"></a>00907     <span class="keywordtype">void</span>
<a name="l00908"></a><a class="code" href="classPacket.html#abf1a177ee6ddce59da49869cfeecc7bc">00908</a>     <a class="code" href="classPacket.html#abf1a177ee6ddce59da49869cfeecc7bc" title="Push label for PrintReq (safe to call unconditionally).">pushLabel</a>(<span class="keyword">const</span> std::string &amp;lbl)
<a name="l00909"></a>00909     {
<a name="l00910"></a>00910         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#a45a0b7819ab7c7af4f7f7e6f113c20de">isPrint</a>())
<a name="l00911"></a>00911             <a class="code" href="cast_8hh.html#a5f660f8e3c1002271ec98c59eeda331f">safe_cast</a>&lt;<a class="code" href="classPacket_1_1PrintReqState.html" title="Object used to maintain state of a PrintReq.">PrintReqState</a>*&gt;(<a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12" title="This packet&amp;#39;s sender state.">senderState</a>)-&gt;<a class="code" href="classPacket.html#abf1a177ee6ddce59da49869cfeecc7bc" title="Push label for PrintReq (safe to call unconditionally).">pushLabel</a>(lbl);
<a name="l00912"></a>00912     }
<a name="l00913"></a>00913 
<a name="l00917"></a>00917     <span class="keywordtype">void</span>
<a name="l00918"></a><a class="code" href="classPacket.html#ad28d4bd566aee12a370dc9180e064bea">00918</a>     <a class="code" href="classPacket.html#ad28d4bd566aee12a370dc9180e064bea" title="Pop label for PrintReq (safe to call unconditionally).">popLabel</a>()
<a name="l00919"></a>00919     {
<a name="l00920"></a>00920         <span class="keywordflow">if</span> (<a class="code" href="classPacket.html#a45a0b7819ab7c7af4f7f7e6f113c20de">isPrint</a>())
<a name="l00921"></a>00921             <a class="code" href="cast_8hh.html#a5f660f8e3c1002271ec98c59eeda331f">safe_cast</a>&lt;<a class="code" href="classPacket_1_1PrintReqState.html" title="Object used to maintain state of a PrintReq.">PrintReqState</a>*&gt;(<a class="code" href="classPacket.html#ad1dd4fa4370e508806fe4a8253a0ad12" title="This packet&amp;#39;s sender state.">senderState</a>)-&gt;<a class="code" href="classPacket.html#ad28d4bd566aee12a370dc9180e064bea" title="Pop label for PrintReq (safe to call unconditionally).">popLabel</a>();
<a name="l00922"></a>00922     }
<a name="l00923"></a>00923 
<a name="l00924"></a>00924     <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a3326232d1978aab2e020576c16d656cd">print</a>(std::ostream &amp;o, <span class="keywordtype">int</span> verbosity = 0,
<a name="l00925"></a>00925                <span class="keyword">const</span> std::string &amp;prefix = <span class="stringliteral">&quot;&quot;</span>) <span class="keyword">const</span>;
<a name="l00926"></a>00926 };
<a name="l00927"></a>00927 
<a name="l00928"></a>00928 <span class="preprocessor">#endif //__MEM_PACKET_HH</span>
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"><address style="align: right;"><small>
Generated on Sun Apr 7 2013 18:16:42 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.7.1</small></address>

</body>
</html>
