<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gem5: sim/process.hh Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>sim/process.hh</h1>  </div>
</div>
<div class="contents">
<a href="sim_2process_8hh.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (c) 2001-2005 The Regents of The University of Michigan</span>
<a name="l00003"></a>00003 <span class="comment"> * All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00006"></a>00006 <span class="comment"> * modification, are permitted provided that the following conditions are</span>
<a name="l00007"></a>00007 <span class="comment"> * met: redistributions of source code must retain the above copyright</span>
<a name="l00008"></a>00008 <span class="comment"> * notice, this list of conditions and the following disclaimer;</span>
<a name="l00009"></a>00009 <span class="comment"> * redistributions in binary form must reproduce the above copyright</span>
<a name="l00010"></a>00010 <span class="comment"> * notice, this list of conditions and the following disclaimer in the</span>
<a name="l00011"></a>00011 <span class="comment"> * documentation and/or other materials provided with the distribution;</span>
<a name="l00012"></a>00012 <span class="comment"> * neither the name of the copyright holders nor the names of its</span>
<a name="l00013"></a>00013 <span class="comment"> * contributors may be used to endorse or promote products derived from</span>
<a name="l00014"></a>00014 <span class="comment"> * this software without specific prior written permission.</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<a name="l00017"></a>00017 <span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00018"></a>00018 <span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<a name="l00019"></a>00019 <span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<a name="l00020"></a>00020 <span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<a name="l00021"></a>00021 <span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00022"></a>00022 <span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00023"></a>00023 <span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00024"></a>00024 <span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00025"></a>00025 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00026"></a>00026 <span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00027"></a>00027 <span class="comment"> *</span>
<a name="l00028"></a>00028 <span class="comment"> * Authors: Nathan Binkert</span>
<a name="l00029"></a>00029 <span class="comment"> *          Steve Reinhardt</span>
<a name="l00030"></a>00030 <span class="comment"> */</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="preprocessor">#ifndef __PROCESS_HH__</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span><span class="preprocessor">#define __PROCESS_HH__</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="preprocessor">#include &quot;arch/registers.hh&quot;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &quot;<a class="code" href="statistics_8hh.html" title="Declaration of Statistics objects.">base/statistics.hh</a>&quot;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &quot;<a class="code" href="base_2types_8hh.html" title="Defines global host-dependent types: Counter, Tick, and (indirectly) {int,uint}{8,16,32,64}_t.">base/types.hh</a>&quot;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &quot;config/the_isa.hh&quot;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &quot;<a class="code" href="se__translating__port__proxy_8hh.html" title="TranslatingPortProxy Object Declaration for SE.">mem/se_translating_port_proxy.hh</a>&quot;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &quot;<a class="code" href="sim__object_8hh.html">sim/sim_object.hh</a>&quot;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &quot;<a class="code" href="syscallreturn_8hh.html">sim/syscallreturn.hh</a>&quot;</span>
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 <span class="keyword">class </span><a class="code" href="classPageTable.html" title="Page Table Declaration.">PageTable</a>;
<a name="l00047"></a>00047 <span class="keyword">struct </span>ProcessParams;
<a name="l00048"></a>00048 <span class="keyword">struct </span>LiveProcessParams;
<a name="l00049"></a>00049 <span class="keyword">class </span><a class="code" href="classSyscallDesc.html" title="System call descriptor.">SyscallDesc</a>;
<a name="l00050"></a>00050 <span class="keyword">class </span><a class="code" href="classSystem.html">System</a>;
<a name="l00051"></a>00051 <span class="keyword">class </span><a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside of the CPU...">ThreadContext</a>;
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <span class="keyword">template</span>&lt;<span class="keyword">class</span> IntType&gt;
<a name="l00054"></a><a class="code" href="structAuxVector.html">00054</a> <span class="keyword">struct </span><a class="code" href="structAuxVector.html">AuxVector</a>
<a name="l00055"></a>00055 {
<a name="l00056"></a><a class="code" href="structAuxVector.html#a5a3157f9e7d8fd8839adc3aa0430713c">00056</a>     IntType <a class="code" href="structAuxVector.html#a5a3157f9e7d8fd8839adc3aa0430713c">a_type</a>;
<a name="l00057"></a><a class="code" href="structAuxVector.html#a641852bd1336da3f6ddbbdcb50c1a1b0">00057</a>     IntType <a class="code" href="structAuxVector.html#a641852bd1336da3f6ddbbdcb50c1a1b0">a_val</a>;
<a name="l00058"></a>00058 
<a name="l00059"></a><a class="code" href="structAuxVector.html#afdc6f34c921332e7f6da870ae3545d1a">00059</a>     <a class="code" href="structAuxVector.html#afdc6f34c921332e7f6da870ae3545d1a">AuxVector</a>()
<a name="l00060"></a>00060     {}
<a name="l00061"></a>00061 
<a name="l00062"></a>00062     <a class="code" href="structAuxVector.html#afdc6f34c921332e7f6da870ae3545d1a">AuxVector</a>(IntType <a class="code" href="namespaceX86ISA.html#abd6d20afe8f06aa5708282b98f926658">type</a>, IntType <a class="code" href="namespaceX86ISA.html#ab4e00e23f8f36386f97d8abcccb17180">val</a>);
<a name="l00063"></a>00063 };
<a name="l00064"></a>00064 
<a name="l00065"></a><a class="code" href="classProcess.html">00065</a> <span class="keyword">class </span><a class="code" href="classProcess.html">Process</a> : <span class="keyword">public</span> <a class="code" href="classSimObject.html" title="Abstract superclass for simulation objects.">SimObject</a>
<a name="l00066"></a>00066 {
<a name="l00067"></a>00067   <span class="keyword">public</span>:
<a name="l00068"></a>00068 
<a name="l00071"></a><a class="code" href="classProcess.html#a6473e213861119cc4bbbd4256fa3a182">00071</a>     <a class="code" href="classSystem.html">System</a> *<a class="code" href="classProcess.html#a6473e213861119cc4bbbd4256fa3a182" title="Pointer to object representing the system this process is running on.">system</a>;
<a name="l00072"></a>00072 
<a name="l00073"></a>00073     <span class="comment">// thread contexts associated with this process</span>
<a name="l00074"></a><a class="code" href="classProcess.html#a392f89ad35affc08d6db01ad0bb594d5">00074</a>     <a class="code" href="classstd_1_1vector.html">std::vector&lt;int&gt;</a> <a class="code" href="classProcess.html#a392f89ad35affc08d6db01ad0bb594d5">contextIds</a>;
<a name="l00075"></a>00075 
<a name="l00076"></a>00076     <span class="comment">// number of CPUs (esxec contexts, really) assigned to this process.</span>
<a name="l00077"></a><a class="code" href="classProcess.html#af98d701de675ca25b48fcf023567faad">00077</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classProcess.html#af98d701de675ca25b48fcf023567faad">numCpus</a>() { <span class="keywordflow">return</span> <a class="code" href="classProcess.html#a392f89ad35affc08d6db01ad0bb594d5">contextIds</a>.size(); }
<a name="l00078"></a>00078 
<a name="l00079"></a>00079     <span class="comment">// record of blocked context</span>
<a name="l00080"></a><a class="code" href="structProcess_1_1WaitRec.html">00080</a>     <span class="keyword">struct </span><a class="code" href="structProcess_1_1WaitRec.html">WaitRec</a>
<a name="l00081"></a>00081     {
<a name="l00082"></a><a class="code" href="structProcess_1_1WaitRec.html#abd404caf39a9c89804d24127ffd5133d">00082</a>         <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="structProcess_1_1WaitRec.html#abd404caf39a9c89804d24127ffd5133d">waitChan</a>;
<a name="l00083"></a><a class="code" href="structProcess_1_1WaitRec.html#ad6a0432835b26cbbbf890fc9650aaf9b">00083</a>         <a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside of the CPU...">ThreadContext</a> *<a class="code" href="structProcess_1_1WaitRec.html#ad6a0432835b26cbbbf890fc9650aaf9b">waitingContext</a>;
<a name="l00084"></a>00084 
<a name="l00085"></a><a class="code" href="structProcess_1_1WaitRec.html#a14294cca6551de4d353ac0d2beddd1b0">00085</a>         <a class="code" href="structProcess_1_1WaitRec.html#a14294cca6551de4d353ac0d2beddd1b0">WaitRec</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> chan, <a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside of the CPU...">ThreadContext</a> *ctx)
<a name="l00086"></a>00086             : <a class="code" href="structProcess_1_1WaitRec.html#abd404caf39a9c89804d24127ffd5133d">waitChan</a>(chan), <a class="code" href="structProcess_1_1WaitRec.html#ad6a0432835b26cbbbf890fc9650aaf9b">waitingContext</a>(ctx)
<a name="l00087"></a>00087         {       }
<a name="l00088"></a>00088     };
<a name="l00089"></a>00089 
<a name="l00090"></a>00090     <span class="comment">// list of all blocked contexts</span>
<a name="l00091"></a><a class="code" href="classProcess.html#a37b595549b181c78be8478ea5f5fb8a9">00091</a>     <a class="code" href="classstd_1_1list.html">std::list&lt;WaitRec&gt;</a> <a class="code" href="classProcess.html#a37b595549b181c78be8478ea5f5fb8a9">waitList</a>;
<a name="l00092"></a>00092 
<a name="l00093"></a><a class="code" href="classProcess.html#a8624483fa287432b2dd052fd20db53e7">00093</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classProcess.html#a8624483fa287432b2dd052fd20db53e7">brk_point</a>;             <span class="comment">// top of the data segment</span>
<a name="l00094"></a>00094 
<a name="l00095"></a><a class="code" href="classProcess.html#ac6fc0e1af2e067b562e58ce0c97d4709">00095</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classProcess.html#ac6fc0e1af2e067b562e58ce0c97d4709">stack_base</a>;            <span class="comment">// stack segment base (highest address)</span>
<a name="l00096"></a><a class="code" href="classProcess.html#abbc1795cb667804a012340e18c95bcf3">00096</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classProcess.html#abbc1795cb667804a012340e18c95bcf3">stack_size</a>;        <span class="comment">// initial stack size</span>
<a name="l00097"></a><a class="code" href="classProcess.html#ab7bd211166c6a599db9d34898f9e5714">00097</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classProcess.html#ab7bd211166c6a599db9d34898f9e5714">stack_min</a>;             <span class="comment">// lowest address accessed on the stack</span>
<a name="l00098"></a>00098 
<a name="l00099"></a>00099     <span class="comment">// The maximum size allowed for the stack.</span>
<a name="l00100"></a><a class="code" href="classProcess.html#a89328868c2c59280b4b67e02d0053d42">00100</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classProcess.html#a89328868c2c59280b4b67e02d0053d42">max_stack_size</a>;
<a name="l00101"></a>00101 
<a name="l00102"></a>00102     <span class="comment">// addr to use for next stack region (for multithreaded apps)</span>
<a name="l00103"></a><a class="code" href="classProcess.html#ac4a596533bb0a396529a8b380d613025">00103</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classProcess.html#ac4a596533bb0a396529a8b380d613025">next_thread_stack_base</a>;
<a name="l00104"></a>00104 
<a name="l00105"></a>00105     <span class="comment">// Base of region for mmaps (when user doesn&#39;t specify an address).</span>
<a name="l00106"></a><a class="code" href="classProcess.html#ade07363dd24e655556c009443ac42bfe">00106</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classProcess.html#ade07363dd24e655556c009443ac42bfe">mmap_start</a>;
<a name="l00107"></a><a class="code" href="classProcess.html#af713882a8649debe8be2a1bb27076a0f">00107</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classProcess.html#af713882a8649debe8be2a1bb27076a0f">mmap_end</a>;
<a name="l00108"></a>00108 
<a name="l00109"></a>00109     <span class="comment">// Base of region for nxm data</span>
<a name="l00110"></a><a class="code" href="classProcess.html#a06f7bfc67c837e56422bc75d34a76d54">00110</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classProcess.html#a06f7bfc67c837e56422bc75d34a76d54">nxm_start</a>;
<a name="l00111"></a><a class="code" href="classProcess.html#a5f3023c7d20885b5afb6e400f49cab15">00111</a>     <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="classProcess.html#a5f3023c7d20885b5afb6e400f49cab15">nxm_end</a>;
<a name="l00112"></a>00112 
<a name="l00113"></a><a class="code" href="classProcess.html#aa34fc331845b58bb694ee6d285ddb60a">00113</a>     <a class="code" href="classStats_1_1Scalar.html" title="This is a simple scalar statistic, like a counter.">Stats::Scalar</a> <a class="code" href="classProcess.html#aa34fc331845b58bb694ee6d285ddb60a">num_syscalls</a>;       <span class="comment">// number of syscalls executed</span>
<a name="l00114"></a>00114 
<a name="l00115"></a>00115   <span class="keyword">protected</span>:
<a name="l00116"></a>00116     <span class="comment">// constructor</span>
<a name="l00117"></a>00117     <a class="code" href="classProcess.html#a1beca932ee6c6fac016de2260110bf91">Process</a>(ProcessParams *<a class="code" href="classSimObject.html#a43d73d4e5a424c32210e0135eb8db59d">params</a>);
<a name="l00118"></a>00118 
<a name="l00119"></a>00119     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classProcess.html#ab633acfe39b32cdc23e6b84c74679fb3" title="initState() is called on each SimObject when *not* restoring from a checkpoint.">initState</a>();
<a name="l00120"></a>00120 
<a name="l00121"></a>00121   <span class="keyword">public</span>:
<a name="l00122"></a>00122 
<a name="l00123"></a>00123     <span class="comment">//This id is assigned by m5 and is used to keep process&#39; tlb entries</span>
<a name="l00124"></a>00124     <span class="comment">//separated.</span>
<a name="l00125"></a><a class="code" href="classProcess.html#add56d487735b2e8e830c547b17310104">00125</a>     uint64_t <a class="code" href="classProcess.html#add56d487735b2e8e830c547b17310104">M5_pid</a>;
<a name="l00126"></a>00126 
<a name="l00127"></a><a class="code" href="classProcess.html#ab023e15e074195be6f19416d376eaf22">00127</a>     <a class="code" href="classPageTable.html" title="Page Table Declaration.">PageTable</a>* <a class="code" href="classProcess.html#ab023e15e074195be6f19416d376eaf22">pTable</a>;
<a name="l00128"></a>00128 
<a name="l00129"></a><a class="code" href="classProcess_1_1FdMap.html">00129</a>     <span class="keyword">class </span><a class="code" href="classProcess_1_1FdMap.html">FdMap</a>
<a name="l00130"></a>00130     {
<a name="l00131"></a>00131       <span class="keyword">public</span>:
<a name="l00132"></a><a class="code" href="classProcess_1_1FdMap.html#af1fae50d59d6767c71abc73bea52a8d5">00132</a>         <span class="keywordtype">int</span> <a class="code" href="classProcess_1_1FdMap.html#af1fae50d59d6767c71abc73bea52a8d5">fd</a>;
<a name="l00133"></a><a class="code" href="classProcess_1_1FdMap.html#a14a58fb94b5e70633bbeef27a315b1a3">00133</a>         std::string <a class="code" href="classProcess_1_1FdMap.html#a14a58fb94b5e70633bbeef27a315b1a3">filename</a>;
<a name="l00134"></a><a class="code" href="classProcess_1_1FdMap.html#aa736197b752c7210fe27d99265afe2cc">00134</a>         <span class="keywordtype">int</span> <a class="code" href="classProcess_1_1FdMap.html#aa736197b752c7210fe27d99265afe2cc">mode</a>;
<a name="l00135"></a><a class="code" href="classProcess_1_1FdMap.html#a0b425d1fb2f5b83f9b026b86892d30ac">00135</a>         <span class="keywordtype">int</span> <a class="code" href="classProcess_1_1FdMap.html#a0b425d1fb2f5b83f9b026b86892d30ac">flags</a>;
<a name="l00136"></a><a class="code" href="classProcess_1_1FdMap.html#a06793fca8825a930bcf083d827d549f1">00136</a>         <span class="keywordtype">bool</span> <a class="code" href="classProcess_1_1FdMap.html#a06793fca8825a930bcf083d827d549f1">isPipe</a>;
<a name="l00137"></a><a class="code" href="classProcess_1_1FdMap.html#ac78dd54c7726a3a23616582d448e815c">00137</a>         <span class="keywordtype">int</span> <a class="code" href="classProcess_1_1FdMap.html#ac78dd54c7726a3a23616582d448e815c">readPipeSource</a>;
<a name="l00138"></a><a class="code" href="classProcess_1_1FdMap.html#acaaf8fe0922f59681705443de313a7cc">00138</a>         uint64_t <a class="code" href="classProcess_1_1FdMap.html#acaaf8fe0922f59681705443de313a7cc">fileOffset</a>;
<a name="l00139"></a>00139 
<a name="l00140"></a><a class="code" href="classProcess_1_1FdMap.html#a75de3441c6af3486a3fd4fa9e69ed0c0">00140</a>         <a class="code" href="classProcess_1_1FdMap.html#a75de3441c6af3486a3fd4fa9e69ed0c0">FdMap</a>()
<a name="l00141"></a>00141             : <a class="code" href="classProcess_1_1FdMap.html#af1fae50d59d6767c71abc73bea52a8d5">fd</a>(-1), <a class="code" href="classProcess_1_1FdMap.html#a14a58fb94b5e70633bbeef27a315b1a3">filename</a>(<span class="stringliteral">&quot;NULL&quot;</span>), <a class="code" href="classProcess_1_1FdMap.html#aa736197b752c7210fe27d99265afe2cc">mode</a>(0), <a class="code" href="classProcess_1_1FdMap.html#a0b425d1fb2f5b83f9b026b86892d30ac">flags</a>(0),
<a name="l00142"></a>00142               <a class="code" href="classProcess_1_1FdMap.html#a06793fca8825a930bcf083d827d549f1">isPipe</a>(false), <a class="code" href="classProcess_1_1FdMap.html#ac78dd54c7726a3a23616582d448e815c">readPipeSource</a>(0), <a class="code" href="classProcess_1_1FdMap.html#acaaf8fe0922f59681705443de313a7cc">fileOffset</a>(0)
<a name="l00143"></a>00143         { }
<a name="l00144"></a>00144 
<a name="l00145"></a>00145         <span class="keywordtype">void</span> <a class="code" href="classProcess_1_1FdMap.html#a33785b11fb2ddcae73bc1677fda2f1b2">serialize</a>(std::ostream &amp;<a class="code" href="namespaceX86ISA.html#aea9fbab71662ba06cf536e05edfaaad1">os</a>);
<a name="l00146"></a>00146         <span class="keywordtype">void</span> <a class="code" href="classProcess_1_1FdMap.html#a296b004412e2d8af3f496e6e3d7d3afd">unserialize</a>(<a class="code" href="classCheckpoint.html">Checkpoint</a> *cp, <span class="keyword">const</span> std::string &amp;section);
<a name="l00147"></a>00147     };
<a name="l00148"></a>00148 
<a name="l00149"></a>00149   <span class="keyword">protected</span>:
<a name="l00151"></a><a class="code" href="classProcess.html#aa791dc03728728051e01c1f31f70748a">00151</a>     <a class="code" href="classSETranslatingPortProxy.html">SETranslatingPortProxy</a> <a class="code" href="classProcess.html#aa791dc03728728051e01c1f31f70748a" title="Memory proxy for initialization (image loading).">initVirtMem</a>;
<a name="l00152"></a>00152 
<a name="l00153"></a>00153   <span class="keyword">private</span>:
<a name="l00154"></a>00154     <span class="comment">// file descriptor remapping support</span>
<a name="l00155"></a><a class="code" href="classProcess.html#a7729dfa49dc901fb0144b1351dc547b3">00155</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classProcess.html#a7729dfa49dc901fb0144b1351dc547b3">MAX_FD</a> = 256;    <span class="comment">// max legal fd value</span>
<a name="l00156"></a><a class="code" href="classProcess.html#a0cf25206742f7f8b25a06edf3c660426">00156</a>     <a class="code" href="classProcess_1_1FdMap.html">FdMap</a> <a class="code" href="classProcess.html#a0cf25206742f7f8b25a06edf3c660426">fd_map</a>[<a class="code" href="classProcess.html#a7729dfa49dc901fb0144b1351dc547b3">MAX_FD</a>+1];
<a name="l00157"></a>00157 
<a name="l00158"></a>00158 
<a name="l00159"></a>00159   <span class="keyword">public</span>:
<a name="l00160"></a>00160     <span class="comment">// static helper functions to generate file descriptors for constructor</span>
<a name="l00161"></a>00161     <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classProcess.html#a88bb13cd346ae5498a1e2eb726aa8eda">openInputFile</a>(<span class="keyword">const</span> std::string &amp;filename);
<a name="l00162"></a>00162     <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classProcess.html#a59e91ddd04e41f76becb0cc3b9bb83be">openOutputFile</a>(<span class="keyword">const</span> std::string &amp;filename);
<a name="l00163"></a>00163 
<a name="l00164"></a>00164     <span class="comment">// override of virtual SimObject method: register statistics</span>
<a name="l00165"></a>00165     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classProcess.html#a6e37b638b76090d52d6460f993b77d24" title="Register statistics for this object.">regStats</a>();
<a name="l00166"></a>00166 
<a name="l00167"></a>00167     <span class="comment">// After getting registered with system object, tell process which</span>
<a name="l00168"></a>00168     <span class="comment">// system-wide context id it is assigned.</span>
<a name="l00169"></a><a class="code" href="classProcess.html#acf8d7b5dc4701cbdbda905878a2ddf1d">00169</a>     <span class="keywordtype">void</span> <a class="code" href="classProcess.html#acf8d7b5dc4701cbdbda905878a2ddf1d">assignThreadContext</a>(<span class="keywordtype">int</span> context_id)
<a name="l00170"></a>00170     {
<a name="l00171"></a>00171         <a class="code" href="classProcess.html#a392f89ad35affc08d6db01ad0bb594d5">contextIds</a>.push_back(context_id);
<a name="l00172"></a>00172     }
<a name="l00173"></a>00173 
<a name="l00174"></a>00174     <span class="comment">// Find a free context to use</span>
<a name="l00175"></a>00175     <a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside of the CPU...">ThreadContext</a> *<a class="code" href="classProcess.html#a33d7f9bd41d8f61a2a9814813b7d8d58">findFreeContext</a>();
<a name="l00176"></a>00176 
<a name="l00177"></a>00177     <span class="comment">// provide program name for debug messages</span>
<a name="l00178"></a><a class="code" href="classProcess.html#a68f5ca843880b0f1d60e9bdc29d51120">00178</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classProcess.html#a68f5ca843880b0f1d60e9bdc29d51120">progName</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;&lt;unknown&gt;&quot;</span>; }
<a name="l00179"></a>00179 
<a name="l00180"></a>00180     <span class="comment">// map simulator fd sim_fd to target fd tgt_fd</span>
<a name="l00181"></a>00181     <span class="keywordtype">void</span> <a class="code" href="classProcess.html#a7ca7e3f871419b92bfd04b02f0bd4fc3">dup_fd</a>(<span class="keywordtype">int</span> <a class="code" href="classProcess.html#adcc9e55c7c0489f57ba7714df77baa42">sim_fd</a>, <span class="keywordtype">int</span> tgt_fd);
<a name="l00182"></a>00182 
<a name="l00183"></a>00183     <span class="comment">// generate new target fd for sim_fd</span>
<a name="l00184"></a>00184     <span class="keywordtype">int</span> <a class="code" href="classProcess.html#af8e485d9fc9a9ec96fb4aa5e1e6dae01">alloc_fd</a>(<span class="keywordtype">int</span> <a class="code" href="classProcess.html#adcc9e55c7c0489f57ba7714df77baa42">sim_fd</a>, std::string filename, <span class="keywordtype">int</span> flags, <span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#aab42c0db74065d35a4e8809e56f72f97">mode</a>,
<a name="l00185"></a>00185                  <span class="keywordtype">bool</span> pipe);
<a name="l00186"></a>00186 
<a name="l00187"></a>00187     <span class="comment">// free target fd (e.g., after close)</span>
<a name="l00188"></a>00188     <span class="keywordtype">void</span> <a class="code" href="classProcess.html#a307e2335477983e276b327a6fc0eabfc">free_fd</a>(<span class="keywordtype">int</span> tgt_fd);
<a name="l00189"></a>00189 
<a name="l00190"></a>00190     <span class="comment">// look up simulator fd for given target fd</span>
<a name="l00191"></a>00191     <span class="keywordtype">int</span> <a class="code" href="classProcess.html#adcc9e55c7c0489f57ba7714df77baa42">sim_fd</a>(<span class="keywordtype">int</span> tgt_fd);
<a name="l00192"></a>00192 
<a name="l00193"></a>00193     <span class="comment">// look up simulator fd_map object for a given target fd</span>
<a name="l00194"></a>00194     FdMap *<a class="code" href="classProcess.html#ae1784956b497da48188c4d0e7dc27039">sim_fd_obj</a>(<span class="keywordtype">int</span> tgt_fd);
<a name="l00195"></a>00195 
<a name="l00196"></a>00196     <span class="comment">// fix all offsets for currently open files and save them</span>
<a name="l00197"></a>00197     <span class="keywordtype">void</span> <a class="code" href="classProcess.html#ac44e1ed92cb13075448e932f53e85373">fix_file_offsets</a>();
<a name="l00198"></a>00198 
<a name="l00199"></a>00199     <span class="comment">// find all offsets for currently open files and save them</span>
<a name="l00200"></a>00200     <span class="keywordtype">void</span> <a class="code" href="classProcess.html#adb09ccabb6e9eac16bde50df076aecfc">find_file_offsets</a>();
<a name="l00201"></a>00201 
<a name="l00202"></a>00202     <span class="comment">// set the source of this read pipe for a checkpoint resume</span>
<a name="l00203"></a>00203     <span class="keywordtype">void</span> <a class="code" href="classProcess.html#a847ee6bd33c1a10de007c2391f4f82fc">setReadPipeSource</a>(<span class="keywordtype">int</span> read_pipe_fd, <span class="keywordtype">int</span> source_fd);
<a name="l00204"></a>00204 
<a name="l00205"></a>00205     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classProcess.html#ad1ca10c0f43bb11e1d867f0c25b04e56">syscall</a>(int64_t callnum, <a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside of the CPU...">ThreadContext</a> *tc) = 0;
<a name="l00206"></a>00206 
<a name="l00207"></a>00207     <span class="keywordtype">void</span> <a class="code" href="classProcess.html#a6f44d1f7089c1d9ff3613d0c9cd67a69">allocateMem</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceMipsISA.html#a9bab751e4fa25d88bf84ee970a01a641">vaddr</a>, int64_t size, <span class="keywordtype">bool</span> clobber = <span class="keyword">false</span>);
<a name="l00208"></a>00208 
<a name="l00211"></a>00211     <span class="keywordtype">bool</span> <a class="code" href="classProcess.html#aeafd0a9f4f332dab45ff954f8857e82f" title="Attempt to fix up a fault at vaddr by allocating a page on the stack.">fixupStackFault</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceMipsISA.html#a9bab751e4fa25d88bf84ee970a01a641">vaddr</a>);
<a name="l00212"></a>00212 
<a name="l00226"></a>00226     <span class="keywordtype">bool</span> <a class="code" href="classProcess.html#a64a3e1a8b50ab9807b93120ff3d4eefb" title="Map a contiguous range of virtual addresses in this process&amp;#39;s address space to a contiguous range...">map</a>(<a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> <a class="code" href="namespaceMipsISA.html#a9bab751e4fa25d88bf84ee970a01a641">vaddr</a>, <a class="code" href="base_2types_8hh.html#af1bb03d6a4ee096394a6749f0a169232" title="Address type This will probably be moved somewhere else in the near future.">Addr</a> paddr, <span class="keywordtype">int</span> size);
<a name="l00227"></a>00227 
<a name="l00228"></a>00228     <span class="keywordtype">void</span> <a class="code" href="classProcess.html#a5ef51c9bc4fa2bb8f91aae68c8413bbf">serialize</a>(std::ostream &amp;<a class="code" href="namespaceX86ISA.html#aea9fbab71662ba06cf536e05edfaaad1">os</a>);
<a name="l00229"></a>00229     <span class="keywordtype">void</span> <a class="code" href="classProcess.html#aa0fba322704be04a3bfb7e9e18eba61e">unserialize</a>(<a class="code" href="classCheckpoint.html">Checkpoint</a> *cp, <span class="keyword">const</span> std::string &amp;section);
<a name="l00230"></a>00230 };
<a name="l00231"></a>00231 
<a name="l00232"></a>00232 <span class="comment">//</span>
<a name="l00233"></a>00233 <span class="comment">// &quot;Live&quot; process with system calls redirected to host system</span>
<a name="l00234"></a>00234 <span class="comment">//</span>
<a name="l00235"></a>00235 <span class="keyword">class </span><a class="code" href="classObjectFile.html">ObjectFile</a>;
<a name="l00236"></a><a class="code" href="classLiveProcess.html">00236</a> <span class="keyword">class </span><a class="code" href="classLiveProcess.html">LiveProcess</a> : <span class="keyword">public</span> <a class="code" href="classProcess.html">Process</a>
<a name="l00237"></a>00237 {
<a name="l00238"></a>00238   <span class="keyword">protected</span>:
<a name="l00239"></a><a class="code" href="classLiveProcess.html#a2335bfa116792fa2c1451371b1c75cbb">00239</a>     <a class="code" href="classObjectFile.html">ObjectFile</a> *<a class="code" href="classLiveProcess.html#a2335bfa116792fa2c1451371b1c75cbb">objFile</a>;
<a name="l00240"></a><a class="code" href="classLiveProcess.html#a1c72e30fdbbd90395f088fa24f6cf33f">00240</a>     <a class="code" href="classstd_1_1vector.html">std::vector&lt;std::string&gt;</a> <a class="code" href="classLiveProcess.html#a1c72e30fdbbd90395f088fa24f6cf33f">argv</a>;
<a name="l00241"></a><a class="code" href="classLiveProcess.html#a90b2515e81d223fc73a49d5e61e67149">00241</a>     <a class="code" href="classstd_1_1vector.html">std::vector&lt;std::string&gt;</a> <a class="code" href="classLiveProcess.html#a90b2515e81d223fc73a49d5e61e67149">envp</a>;
<a name="l00242"></a><a class="code" href="classLiveProcess.html#ac7390bab63757bd047c4b4a727b992bb">00242</a>     std::string <a class="code" href="classLiveProcess.html#ac7390bab63757bd047c4b4a727b992bb">cwd</a>;
<a name="l00243"></a>00243 
<a name="l00244"></a>00244     <a class="code" href="classLiveProcess.html#a10ccb61afdd4faa135b564f49e228e1a">LiveProcess</a>(LiveProcessParams *<a class="code" href="classSimObject.html#a43d73d4e5a424c32210e0135eb8db59d">params</a>, <a class="code" href="classObjectFile.html">ObjectFile</a> *<a class="code" href="classLiveProcess.html#a2335bfa116792fa2c1451371b1c75cbb">objFile</a>);
<a name="l00245"></a>00245 
<a name="l00246"></a>00246     <span class="comment">// Id of the owner of the process</span>
<a name="l00247"></a><a class="code" href="classLiveProcess.html#af586af453143f27d551010e6aaca2b58">00247</a>     uint64_t <a class="code" href="classLiveProcess.html#af586af453143f27d551010e6aaca2b58">__uid</a>;
<a name="l00248"></a><a class="code" href="classLiveProcess.html#a593f7986d558c3175fc498d0202fe67d">00248</a>     uint64_t <a class="code" href="classLiveProcess.html#a593f7986d558c3175fc498d0202fe67d">__euid</a>;
<a name="l00249"></a><a class="code" href="classLiveProcess.html#a59607a3c9acfec11c97b7a0a892bde9a">00249</a>     uint64_t <a class="code" href="classLiveProcess.html#a59607a3c9acfec11c97b7a0a892bde9a">__gid</a>;
<a name="l00250"></a><a class="code" href="classLiveProcess.html#ad4e7026c6987e607f81c85bc285f7d9a">00250</a>     uint64_t <a class="code" href="classLiveProcess.html#ad4e7026c6987e607f81c85bc285f7d9a">__egid</a>;
<a name="l00251"></a>00251 
<a name="l00252"></a>00252     <span class="comment">// pid of the process and it&#39;s parent</span>
<a name="l00253"></a><a class="code" href="classLiveProcess.html#ac917288bd31e114df2901ef06b748e5b">00253</a>     uint64_t <a class="code" href="classLiveProcess.html#ac917288bd31e114df2901ef06b748e5b">__pid</a>;
<a name="l00254"></a><a class="code" href="classLiveProcess.html#aac16e46f2c7a0971b3e329acfc18748b">00254</a>     uint64_t <a class="code" href="classLiveProcess.html#aac16e46f2c7a0971b3e329acfc18748b">__ppid</a>;
<a name="l00255"></a>00255 
<a name="l00256"></a>00256   <span class="keyword">public</span>:
<a name="l00257"></a>00257 
<a name="l00258"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bf">00258</a>     <span class="keyword">enum</span> <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bf">AuxiliaryVectorType</a> {
<a name="l00259"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa44454a09925d074a5ea8717741e49d12">00259</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa44454a09925d074a5ea8717741e49d12">M5_AT_NULL</a> = 0,
<a name="l00260"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa7b236d2d6ccf203e83584691f7edb0d1">00260</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa7b236d2d6ccf203e83584691f7edb0d1">M5_AT_IGNORE</a> = 1,
<a name="l00261"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfae40a097580b0de836263d6a952b0503b">00261</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfae40a097580b0de836263d6a952b0503b">M5_AT_EXECFD</a> = 2,
<a name="l00262"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa620e8908be91beb9ff4c41089ee75fd9">00262</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa620e8908be91beb9ff4c41089ee75fd9">M5_AT_PHDR</a> = 3,
<a name="l00263"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfaf9403feaf4712bc8f8efe56d1c7e9d89">00263</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfaf9403feaf4712bc8f8efe56d1c7e9d89">M5_AT_PHENT</a> = 4,
<a name="l00264"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfaa73cd9c0583194211e0f75f9509277fb">00264</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfaa73cd9c0583194211e0f75f9509277fb">M5_AT_PHNUM</a> = 5,
<a name="l00265"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfad9217401fe9f1f402915db690e518d9a">00265</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfad9217401fe9f1f402915db690e518d9a">M5_AT_PAGESZ</a> = 6,
<a name="l00266"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa00ab549fcc593fcf98381b6618d79cbd">00266</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa00ab549fcc593fcf98381b6618d79cbd">M5_AT_BASE</a> = 7,
<a name="l00267"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa236ed705f52fa5d8f9a8872a789902d8">00267</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa236ed705f52fa5d8f9a8872a789902d8">M5_AT_FLAGS</a> = 8,
<a name="l00268"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfaad6c4ce5de60110ef1f81fb2f315b528">00268</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfaad6c4ce5de60110ef1f81fb2f315b528">M5_AT_ENTRY</a> = 9,
<a name="l00269"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfaae09ac2502058af4140aab2810a9cf43">00269</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfaae09ac2502058af4140aab2810a9cf43">M5_AT_NOTELF</a> = 10,
<a name="l00270"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa924c0e93cfd4b8002509b358c6c04555">00270</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa924c0e93cfd4b8002509b358c6c04555">M5_AT_UID</a> = 11,
<a name="l00271"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa16bf0fb87fec02522ea111b13d3a1fb9">00271</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa16bf0fb87fec02522ea111b13d3a1fb9">M5_AT_EUID</a> = 12,
<a name="l00272"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa1b1b1eef2bd1d8be57bbcb9fe79a0778">00272</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa1b1b1eef2bd1d8be57bbcb9fe79a0778">M5_AT_GID</a> = 13,
<a name="l00273"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa8e291f346b01d76424ea93ba72d8694e">00273</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa8e291f346b01d76424ea93ba72d8694e">M5_AT_EGID</a> = 14,
<a name="l00274"></a>00274         <span class="comment">// The following may be specific to Linux</span>
<a name="l00275"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfaacee8df1cb8a9ae0675e822af8fbcc6f">00275</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfaacee8df1cb8a9ae0675e822af8fbcc6f">M5_AT_PLATFORM</a> = 15,
<a name="l00276"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa68e3c69d816e44d54fd51b0987c74877">00276</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa68e3c69d816e44d54fd51b0987c74877">M5_AT_HWCAP</a> = 16,
<a name="l00277"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa80086189c689d4965a423f61fb3b714e">00277</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa80086189c689d4965a423f61fb3b714e">M5_AT_CLKTCK</a> = 17,
<a name="l00278"></a>00278 
<a name="l00279"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfab53f65dfc41a6262959e0d3c8c8f8b1f">00279</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfab53f65dfc41a6262959e0d3c8c8f8b1f">M5_AT_SECURE</a> = 23,
<a name="l00280"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfaa9f17ef6b837da040d8ac315d0e798f7">00280</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfaa9f17ef6b837da040d8ac315d0e798f7">M5_BASE_PLATFORM</a> = 24,
<a name="l00281"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfad27f7ccd80d95a43d44cd8481cb79561">00281</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfad27f7ccd80d95a43d44cd8481cb79561">M5_AT_RANDOM</a> = 25,
<a name="l00282"></a>00282 
<a name="l00283"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa83f8feca85ce9861c82a71669467d53e">00283</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa83f8feca85ce9861c82a71669467d53e">M5_AT_EXECFN</a> = 31,
<a name="l00284"></a>00284 
<a name="l00285"></a><a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa3ba6716fa4bab5a50c39ab71353a2edb">00285</a>         <a class="code" href="classLiveProcess.html#a2e8b25f71f4d9ed01230ed40a9e4c3bfa3ba6716fa4bab5a50c39ab71353a2edb">M5_AT_VECTOR_SIZE</a> = 44
<a name="l00286"></a>00286     };
<a name="l00287"></a>00287 
<a name="l00288"></a><a class="code" href="classLiveProcess.html#a0598f45ed6c8163bea27b1272cc58d00">00288</a>     <span class="keyword">inline</span> uint64_t <a class="code" href="classLiveProcess.html#a0598f45ed6c8163bea27b1272cc58d00">uid</a>() {<span class="keywordflow">return</span> <a class="code" href="classLiveProcess.html#af586af453143f27d551010e6aaca2b58">__uid</a>;}
<a name="l00289"></a><a class="code" href="classLiveProcess.html#a9c637763258a425b838ef320c0c4b190">00289</a>     <span class="keyword">inline</span> uint64_t <a class="code" href="classLiveProcess.html#a9c637763258a425b838ef320c0c4b190">euid</a>() {<span class="keywordflow">return</span> <a class="code" href="classLiveProcess.html#a593f7986d558c3175fc498d0202fe67d">__euid</a>;}
<a name="l00290"></a><a class="code" href="classLiveProcess.html#a17efe0eb21c53b4e72036f7517ce1b24">00290</a>     <span class="keyword">inline</span> uint64_t <a class="code" href="classLiveProcess.html#a17efe0eb21c53b4e72036f7517ce1b24">gid</a>() {<span class="keywordflow">return</span> <a class="code" href="classLiveProcess.html#a59607a3c9acfec11c97b7a0a892bde9a">__gid</a>;}
<a name="l00291"></a><a class="code" href="classLiveProcess.html#acab91efe7dc26e827e0d58beba4577d4">00291</a>     <span class="keyword">inline</span> uint64_t <a class="code" href="classLiveProcess.html#acab91efe7dc26e827e0d58beba4577d4">egid</a>() {<span class="keywordflow">return</span> <a class="code" href="classLiveProcess.html#ad4e7026c6987e607f81c85bc285f7d9a">__egid</a>;}
<a name="l00292"></a><a class="code" href="classLiveProcess.html#ae4eedd81c2b867a87e1bf23fab3308ae">00292</a>     <span class="keyword">inline</span> uint64_t <a class="code" href="classLiveProcess.html#ae4eedd81c2b867a87e1bf23fab3308ae">pid</a>() {<span class="keywordflow">return</span> <a class="code" href="classLiveProcess.html#ac917288bd31e114df2901ef06b748e5b">__pid</a>;}
<a name="l00293"></a><a class="code" href="classLiveProcess.html#ae2692d520e03dbdfb5ed814060320331">00293</a>     <span class="keyword">inline</span> uint64_t <a class="code" href="classLiveProcess.html#ae2692d520e03dbdfb5ed814060320331">ppid</a>() {<span class="keywordflow">return</span> <a class="code" href="classLiveProcess.html#aac16e46f2c7a0971b3e329acfc18748b">__ppid</a>;}
<a name="l00294"></a>00294 
<a name="l00295"></a>00295     <span class="comment">// provide program name for debug messages</span>
<a name="l00296"></a><a class="code" href="classLiveProcess.html#a8492e2bd769414695f6913880cd70319">00296</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classLiveProcess.html#a8492e2bd769414695f6913880cd70319">progName</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classLiveProcess.html#a1c72e30fdbbd90395f088fa24f6cf33f">argv</a>[0].c_str(); }
<a name="l00297"></a>00297 
<a name="l00298"></a>00298     std::string
<a name="l00299"></a><a class="code" href="classLiveProcess.html#a0543899d18fcb2c2e89fe67bbea3faed">00299</a>     <a class="code" href="classLiveProcess.html#a0543899d18fcb2c2e89fe67bbea3faed">fullPath</a>(<span class="keyword">const</span> std::string &amp;filename)
<a name="l00300"></a>00300     {
<a name="l00301"></a>00301         <span class="keywordflow">if</span> (filename[0] == <span class="charliteral">&#39;/&#39;</span> || <a class="code" href="classLiveProcess.html#ac7390bab63757bd047c4b4a727b992bb">cwd</a>.empty())
<a name="l00302"></a>00302             <span class="keywordflow">return</span> filename;
<a name="l00303"></a>00303 
<a name="l00304"></a>00304         std::string full = <a class="code" href="classLiveProcess.html#ac7390bab63757bd047c4b4a727b992bb">cwd</a>;
<a name="l00305"></a>00305 
<a name="l00306"></a>00306         <span class="keywordflow">if</span> (<a class="code" href="classLiveProcess.html#ac7390bab63757bd047c4b4a727b992bb">cwd</a>[<a class="code" href="classLiveProcess.html#ac7390bab63757bd047c4b4a727b992bb">cwd</a>.size() - 1] != <span class="charliteral">&#39;/&#39;</span>)
<a name="l00307"></a>00307             full += <span class="charliteral">&#39;/&#39;</span>;
<a name="l00308"></a>00308 
<a name="l00309"></a>00309         <span class="keywordflow">return</span> full + filename;
<a name="l00310"></a>00310     }
<a name="l00311"></a>00311 
<a name="l00312"></a><a class="code" href="classLiveProcess.html#a6b4a251a74e4b86e1c1771c3f03304f9">00312</a>     std::string <a class="code" href="classLiveProcess.html#a6b4a251a74e4b86e1c1771c3f03304f9">getcwd</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classLiveProcess.html#ac7390bab63757bd047c4b4a727b992bb">cwd</a>; }
<a name="l00313"></a>00313 
<a name="l00314"></a>00314     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classLiveProcess.html#a9583d6b45c88a19957951623d51882c3">syscall</a>(int64_t callnum, <a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside of the CPU...">ThreadContext</a> *tc);
<a name="l00315"></a>00315 
<a name="l00316"></a>00316     <span class="keyword">virtual</span> <a class="code" href="namespaceAlphaISA.html#ae185f053b1d897b270bee4cb348c742f">TheISA::IntReg</a> <a class="code" href="classLiveProcess.html#adcff8f792fa201809b3770ae603356be">getSyscallArg</a>(<a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside of the CPU...">ThreadContext</a> *tc, <span class="keywordtype">int</span> &amp;<a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a>) = 0;
<a name="l00317"></a>00317     <span class="keyword">virtual</span> <a class="code" href="namespaceAlphaISA.html#ae185f053b1d897b270bee4cb348c742f">TheISA::IntReg</a> <a class="code" href="classLiveProcess.html#adcff8f792fa201809b3770ae603356be">getSyscallArg</a>(<a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside of the CPU...">ThreadContext</a> *tc, <span class="keywordtype">int</span> &amp;<a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a>, <span class="keywordtype">int</span> width);
<a name="l00318"></a>00318     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classLiveProcess.html#a44f33dbea316b952824d5bab7e85d115">setSyscallArg</a>(<a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside of the CPU...">ThreadContext</a> *tc,
<a name="l00319"></a>00319             <span class="keywordtype">int</span> <a class="code" href="namespaceArmISA.html#a07402644ed55c19e1a116116c548c2ac">i</a>, <a class="code" href="namespaceAlphaISA.html#ae185f053b1d897b270bee4cb348c742f">TheISA::IntReg</a> <a class="code" href="namespaceX86ISA.html#ab4e00e23f8f36386f97d8abcccb17180">val</a>) = 0;
<a name="l00320"></a>00320     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classLiveProcess.html#ac5cfc788e57da8b270d74afc3239c8a4">setSyscallReturn</a>(<a class="code" href="classThreadContext.html" title="ThreadContext is the external interface to all thread state for anything outside of the CPU...">ThreadContext</a> *tc,
<a name="l00321"></a>00321             <a class="code" href="classSyscallReturn.html">SyscallReturn</a> return_value) = 0;
<a name="l00322"></a>00322 
<a name="l00323"></a>00323     <span class="keyword">virtual</span> <a class="code" href="classSyscallDesc.html" title="System call descriptor.">SyscallDesc</a> *<a class="code" href="classLiveProcess.html#ab63849dcd6026e9e5bec915fd3b09a84">getDesc</a>(<span class="keywordtype">int</span> callnum) = 0;
<a name="l00324"></a>00324 
<a name="l00325"></a>00325     <span class="comment">// this function is used to create the LiveProcess object, since</span>
<a name="l00326"></a>00326     <span class="comment">// we can&#39;t tell which subclass of LiveProcess to use until we</span>
<a name="l00327"></a>00327     <span class="comment">// open and look at the object file.</span>
<a name="l00328"></a>00328     <span class="keyword">static</span> <a class="code" href="classLiveProcess.html">LiveProcess</a> *<a class="code" href="classLiveProcess.html#ad3be42860e6ec80ed6a16a270b3f277f">create</a>(LiveProcessParams *<a class="code" href="classSimObject.html#a43d73d4e5a424c32210e0135eb8db59d">params</a>);
<a name="l00329"></a>00329 };
<a name="l00330"></a>00330 
<a name="l00331"></a>00331 
<a name="l00332"></a>00332 <span class="preprocessor">#endif // __PROCESS_HH__</span>
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"><address style="align: right;"><small>
Generated on Sun Apr 7 2013 18:15:53 for gem5 by <a href="http://www.doxygen.org/index.html"> doxygen</a> 1.7.1</small></address>

</body>
</html>
